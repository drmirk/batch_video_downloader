/* Permission is hereby granted to registered users of FeatureKicker.com & ListenLoop.com to use this Software, without rights to modify, merge, publish, distribute, sublicense, and/or sell copies of the Software, and to permit persons to whom the Software is furnished to do so.  By loading this file, you agree to the Customer Terms of Service at get.listenloop.com/customer-terms-of-service.  THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE. Updated: 04/24/2015.  (c) 2015 SR Solutions, Inc. */

!function(){"function"!=typeof Object.assign&&(Object.assign=function(e){"use strict"
if(null==e)throw new TypeError("Cannot convert undefined or null to object")
e=Object(e)
for(var t=1;t<arguments.length;t++){var n=arguments[t]
if(null!=n)for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e})}(),function(e){"use strict"
var t=function(e){var t,n
t=Array.prototype.forEach,n=Array.prototype.map,this.each=function(e,n,o){if(null!==e)if(t&&e.forEach===t)e.forEach(n,o)
else if(e.length===+e.length){for(var i=0,a=e.length;a>i;i++)if(n.call(o,e[i],i,e)==={})return}else for(var r in e)if(e.hasOwnProperty(r)&&n.call(o,e[r],r,e)==={})return},this.map=function(e,t,o){var i=[]
return null==e?i:n&&e.map===n?e.map(t,o):(this.each(e,function(e,n,a){i[i.length]=t.call(o,e,n,a)}),i)},"object"==typeof e?(this.hasher=e.hasher,this.screen_resolution=e.screen_resolution,this.canvas=e.canvas,this.ie_activex=e.ie_activex):"function"==typeof e&&(this.hasher=e)}
t.prototype={get:function(){var e=[]
if(e.push(navigator.userAgent),e.push(navigator.language),e.push(screen.colorDepth),this.screen_resolution){var t=this.getScreenResolution()
"undefined"!=typeof t&&e.push(this.getScreenResolution().join("x"))}return e.push((new Date).getTimezoneOffset()),e.push(this.hasSessionStorage()),e.push(this.hasLocalStorage()),e.push(!!window.indexedDB),e.push(typeof document.body.addBehavior),e.push(typeof window.openDatabase),e.push(navigator.cpuClass),e.push(navigator.platform),e.push(navigator.doNotTrack),e.push(this.getPluginsString()),this.canvas&&this.isCanvasSupported()&&e.push(this.getCanvasFingerprint()),this.hasher?this.hasher(e.join("###"),31):this.murmurhash3_32_gc(e.join("###"),31)},murmurhash3_32_gc:function(e,t){var n,o,i,a,r,s,l,c
for(n=3&e.length,o=e.length-n,i=t,r=3432918353,s=461845907,c=0;o>c;)l=255&e.charCodeAt(c)|(255&e.charCodeAt(++c))<<8|(255&e.charCodeAt(++c))<<16|(255&e.charCodeAt(++c))<<24,++c,l=(65535&l)*r+(((l>>>16)*r&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(65535&l)*s+(((l>>>16)*s&65535)<<16)&4294967295,i^=l,i=i<<13|i>>>19,a=5*(65535&i)+((5*(i>>>16)&65535)<<16)&4294967295,i=(65535&a)+27492+(((a>>>16)+58964&65535)<<16)
switch(l=0,n){case 3:l^=(255&e.charCodeAt(c+2))<<16
case 2:l^=(255&e.charCodeAt(c+1))<<8
case 1:l^=255&e.charCodeAt(c),l=(65535&l)*r+(((l>>>16)*r&65535)<<16)&4294967295,l=l<<15|l>>>17,l=(65535&l)*s+(((l>>>16)*s&65535)<<16)&4294967295,i^=l}return i^=e.length,i^=i>>>16,i=2246822507*(65535&i)+((2246822507*(i>>>16)&65535)<<16)&4294967295,i^=i>>>13,i=3266489909*(65535&i)+((3266489909*(i>>>16)&65535)<<16)&4294967295,i^=i>>>16,i>>>0},hasLocalStorage:function(){try{return!!e.localStorage}catch(t){return!0}},hasSessionStorage:function(){try{return!!e.sessionStorage}catch(t){return!0}},isCanvasSupported:function(){var e=document.createElement("canvas")
return!(!e.getContext||!e.getContext("2d"))},isIE:function(){return"Microsoft Internet Explorer"===navigator.appName?!0:"Netscape"===navigator.appName&&/Trident/.test(navigator.userAgent)?!0:!1},getPluginsString:function(){return this.isIE()?this.getIEPluginsString():this.getRegularPluginsString()},getRegularPluginsString:function(){return this.map(navigator.plugins,function(e){var t=this.map(e,function(e){return[e.type,e.suffixes].join("~")}).join(",")
return[e.name,e.description,t].join("::")},this).join(";")},getIEPluginsString:function(){var t=["ShockwaveFlash.ShockwaveFlash","AcroPDF.PDF","PDF.PdfCtrl","QuickTime.QuickTime","rmocx.RealPlayer G2 Control","rmocx.RealPlayer G2 Control.1","RealPlayer.RealPlayer(tm) ActiveX Control (32-bit)","RealVideo.RealVideo(tm) ActiveX Control (32-bit)","RealPlayer","SWCtl.SWCtl","WMPlayer.OCX","AgControl.AgControl","Skype.Detection"]
return this.ie_activex&&e.ActiveXObject?this.map(t,function(e){try{return new ActiveXObject(e),e}catch(t){return null}}).join(";"):""},getScreenResolution:function(){return[screen.height,screen.width]},getCanvasFingerprint:function(){var e=document.createElement("canvas"),t=e.getContext("2d"),n="http://valve.github.io"
return t.textBaseline="top",t.font="14px 'Arial'",t.textBaseline="alphabetic",t.fillStyle="#f60",t.fillRect(125,1,62,20),t.fillStyle="#069",t.fillText(n,2,15),t.fillStyle="rgba(102, 204, 0, 0.7)",t.fillText(n,4,17),e.toDataURL()}},"object"==typeof module&&"object"==typeof exports&&(module.exports=t),e.FkFingerprint=t}(window),function(e,t){function n(e){var t=e.length,n=de.type(e)
return de.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===n||"function"!==n&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function o(e){var t=Ce[e]={}
return de.each(e.match(fe)||[],function(e,n){t[n]=!0}),t}function i(e,n,o,i){if(de.acceptData(e)){var a,r,s=de.expando,l=e.nodeType,c=l?de.cache:e,d=l?e[s]:e[s]&&s
if(d&&c[d]&&(i||c[d].data)||o!==t||"string"!=typeof n)return d||(d=l?e[s]=te.pop()||de.guid++:s),c[d]||(c[d]=l?{}:{toJSON:de.noop}),("object"==typeof n||"function"==typeof n)&&(i?c[d]=de.extend(c[d],n):c[d].data=de.extend(c[d].data,n)),r=c[d],i||(r.data||(r.data={}),r=r.data),o!==t&&(r[de.camelCase(n)]=o),"string"==typeof n?(a=r[n],null==a&&(a=r[de.camelCase(n)])):a=r,a}}function a(e,t,n){if(de.acceptData(e)){var o,i,a=e.nodeType,r=a?de.cache:e,l=a?e[de.expando]:de.expando
if(r[l]){if(t&&(o=n?r[l]:r[l].data)){de.isArray(t)?t=t.concat(de.map(t,de.camelCase)):t in o?t=[t]:(t=de.camelCase(t),t=t in o?[t]:t.split(" ")),i=t.length
for(;i--;)delete o[t[i]]
if(n?!s(o):!de.isEmptyObject(o))return}(n||(delete r[l].data,s(r[l])))&&(a?de.cleanData([e],!0):de.support.deleteExpando||r!=r.window?delete r[l]:r[l]=null)}}}function r(e,n,o){if(o===t&&1===e.nodeType){var i="data-"+n.replace(Ee,"-$1").toLowerCase()
if(o=e.getAttribute(i),"string"==typeof o){try{o="true"===o?!0:"false"===o?!1:"null"===o?null:+o+""===o?+o:Se.test(o)?de.parseJSON(o):o}catch(a){}de.data(e,n,o)}else o=t}return o}function s(e){var t
for(t in e)if(("data"!==t||!de.isEmptyObject(e[t]))&&"toJSON"!==t)return!1
return!0}function l(){return!0}function c(){return!1}function d(){try{return Y.activeElement}catch(e){}}function u(e,t){do e=e[t]
while(e&&1!==e.nodeType)
return e}function f(e,t,n){if(de.isFunction(t))return de.grep(e,function(e,o){return!!t.call(e,o,e)!==n})
if(t.nodeType)return de.grep(e,function(e){return e===t!==n})
if("string"==typeof t){if(Ue.test(t))return de.filter(t,e,n)
t=de.filter(t,e)}return de.grep(e,function(e){return de.inArray(e,t)>=0!==n})}function p(e){var t=Ve.split("|"),n=e.createDocumentFragment()
if(n.createElement)for(;t.length;)n.createElement(t.pop())
return n}function h(e,t){return de.nodeName(e,"table")&&de.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e}function g(e){return e.type=(null!==de.find.attr(e,"type"))+"/"+e.type,e}function m(e){var t=it.exec(e.type)
return t?e.type=t[1]:e.removeAttribute("type"),e}function v(e,t){for(var n,o=0;null!=(n=e[o]);o++)de._data(n,"globalEval",!t||de._data(t[o],"globalEval"))}function y(e,t){if(1===t.nodeType&&de.hasData(e)){var n,o,i,a=de._data(e),r=de._data(t,a),s=a.events
if(s){delete r.handle,r.events={}
for(n in s)for(o=0,i=s[n].length;i>o;o++)de.event.add(t,n,s[n][o])}r.data&&(r.data=de.extend({},r.data))}}function b(e,t){var n,o,i
if(1===t.nodeType){if(n=t.nodeName.toLowerCase(),!de.support.noCloneEvent&&t[de.expando]){i=de._data(t)
for(o in i.events)de.removeEvent(t,o,i.handle)
t.removeAttribute(de.expando)}"script"===n&&t.text!==e.text?(g(t).text=e.text,m(t)):"object"===n?(t.parentNode&&(t.outerHTML=e.outerHTML),de.support.html5Clone&&e.innerHTML&&!de.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===n&&tt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===n?t.defaultSelected=t.selected=e.defaultSelected:("input"===n||"textarea"===n)&&(t.defaultValue=e.defaultValue)}}function k(e,n){var o,i,a=0,r=typeof e.getElementsByTagName!==G?e.getElementsByTagName(n||"*"):typeof e.querySelectorAll!==G?e.querySelectorAll(n||"*"):t
if(!r)for(r=[],o=e.childNodes||e;null!=(i=o[a]);a++)!n||de.nodeName(i,n)?r.push(i):de.merge(r,k(i,n))
return n===t||n&&de.nodeName(e,n)?de.merge([e],r):r}function w(e){tt.test(e.type)&&(e.defaultChecked=e.checked)}function x(e,t){if(t in e)return t
for(var n=t.charAt(0).toUpperCase()+t.slice(1),o=t,i=Tt.length;i--;)if(t=Tt[i]+n,t in e)return t
return o}function _(e,t){return e=t||e,"none"===de.css(e,"display")||!de.contains(e.ownerDocument,e)}function T(e,t){for(var n,o,i,a=[],r=0,s=e.length;s>r;r++)o=e[r],o.style&&(a[r]=de._data(o,"olddisplay"),n=o.style.display,t?(a[r]||"none"!==n||(o.style.display=""),""===o.style.display&&_(o)&&(a[r]=de._data(o,"olddisplay",N(o.nodeName)))):a[r]||(i=_(o),(n&&"none"!==n||!i)&&de._data(o,"olddisplay",i?n:de.css(o,"display"))))
for(r=0;s>r;r++)o=e[r],o.style&&(t&&"none"!==o.style.display&&""!==o.style.display||(o.style.display=t?a[r]||"":"none"))
return e}function C(e,t,n){var o=vt.exec(t)
return o?Math.max(0,o[1]-(n||0))+(o[2]||"px"):t}function S(e,t,n,o,i){for(var a=n===(o?"border":"content")?4:"width"===t?1:0,r=0;4>a;a+=2)"margin"===n&&(r+=de.css(e,n+_t[a],!0,i)),o?("content"===n&&(r-=de.css(e,"padding"+_t[a],!0,i)),"margin"!==n&&(r-=de.css(e,"border"+_t[a]+"Width",!0,i))):(r+=de.css(e,"padding"+_t[a],!0,i),"padding"!==n&&(r+=de.css(e,"border"+_t[a]+"Width",!0,i)))
return r}function E(e,t,n){var o=!0,i="width"===t?e.offsetWidth:e.offsetHeight,a=dt(e),r=de.support.boxSizing&&"border-box"===de.css(e,"boxSizing",!1,a)
if(0>=i||null==i){if(i=ut(e,t,a),(0>i||null==i)&&(i=e.style[t]),yt.test(i))return i
o=r&&(de.support.boxSizingReliable||i===e.style[t]),i=parseFloat(i)||0}return i+S(e,t,n||(r?"border":"content"),o,a)+"px"}function N(e){var t=Y,n=kt[e]
return n||(n=I(e,t),"none"!==n&&n||(ct=(ct||de("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(ct[0].contentWindow||ct[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),n=I(e,t),ct.detach()),kt[e]=n),n}function I(e,t){var n=de(t.createElement(e)).appendTo(t.body),o=de.css(n[0],"display")
return n.remove(),o}function O(e,t,n,o){var i
if(de.isArray(t))de.each(t,function(t,i){n||St.test(e)?o(e,i):O(e+"["+("object"==typeof i?t:"")+"]",i,n,o)})
else if(n||"object"!==de.type(t))o(e,t)
else for(i in t)O(e+"["+i+"]",t[i],n,o)}function A(e){return function(t,n){"string"!=typeof t&&(n=t,t="*")
var o,i=0,a=t.toLowerCase().match(fe)||[]
if(de.isFunction(n))for(;o=a[i++];)"+"===o[0]?(o=o.slice(1)||"*",(e[o]=e[o]||[]).unshift(n)):(e[o]=e[o]||[]).push(n)}}function R(e,t,n,o){function i(s){var l
return a[s]=!0,de.each(e[s]||[],function(e,s){var c=s(t,n,o)
return"string"!=typeof c||r||a[c]?r?!(l=c):void 0:(t.dataTypes.unshift(c),i(c),!1)}),l}var a={},r=e===Wt
return i(t.dataTypes[0])||!a["*"]&&i("*")}function D(e,n){var o,i,a=de.ajaxSettings.flatOptions||{}
for(i in n)n[i]!==t&&((a[i]?e:o||(o={}))[i]=n[i])
return o&&de.extend(!0,e,o),e}function j(e,n,o){for(var i,a,r,s,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),a===t&&(a=e.mimeType||n.getResponseHeader("Content-Type"))
if(a)for(s in l)if(l[s]&&l[s].test(a)){c.unshift(s)
break}if(c[0]in o)r=c[0]
else{for(s in o){if(!c[0]||e.converters[s+" "+c[0]]){r=s
break}i||(i=s)}r=r||i}return r?(r!==c[0]&&c.unshift(r),o[r]):void 0}function L(e,t,n,o){var i,a,r,s,l,c={},d=e.dataTypes.slice()
if(d[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r]
for(a=d.shift();a;)if(e.responseFields[a]&&(n[e.responseFields[a]]=t),!l&&o&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=a,a=d.shift())if("*"===a)a=l
else if("*"!==l&&l!==a){if(r=c[l+" "+a]||c["* "+a],!r)for(i in c)if(s=i.split(" "),s[1]===a&&(r=c[l+" "+s[0]]||c["* "+s[0]])){r===!0?r=c[i]:c[i]!==!0&&(a=s[0],d.unshift(s[1]))
break}if(r!==!0)if(r&&e["throws"])t=r(t)
else try{t=r(t)}catch(u){return{state:"parsererror",error:r?u:"No conversion from "+l+" to "+a}}}return{state:"success",data:t}}function H(){try{return new e.XMLHttpRequest}catch(t){}}function M(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function P(){return setTimeout(function(){Kt=t}),Kt=de.now()}function z(e,t,n){for(var o,i=(an[t]||[]).concat(an["*"]),a=0,r=i.length;r>a;a++)if(o=i[a].call(n,t,e))return o}function F(e,t,n){var o,i,a=0,r=on.length,s=de.Deferred().always(function(){delete l.elem}),l=function(){if(i)return!1
for(var t=Kt||P(),n=Math.max(0,c.startTime+c.duration-t),o=n/c.duration||0,a=1-o,r=0,l=c.tweens.length;l>r;r++)c.tweens[r].run(a)
return s.notifyWith(e,[c,a,n]),1>a&&l?n:(s.resolveWith(e,[c]),!1)},c=s.promise({elem:e,props:de.extend({},t),opts:de.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:Kt||P(),duration:n.duration,tweens:[],createTween:function(t,n){var o=de.Tween(e,c.opts,t,n,c.opts.specialEasing[t]||c.opts.easing)
return c.tweens.push(o),o},stop:function(t){var n=0,o=t?c.tweens.length:0
if(i)return this
for(i=!0;o>n;n++)c.tweens[n].run(1)
return t?s.resolveWith(e,[c,t]):s.rejectWith(e,[c,t]),this}}),d=c.props
for(q(d,c.opts.specialEasing);r>a;a++)if(o=on[a].call(c,e,d,c.opts))return o
return de.map(d,z,c),de.isFunction(c.opts.start)&&c.opts.start.call(e,c),de.fx.timer(de.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function q(e,t){var n,o,i,a,r
for(n in e)if(o=de.camelCase(n),i=t[o],a=e[n],de.isArray(a)&&(i=a[1],a=e[n]=a[0]),n!==o&&(e[o]=a,delete e[n]),r=de.cssHooks[o],r&&"expand"in r){a=r.expand(a),delete e[o]
for(n in a)n in e||(e[n]=a[n],t[n]=i)}else t[o]=i}function U(e,t,n){var o,i,a,r,s,l,c=this,d={},u=e.style,f=e.nodeType&&_(e),p=de._data(e,"fxshow")
n.queue||(s=de._queueHooks(e,"fx"),null==s.unqueued&&(s.unqueued=0,l=s.empty.fire,s.empty.fire=function(){s.unqueued||l()}),s.unqueued++,c.always(function(){c.always(function(){s.unqueued--,de.queue(e,"fx").length||s.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(n.overflow=[u.overflow,u.overflowX,u.overflowY],"inline"===de.css(e,"display")&&"none"===de.css(e,"float")&&(de.support.inlineBlockNeedsLayout&&"inline"!==N(e.nodeName)?u.zoom=1:u.display="inline-block")),n.overflow&&(u.overflow="hidden",de.support.shrinkWrapBlocks||c.always(function(){u.overflow=n.overflow[0],u.overflowX=n.overflow[1],u.overflowY=n.overflow[2]}))
for(o in t)if(i=t[o],en.exec(i)){if(delete t[o],a=a||"toggle"===i,i===(f?"hide":"show"))continue
d[o]=p&&p[o]||de.style(e,o)}if(!de.isEmptyObject(d)){p?"hidden"in p&&(f=p.hidden):p=de._data(e,"fxshow",{}),a&&(p.hidden=!f),f?de(e).show():c.done(function(){de(e).hide()}),c.done(function(){var t
de._removeData(e,"fxshow")
for(t in d)de.style(e,t,d[t])})
for(o in d)r=z(f?p[o]:0,o,c),o in p||(p[o]=r.start,f&&(r.end=r.start,r.start="width"===o||"height"===o?1:0))}}function W(e,t,n,o,i){return new W.prototype.init(e,t,n,o,i)}function B(e,t){var n,o={height:e},i=0
for(t=t?1:0;4>i;i+=2-t)n=_t[i],o["margin"+n]=o["padding"+n]=e
return t&&(o.opacity=o.width=e),o}function $(e){return de.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var V,X,G=typeof t,J=e.location,Y=e.document,Q=Y.documentElement,K=e.jQuery,Z=e.$,ee={},te=[],ne="1.10.0",oe=te.concat,ie=te.push,ae=te.slice,re=te.indexOf,se=ee.toString,le=ee.hasOwnProperty,ce=ne.trim,de=function(e,t){return new de.fn.init(e,t,X)},ue=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,fe=/\S+/g,pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,he=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,ge=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,me=/^[\],:{}\s]*$/,ve=/(?:^|:|,)(?:\s*\[)+/g,ye=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,be=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,ke=/^-ms-/,we=/-([\da-z])/gi,xe=function(e,t){return t.toUpperCase()},_e=function(e){(Y.addEventListener||"load"===e.type||"complete"===Y.readyState)&&(Te(),de.ready())},Te=function(){Y.addEventListener?(Y.removeEventListener("DOMContentLoaded",_e,!1),e.removeEventListener("load",_e,!1)):(Y.detachEvent("onreadystatechange",_e),e.detachEvent("onload",_e))}
de.fn=de.prototype={jquery:ne,constructor:de,init:function(e,n,o){var i,a
if(!e)return this
if("string"==typeof e){if(i="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:he.exec(e),!i||!i[1]&&n)return!n||n.jquery?(n||o).find(e):this.constructor(n).find(e)
if(i[1]){if(n=n instanceof de?n[0]:n,de.merge(this,de.parseHTML(i[1],n&&n.nodeType?n.ownerDocument||n:Y,!0)),ge.test(i[1])&&de.isPlainObject(n))for(i in n)de.isFunction(this[i])?this[i](n[i]):this.attr(i,n[i])
return this}if(a=Y.getElementById(i[2]),a&&a.parentNode){if(a.id!==i[2])return o.find(e)
this.length=1,this[0]=a}return this.context=Y,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):de.isFunction(e)?o.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),de.makeArray(e,this))},selector:"",length:0,toArray:function(){return ae.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=de.merge(this.constructor(),e)
return t.prevObject=this,t.context=this.context,t},each:function(e,t){return de.each(this,e,t)},ready:function(e){return de.ready.promise().done(e),this},slice:function(){return this.pushStack(ae.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,n=+e+(0>e?t:0)
return this.pushStack(n>=0&&t>n?[this[n]]:[])},map:function(e){return this.pushStack(de.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:ie,sort:[].sort,splice:[].splice},de.fn.init.prototype=de.fn,de.extend=de.fn.extend=function(){var e,n,o,i,a,r,s=arguments[0]||{},l=1,c=arguments.length,d=!1
for("boolean"==typeof s&&(d=s,s=arguments[1]||{},l=2),"object"==typeof s||de.isFunction(s)||(s={}),c===l&&(s=this,--l);c>l;l++)if(null!=(a=arguments[l]))for(i in a)e=s[i],o=a[i],s!==o&&(d&&o&&(de.isPlainObject(o)||(n=de.isArray(o)))?(n?(n=!1,r=e&&de.isArray(e)?e:[]):r=e&&de.isPlainObject(e)?e:{},s[i]=de.extend(d,r,o)):o!==t&&(s[i]=o))
return s},de.extend({expando:"jQuery"+(ne+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===de&&(e.$=Z),t&&e.jQuery===de&&(e.jQuery=K),de},isReady:!1,readyWait:1,holdReady:function(e){e?de.readyWait++:de.ready(!0)},ready:function(e){if(e===!0?!--de.readyWait:!de.isReady){if(!Y.body)return setTimeout(de.ready)
de.isReady=!0,e!==!0&&--de.readyWait>0||(V.resolveWith(Y,[de]),de.fn.trigger&&de(Y).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===de.type(e)},isArray:Array.isArray||function(e){return"array"===de.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?String(e):"object"==typeof e||"function"==typeof e?ee[se.call(e)]||"object":typeof e},isPlainObject:function(e){var n
if(!e||"object"!==de.type(e)||e.nodeType||de.isWindow(e))return!1
try{if(e.constructor&&!le.call(e,"constructor")&&!le.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(o){return!1}if(de.support.ownLast)for(n in e)return le.call(e,n)
for(n in e);return n===t||le.call(e,n)},isEmptyObject:function(e){var t
for(t in e)return!1
return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){if(!e||"string"!=typeof e)return null
"boolean"==typeof t&&(n=t,t=!1),t=t||Y
var o=ge.exec(e),i=!n&&[]
return o?[t.createElement(o[1])]:(o=de.buildFragment([e],t,i),i&&de(i).remove(),de.merge([],o.childNodes))},parseJSON:function(t){return e.JSON&&e.JSON.parse?e.JSON.parse(t):null===t?t:"string"==typeof t&&(t=de.trim(t),t&&me.test(t.replace(ye,"@").replace(be,"]").replace(ve,"")))?new Function("return "+t)():void de.error("Invalid JSON: "+t)},parseXML:function(n){var o,i
if(!n||"string"!=typeof n)return null
try{e.DOMParser?(i=new DOMParser,o=i.parseFromString(n,"text/xml")):(o=new ActiveXObject("Microsoft.XMLDOM"),o.async="false",o.loadXML(n))}catch(a){o=t}return o&&o.documentElement&&!o.getElementsByTagName("parsererror").length||de.error("Invalid XML: "+n),o},noop:function(){},globalEval:function(t){t&&de.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(ke,"ms-").replace(we,xe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,o){var i,a=0,r=e.length,s=n(e)
if(o){if(s)for(;r>a&&(i=t.apply(e[a],o),i!==!1);a++);else for(a in e)if(i=t.apply(e[a],o),i===!1)break}else if(s)for(;r>a&&(i=t.call(e[a],a,e[a]),i!==!1);a++);else for(a in e)if(i=t.call(e[a],a,e[a]),i===!1)break
return e},trim:ce&&!ce.call("\ufeff ")?function(e){return null==e?"":ce.call(e)}:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){var o=t||[]
return null!=e&&(n(Object(e))?de.merge(o,"string"==typeof e?[e]:e):ie.call(o,e)),o},inArray:function(e,t,n){var o
if(t){if(re)return re.call(t,e,n)
for(o=t.length,n=n?0>n?Math.max(0,o+n):n:0;o>n;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var o=n.length,i=e.length,a=0
if("number"==typeof o)for(;o>a;a++)e[i++]=n[a]
else for(;n[a]!==t;)e[i++]=n[a++]
return e.length=i,e},grep:function(e,t,n){var o,i=[],a=0,r=e.length
for(n=!!n;r>a;a++)o=!!t(e[a],a),n!==o&&i.push(e[a])
return i},map:function(e,t,o){var i,a=0,r=e.length,s=n(e),l=[]
if(s)for(;r>a;a++)i=t(e[a],a,o),null!=i&&(l[l.length]=i)
else for(a in e)i=t(e[a],a,o),null!=i&&(l[l.length]=i)
return oe.apply([],l)},guid:1,proxy:function(e,n){var o,i,a
return"string"==typeof n&&(a=e[n],n=e,e=a),de.isFunction(e)?(o=ae.call(arguments,2),i=function(){return e.apply(n||this,o.concat(ae.call(arguments)))},i.guid=e.guid=e.guid||de.guid++,i):t},access:function(e,n,o,i,a,r,s){var l=0,c=e.length,d=null==o
if("object"===de.type(o)){a=!0
for(l in o)de.access(e,n,l,o[l],!0,r,s)}else if(i!==t&&(a=!0,de.isFunction(i)||(s=!0),d&&(s?(n.call(e,i),n=null):(d=n,n=function(e,t,n){return d.call(de(e),n)})),n))for(;c>l;l++)n(e[l],o,s?i:i.call(e[l],l,n(e[l],o)))
return a?e:d?n.call(e):c?n(e[0],o):r},now:function(){return(new Date).getTime()},swap:function(e,t,n,o){var i,a,r={}
for(a in t)r[a]=e.style[a],e.style[a]=t[a]
i=n.apply(e,o||[])
for(a in t)e.style[a]=r[a]
return i}}),de.ready.promise=function(t){if(!V)if(V=de.Deferred(),"complete"===Y.readyState)setTimeout(de.ready)
else if(Y.addEventListener)Y.addEventListener("DOMContentLoaded",_e,!1),e.addEventListener("load",_e,!1)
else{Y.attachEvent("onreadystatechange",_e),e.attachEvent("onload",_e)
var n=!1
try{n=null==e.frameElement&&Y.documentElement}catch(o){}n&&n.doScroll&&!function i(){if(!de.isReady){try{n.doScroll("left")}catch(e){return setTimeout(i,50)}Te(),de.ready()}}()}return V.promise(t)},de.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()}),X=de(Y),function(e,t){function n(e,t,n,o){var i,a,r,s,l,c,d,u,f,p
if((t?t.ownerDocument||t:B)!==H&&L(t),t=t||H,n=n||[],!e||"string"!=typeof e)return n
if(1!==(s=t.nodeType)&&9!==s)return[]
if(P&&!o){if(i=_e.exec(e))if(r=i[1]){if(9===s){if(a=t.getElementById(r),!a||!a.parentNode)return n
if(a.id===r)return n.push(a),n}else if(t.ownerDocument&&(a=t.ownerDocument.getElementById(r))&&U(t,a)&&a.id===r)return n.push(a),n}else{if(i[2])return ie.apply(n,t.getElementsByTagName(e)),n
if((r=i[3])&&E.getElementsByClassName&&t.getElementsByClassName)return ie.apply(n,t.getElementsByClassName(r)),n}if(E.qsa&&(!z||!z.test(e))){if(u=d=W,f=t,p=9===s&&e,1===s&&"object"!==t.nodeName.toLowerCase()){for(c=g(e),(d=t.getAttribute("id"))?u=d.replace(Se,"\\$&"):t.setAttribute("id",u),u="[id='"+u+"'] ",l=c.length;l--;)c[l]=u+m(c[l])
f=ve.test(e)&&t.parentNode||t,p=c.join(",")}if(p)try{return ie.apply(n,f.querySelectorAll(p)),n}catch(h){}finally{d||t.removeAttribute("id")}}}return T(e.replace(he,"$1"),t,n,o)}function o(e){return xe.test(e+"")}function i(){function e(n,o){return t.push(n+=" ")>I.cacheLength&&delete e[t.shift()],e[n]=o}var t=[]
return e}function a(e){return e[W]=!0,e}function r(e){var t=H.createElement("div")
try{return!!e(t)}catch(n){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function s(e,t,n){e=e.split("|")
for(var o,i=e.length,a=n?null:t;i--;)(o=I.attrHandle[e[i]])&&o!==t||(I.attrHandle[e[i]]=a)}function l(e,t){var n=e.getAttributeNode(t)
return n&&n.specified?n.value:e[t]===!0?t.toLowerCase():null}function c(e,t){return e.getAttribute(t,"type"===t.toLowerCase()?1:2)}function d(e){return"input"===e.nodeName.toLowerCase()?e.defaultValue:void 0}function u(e,t){var n=t&&e,o=n&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Z)-(~e.sourceIndex||Z)
if(o)return o
if(n)for(;n=n.nextSibling;)if(n===t)return-1
return e?1:-1}function f(e){return function(t){var n=t.nodeName.toLowerCase()
return"input"===n&&t.type===e}}function p(e){return function(t){var n=t.nodeName.toLowerCase()
return("input"===n||"button"===n)&&t.type===e}}function h(e){return a(function(t){return t=+t,a(function(n,o){for(var i,a=e([],n.length,t),r=a.length;r--;)n[i=a[r]]&&(n[i]=!(o[i]=n[i]))})})}function g(e,t){var o,i,a,r,s,l,c,d=G[e+" "]
if(d)return t?0:d.slice(0)
for(s=e,l=[],c=I.preFilter;s;){(!o||(i=ge.exec(s)))&&(i&&(s=s.slice(i[0].length)||s),l.push(a=[])),o=!1,(i=me.exec(s))&&(o=i.shift(),a.push({value:o,type:i[0].replace(he," ")}),s=s.slice(o.length))
for(r in I.filter)!(i=we[r].exec(s))||c[r]&&!(i=c[r](i))||(o=i.shift(),a.push({value:o,type:r,matches:i}),s=s.slice(o.length))
if(!o)break}return t?s.length:s?n.error(e):G(e,l).slice(0)}function m(e){for(var t=0,n=e.length,o="";n>t;t++)o+=e[t].value
return o}function v(e,t,n){var o=t.dir,i=n&&"parentNode"===o,a=V++
return t.first?function(t,n,a){for(;t=t[o];)if(1===t.nodeType||i)return e(t,n,a)}:function(t,n,r){var s,l,c,d=$+" "+a
if(r){for(;t=t[o];)if((1===t.nodeType||i)&&e(t,n,r))return!0}else for(;t=t[o];)if(1===t.nodeType||i)if(c=t[W]||(t[W]={}),(l=c[o])&&l[0]===d){if((s=l[1])===!0||s===N)return s===!0}else if(l=c[o]=[d],l[1]=e(t,n,r)||N,l[1]===!0)return!0}}function y(e){return e.length>1?function(t,n,o){for(var i=e.length;i--;)if(!e[i](t,n,o))return!1
return!0}:e[0]}function b(e,t,n,o,i){for(var a,r=[],s=0,l=e.length,c=null!=t;l>s;s++)(a=e[s])&&(!n||n(a,o,i))&&(r.push(a),c&&t.push(s))
return r}function k(e,t,n,o,i,r){return o&&!o[W]&&(o=k(o)),i&&!i[W]&&(i=k(i,r)),a(function(a,r,s,l){var c,d,u,f=[],p=[],h=r.length,g=a||_(t||"*",s.nodeType?[s]:s,[]),m=!e||!a&&t?g:b(g,f,e,s,l),v=n?i||(a?e:h||o)?[]:r:m
if(n&&n(m,v,s,l),o)for(c=b(v,p),o(c,[],s,l),d=c.length;d--;)(u=c[d])&&(v[p[d]]=!(m[p[d]]=u))
if(a){if(i||e){if(i){for(c=[],d=v.length;d--;)(u=v[d])&&c.push(m[d]=u)
i(null,v=[],c,l)}for(d=v.length;d--;)(u=v[d])&&(c=i?re.call(a,u):f[d])>-1&&(a[c]=!(r[c]=u))}}else v=b(v===r?v.splice(h,v.length):v),i?i(null,r,v,l):ie.apply(r,v)})}function w(e){for(var t,n,o,i=e.length,a=I.relative[e[0].type],r=a||I.relative[" "],s=a?1:0,l=v(function(e){return e===t},r,!0),c=v(function(e){return re.call(t,e)>-1},r,!0),d=[function(e,n,o){return!a&&(o||n!==D)||((t=n).nodeType?l(e,n,o):c(e,n,o))}];i>s;s++)if(n=I.relative[e[s].type])d=[v(y(d),n)]
else{if(n=I.filter[e[s].type].apply(null,e[s].matches),n[W]){for(o=++s;i>o&&!I.relative[e[o].type];o++);return k(s>1&&y(d),s>1&&m(e.slice(0,s-1).concat({value:" "===e[s-2].type?"*":""})).replace(he,"$1"),n,o>s&&w(e.slice(s,o)),i>o&&w(e=e.slice(o)),i>o&&m(e))}d.push(n)}return y(d)}function x(e,t){var o=0,i=t.length>0,r=e.length>0,s=function(a,s,l,c,d){var u,f,p,h=[],g=0,m="0",v=a&&[],y=null!=d,k=D,w=a||r&&I.find.TAG("*",d&&s.parentNode||s),x=$+=null==k?1:Math.random()||.1
for(y&&(D=s!==H&&s,N=o);null!=(u=w[m]);m++){if(r&&u){for(f=0;p=e[f++];)if(p(u,s,l)){c.push(u)
break}y&&($=x,N=++o)}i&&((u=!p&&u)&&g--,a&&v.push(u))}if(g+=m,i&&m!==g){for(f=0;p=t[f++];)p(v,h,s,l)
if(a){if(g>0)for(;m--;)v[m]||h[m]||(h[m]=ne.call(c))
h=b(h)}ie.apply(c,h),y&&!a&&h.length>0&&g+t.length>1&&n.uniqueSort(c)}return y&&($=x,D=k),v}
return i?a(s):s}function _(e,t,o){for(var i=0,a=t.length;a>i;i++)n(e,t[i],o)
return o}function T(e,t,n,o){var i,a,r,s,l,c=g(e)
if(!o&&1===c.length){if(a=c[0]=c[0].slice(0),a.length>2&&"ID"===(r=a[0]).type&&E.getById&&9===t.nodeType&&P&&I.relative[a[1].type]){if(t=(I.find.ID(r.matches[0].replace(Ee,Ne),t)||[])[0],!t)return n
e=e.slice(a.shift().value.length)}for(i=we.needsContext.test(e)?0:a.length;i--&&(r=a[i],!I.relative[s=r.type]);)if((l=I.find[s])&&(o=l(r.matches[0].replace(Ee,Ne),ve.test(a[0].type)&&t.parentNode||t))){if(a.splice(i,1),e=o.length&&m(a),!e)return ie.apply(n,o),n
break}}return R(e,c)(o,t,!P,n,ve.test(e)),n}function C(){}var S,E,N,I,O,A,R,D,j,L,H,M,P,z,F,q,U,W="sizzle"+-new Date,B=e.document,$=0,V=0,X=i(),G=i(),J=i(),Y=!1,Q=function(){return 0},K=typeof t,Z=1<<31,ee={}.hasOwnProperty,te=[],ne=te.pop,oe=te.push,ie=te.push,ae=te.slice,re=te.indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(this[t]===e)return t
return-1},se="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",le="[\\x20\\t\\r\\n\\f]",ce="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ue=ce.replace("w","w#"),fe="\\["+le+"*("+ce+")"+le+"*(?:([*^$|!~]?=)"+le+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+ue+")|)|)"+le+"*\\]",pe=":("+ce+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+fe.replace(3,8)+")*)|.*)\\)|)",he=new RegExp("^"+le+"+|((?:^|[^\\\\])(?:\\\\.)*)"+le+"+$","g"),ge=new RegExp("^"+le+"*,"+le+"*"),me=new RegExp("^"+le+"*([>+~]|"+le+")"+le+"*"),ve=new RegExp(le+"*[+~]"),ye=new RegExp("="+le+"*([^\\]'\"]*)"+le+"*\\]","g"),be=new RegExp(pe),ke=new RegExp("^"+ue+"$"),we={ID:new RegExp("^#("+ce+")"),CLASS:new RegExp("^\\.("+ce+")"),TAG:new RegExp("^("+ce.replace("w","w*")+")"),ATTR:new RegExp("^"+fe),PSEUDO:new RegExp("^"+pe),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+le+"*(even|odd|(([+-]|)(\\d*)n|)"+le+"*(?:([+-]|)"+le+"*(\\d+)|))"+le+"*\\)|)","i"),bool:new RegExp("^(?:"+se+")$","i"),needsContext:new RegExp("^"+le+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+le+"*((?:-\\d)?\\d*)"+le+"*\\)|)(?=[^-]|$)","i")},xe=/^[^{]+\{\s*\[native \w/,_e=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,Te=/^(?:input|select|textarea|button)$/i,Ce=/^h\d$/i,Se=/'|\\/g,Ee=new RegExp("\\\\([\\da-f]{1,6}"+le+"?|("+le+")|.)","ig"),Ne=function(e,t,n){var o="0x"+t-65536
return o!==o||n?t:0>o?String.fromCharCode(o+65536):String.fromCharCode(o>>10|55296,1023&o|56320)}
try{ie.apply(te=ae.call(B.childNodes),B.childNodes),te[B.childNodes.length].nodeType}catch(Ie){ie={apply:te.length?function(e,t){oe.apply(e,ae.call(t))}:function(e,t){for(var n=e.length,o=0;e[n++]=t[o++];);e.length=n-1}}}A=n.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement
return t?"HTML"!==t.nodeName:!1},E=n.support={},L=n.setDocument=function(e){var t=e?e.ownerDocument||e:B
return t!==H&&9===t.nodeType&&t.documentElement?(H=t,M=t.documentElement,P=!A(t),E.attributes=r(function(e){return e.innerHTML="<a href='#'></a>",s("type|href|height|width",c,"#"===e.firstChild.getAttribute("href")),s(se,l,null==e.getAttribute("disabled")),e.className="i",!e.getAttribute("className")}),E.input=r(function(e){return e.innerHTML="<input>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")}),s("value",d,E.attributes&&E.input),E.getElementsByTagName=r(function(e){return e.appendChild(t.createComment("")),!e.getElementsByTagName("*").length}),E.getElementsByClassName=r(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),E.getById=r(function(e){return M.appendChild(e).id=W,!t.getElementsByName||!t.getElementsByName(W).length}),E.getById?(I.find.ID=function(e,t){if(typeof t.getElementById!==K&&P){var n=t.getElementById(e)
return n&&n.parentNode?[n]:[]}},I.filter.ID=function(e){var t=e.replace(Ee,Ne)
return function(e){return e.getAttribute("id")===t}}):(delete I.find.ID,I.filter.ID=function(e){var t=e.replace(Ee,Ne)
return function(e){var n=typeof e.getAttributeNode!==K&&e.getAttributeNode("id")
return n&&n.value===t}}),I.find.TAG=E.getElementsByTagName?function(e,t){return typeof t.getElementsByTagName!==K?t.getElementsByTagName(e):void 0}:function(e,t){var n,o=[],i=0,a=t.getElementsByTagName(e)
if("*"===e){for(;n=a[i++];)1===n.nodeType&&o.push(n)
return o}return a},I.find.CLASS=E.getElementsByClassName&&function(e,t){return typeof t.getElementsByClassName!==K&&P?t.getElementsByClassName(e):void 0},F=[],z=[],(E.qsa=o(t.querySelectorAll))&&(r(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||z.push("\\["+le+"*(?:value|"+se+")"),e.querySelectorAll(":checked").length||z.push(":checked")}),r(function(e){var n=t.createElement("input")
n.setAttribute("type","hidden"),e.appendChild(n).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&z.push("[*^$]="+le+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||z.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),z.push(",.*:")})),(E.matchesSelector=o(q=M.webkitMatchesSelector||M.mozMatchesSelector||M.oMatchesSelector||M.msMatchesSelector))&&r(function(e){E.disconnectedMatch=q.call(e,"div"),q.call(e,"[s!='']:x"),F.push("!=",pe)}),z=z.length&&new RegExp(z.join("|")),F=F.length&&new RegExp(F.join("|")),U=o(M.contains)||M.compareDocumentPosition?function(e,t){var n=9===e.nodeType?e.documentElement:e,o=t&&t.parentNode
return e===o||!(!o||1!==o.nodeType||!(n.contains?n.contains(o):e.compareDocumentPosition&&16&e.compareDocumentPosition(o)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0
return!1},E.sortDetached=r(function(e){return 1&e.compareDocumentPosition(t.createElement("div"))}),Q=M.compareDocumentPosition?function(e,n){if(e===n)return Y=!0,0
var o=n.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(n)
return o?1&o||!E.sortDetached&&n.compareDocumentPosition(e)===o?e===t||U(B,e)?-1:n===t||U(B,n)?1:j?re.call(j,e)-re.call(j,n):0:4&o?-1:1:e.compareDocumentPosition?-1:1}:function(e,n){var o,i=0,a=e.parentNode,r=n.parentNode,s=[e],l=[n]
if(e===n)return Y=!0,0
if(!a||!r)return e===t?-1:n===t?1:a?-1:r?1:j?re.call(j,e)-re.call(j,n):0
if(a===r)return u(e,n)
for(o=e;o=o.parentNode;)s.unshift(o)
for(o=n;o=o.parentNode;)l.unshift(o)
for(;s[i]===l[i];)i++
return i?u(s[i],l[i]):s[i]===B?-1:l[i]===B?1:0},t):H},n.matches=function(e,t){return n(e,null,null,t)},n.matchesSelector=function(e,t){if((e.ownerDocument||e)!==H&&L(e),t=t.replace(ye,"='$1']"),!(!E.matchesSelector||!P||F&&F.test(t)||z&&z.test(t)))try{var o=q.call(e,t)
if(o||E.disconnectedMatch||e.document&&11!==e.document.nodeType)return o}catch(i){}return n(t,H,null,[e]).length>0},n.contains=function(e,t){return(e.ownerDocument||e)!==H&&L(e),U(e,t)},n.attr=function(e,n){(e.ownerDocument||e)!==H&&L(e)
var o=I.attrHandle[n.toLowerCase()],i=o&&ee.call(I.attrHandle,n.toLowerCase())?o(e,n,!P):t
return i===t?E.attributes||!P?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null:i},n.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},n.uniqueSort=function(e){var t,n=[],o=0,i=0
if(Y=!E.detectDuplicates,j=!E.sortStable&&e.slice(0),e.sort(Q),Y){for(;t=e[i++];)t===e[i]&&(o=n.push(i))
for(;o--;)e.splice(n[o],1)}return e},O=n.getText=function(e){var t,n="",o=0,i=e.nodeType
if(i){if(1===i||9===i||11===i){if("string"==typeof e.textContent)return e.textContent
for(e=e.firstChild;e;e=e.nextSibling)n+=O(e)}else if(3===i||4===i)return e.nodeValue}else for(;t=e[o];o++)n+=O(t)
return n},I=n.selectors={cacheLength:50,createPseudo:a,match:we,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ee,Ne),e[3]=(e[4]||e[5]||"").replace(Ee,Ne),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||n.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&n.error(e[0]),e},PSEUDO:function(e){var n,o=!e[5]&&e[2]
return we.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:o&&be.test(o)&&(n=g(o,!0))&&(n=o.indexOf(")",o.length-n)-o.length)&&(e[0]=e[0].slice(0,n),e[2]=o.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ee,Ne).toLowerCase()
return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=X[e+" "]
return t||(t=new RegExp("(^|"+le+")"+e+"("+le+"|$)"))&&X(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==K&&e.getAttribute("class")||"")})},ATTR:function(e,t,o){return function(i){var a=n.attr(i,e)
return null==a?"!="===t:t?(a+="","="===t?a===o:"!="===t?a!==o:"^="===t?o&&0===a.indexOf(o):"*="===t?o&&a.indexOf(o)>-1:"$="===t?o&&a.slice(-o.length)===o:"~="===t?(" "+a+" ").indexOf(o)>-1:"|="===t?a===o||a.slice(0,o.length+1)===o+"-":!1):!0}},CHILD:function(e,t,n,o,i){var a="nth"!==e.slice(0,3),r="last"!==e.slice(-4),s="of-type"===t
return 1===o&&0===i?function(e){return!!e.parentNode}:function(t,n,l){var c,d,u,f,p,h,g=a!==r?"nextSibling":"previousSibling",m=t.parentNode,v=s&&t.nodeName.toLowerCase(),y=!l&&!s
if(m){if(a){for(;g;){for(u=t;u=u[g];)if(s?u.nodeName.toLowerCase()===v:1===u.nodeType)return!1
h=g="only"===e&&!h&&"nextSibling"}return!0}if(h=[r?m.firstChild:m.lastChild],r&&y){for(d=m[W]||(m[W]={}),c=d[e]||[],p=c[0]===$&&c[1],f=c[0]===$&&c[2],u=p&&m.childNodes[p];u=++p&&u&&u[g]||(f=p=0)||h.pop();)if(1===u.nodeType&&++f&&u===t){d[e]=[$,p,f]
break}}else if(y&&(c=(t[W]||(t[W]={}))[e])&&c[0]===$)f=c[1]
else for(;(u=++p&&u&&u[g]||(f=p=0)||h.pop())&&((s?u.nodeName.toLowerCase()!==v:1!==u.nodeType)||!++f||(y&&((u[W]||(u[W]={}))[e]=[$,f]),u!==t)););return f-=i,f===o||f%o===0&&f/o>=0}}},PSEUDO:function(e,t){var o,i=I.pseudos[e]||I.setFilters[e.toLowerCase()]||n.error("unsupported pseudo: "+e)
return i[W]?i(t):i.length>1?(o=[e,e,"",t],I.setFilters.hasOwnProperty(e.toLowerCase())?a(function(e,n){for(var o,a=i(e,t),r=a.length;r--;)o=re.call(e,a[r]),e[o]=!(n[o]=a[r])}):function(e){return i(e,0,o)}):i}},pseudos:{not:a(function(e){var t=[],n=[],o=R(e.replace(he,"$1"))
return o[W]?a(function(e,t,n,i){for(var a,r=o(e,null,i,[]),s=e.length;s--;)(a=r[s])&&(e[s]=!(t[s]=a))}):function(e,i,a){return t[0]=e,o(t,null,a,n),!n.pop()}}),has:a(function(e){return function(t){return n(e,t).length>0}}),contains:a(function(e){return function(t){return(t.textContent||t.innerText||O(t)).indexOf(e)>-1}}),lang:a(function(e){return ke.test(e||"")||n.error("unsupported lang: "+e),e=e.replace(Ee,Ne).toLowerCase(),function(t){var n
do if(n=P?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return n=n.toLowerCase(),n===e||0===n.indexOf(e+"-")
while((t=t.parentNode)&&1===t.nodeType)
return!1}}),target:function(t){var n=e.location&&e.location.hash
return n&&n.slice(1)===t.id},root:function(e){return e===M},focus:function(e){return e===H.activeElement&&(!H.hasFocus||H.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase()
return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1
return!0},parent:function(e){return!I.pseudos.empty(e)},header:function(e){return Ce.test(e.nodeName)},input:function(e){return Te.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase()
return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t
return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:h(function(){return[0]}),last:h(function(e,t){return[t-1]}),eq:h(function(e,t,n){return[0>n?n+t:n]}),even:h(function(e,t){for(var n=0;t>n;n+=2)e.push(n)
return e}),odd:h(function(e,t){for(var n=1;t>n;n+=2)e.push(n)
return e}),lt:h(function(e,t,n){for(var o=0>n?n+t:n;--o>=0;)e.push(o)
return e}),gt:h(function(e,t,n){for(var o=0>n?n+t:n;++o<t;)e.push(o)
return e})}}
for(S in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})I.pseudos[S]=f(S)
for(S in{submit:!0,reset:!0})I.pseudos[S]=p(S)
R=n.compile=function(e,t){var n,o=[],i=[],a=J[e+" "]
if(!a){for(t||(t=g(e)),n=t.length;n--;)a=w(t[n]),a[W]?o.push(a):i.push(a)
a=J(e,x(i,o))}return a},I.pseudos.nth=I.pseudos.eq,C.prototype=I.filters=I.pseudos,I.setFilters=new C,E.sortStable=W.split("").sort(Q).join("")===W,L(),[0,0].sort(Q),E.detectDuplicates=Y,de.find=n,de.expr=n.selectors,de.expr[":"]=de.expr.pseudos,de.unique=n.uniqueSort,de.text=n.getText,de.isXMLDoc=n.isXML,de.contains=n.contains}(e)
var Ce={}
de.Callbacks=function(e){e="string"==typeof e?Ce[e]||o(e):de.extend({},e)
var n,i,a,r,s,l,c=[],d=!e.once&&[],u=function(t){for(i=e.memory&&t,a=!0,s=l||0,l=0,r=c.length,n=!0;c&&r>s;s++)if(c[s].apply(t[0],t[1])===!1&&e.stopOnFalse){i=!1
break}n=!1,c&&(d?d.length&&u(d.shift()):i?c=[]:f.disable())},f={add:function(){if(c){var t=c.length
!function o(t){de.each(t,function(t,n){var i=de.type(n)
"function"===i?e.unique&&f.has(n)||c.push(n):n&&n.length&&"string"!==i&&o(n)})}(arguments),n?r=c.length:i&&(l=t,u(i))}return this},remove:function(){return c&&de.each(arguments,function(e,t){for(var o;(o=de.inArray(t,c,o))>-1;)c.splice(o,1),n&&(r>=o&&r--,s>=o&&s--)}),this},has:function(e){return e?de.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],r=0,this},disable:function(){return c=d=i=t,this},disabled:function(){return!c},lock:function(){return d=t,i||f.disable(),this},locked:function(){return!d},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],!c||a&&!d||(n?d.push(t):u(t)),this},fire:function(){return f.fireWith(this,arguments),this},fired:function(){return!!a}}
return f},de.extend({Deferred:function(e){var t=[["resolve","done",de.Callbacks("once memory"),"resolved"],["reject","fail",de.Callbacks("once memory"),"rejected"],["notify","progress",de.Callbacks("memory")]],n="pending",o={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments
return de.Deferred(function(n){de.each(t,function(t,a){var r=a[0],s=de.isFunction(e[t])&&e[t]
i[a[1]](function(){var e=s&&s.apply(this,arguments)
e&&de.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[r+"With"](this===o?n.promise():this,s?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?de.extend(e,o):o}},i={}
return o.pipe=o.then,de.each(t,function(e,a){var r=a[2],s=a[3]
o[a[1]]=r.add,s&&r.add(function(){n=s},t[1^e][2].disable,t[2][2].lock),i[a[0]]=function(){return i[a[0]+"With"](this===i?o:this,arguments),this},i[a[0]+"With"]=r.fireWith}),o.promise(i),e&&e.call(i,i),i},when:function(e){var t,n,o,i=0,a=ae.call(arguments),r=a.length,s=1!==r||e&&de.isFunction(e.promise)?r:0,l=1===s?e:de.Deferred(),c=function(e,n,o){return function(i){n[e]=this,o[e]=arguments.length>1?ae.call(arguments):i,o===t?l.notifyWith(n,o):--s||l.resolveWith(n,o)}}
if(r>1)for(t=new Array(r),n=new Array(r),o=new Array(r);r>i;i++)a[i]&&de.isFunction(a[i].promise)?a[i].promise().done(c(i,o,a)).fail(l.reject).progress(c(i,n,t)):--s
return s||l.resolveWith(o,a),l.promise()}}),de.support=function(t){var n,o,i,a,r,s,l,c,d,u=Y.createElement("div")
if(u.setAttribute("className","t"),u.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",n=u.getElementsByTagName("*")||[],o=u.getElementsByTagName("a")[0],!o||!o.style||!n.length)return t
a=Y.createElement("select"),s=a.appendChild(Y.createElement("option")),i=u.getElementsByTagName("input")[0],o.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==u.className,t.leadingWhitespace=3===u.firstChild.nodeType,t.tbody=!u.getElementsByTagName("tbody").length,t.htmlSerialize=!!u.getElementsByTagName("link").length,t.style=/top/.test(o.getAttribute("style")),t.hrefNormalized="/a"===o.getAttribute("href"),t.opacity=/^0.5/.test(o.style.opacity),t.cssFloat=!!o.style.cssFloat,t.checkOn=!!i.value,t.optSelected=s.selected,t.enctype=!!Y.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==Y.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,i.checked=!0,t.noCloneChecked=i.cloneNode(!0).checked,a.disabled=!0,t.optDisabled=!s.disabled
try{delete u.test}catch(f){t.deleteExpando=!1}i=Y.createElement("input"),i.setAttribute("value",""),t.input=""===i.getAttribute("value"),i.value="t",i.setAttribute("type","radio"),t.radioValue="t"===i.value,i.setAttribute("checked","t"),i.setAttribute("name","t"),r=Y.createDocumentFragment(),r.appendChild(i),t.appendChecked=i.checked,t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,u.attachEvent&&(u.attachEvent("onclick",function(){t.noCloneEvent=!1}),u.cloneNode(!0).click())
for(d in{submit:!0,change:!0,focusin:!0})u.setAttribute(l="on"+d,"t"),t[d+"Bubbles"]=l in e||u.attributes[l].expando===!1
u.style.backgroundClip="content-box",u.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===u.style.backgroundClip
for(d in de(t))break
return t.ownLast="0"!==d,de(function(){var n,o,i,a="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",r=Y.getElementsByTagName("body")[0]
r&&(n=Y.createElement("div"),n.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",r.appendChild(n).appendChild(u),u.innerHTML="<table><tr><td></td><td>t</td></tr></table>",i=u.getElementsByTagName("td"),i[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===i[0].offsetHeight,i[0].style.display="",i[1].style.display="none",t.reliableHiddenOffsets=c&&0===i[0].offsetHeight,u.innerHTML="",u.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",de.swap(r,null!=r.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===u.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(u,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(u,null)||{width:"4px"}).width,o=u.appendChild(Y.createElement("div")),o.style.cssText=u.style.cssText=a,o.style.marginRight=o.style.width="0",u.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),typeof u.style.zoom!==G&&(u.innerHTML="",u.style.cssText=a+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===u.offsetWidth,u.style.display="block",u.innerHTML="<div></div>",u.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==u.offsetWidth,t.inlineBlockNeedsLayout&&(r.style.zoom=1)),r.removeChild(n),n=u=i=o=null)}),n=a=r=s=o=i=null,t}({})
var Se=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Ee=/([A-Z])/g
de.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?de.cache[e[de.expando]]:e[de.expando],!!e&&!s(e)},data:function(e,t,n){return i(e,t,n)},removeData:function(e,t){return a(e,t)},_data:function(e,t,n){return i(e,t,n,!0)},_removeData:function(e,t){return a(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1
var t=e.nodeName&&de.noData[e.nodeName.toLowerCase()]
return!t||t!==!0&&e.getAttribute("classid")===t}}),de.fn.extend({data:function(e,n){var o,i,a=null,s=0,l=this[0]
if(e===t){if(this.length&&(a=de.data(l),1===l.nodeType&&!de._data(l,"parsedAttrs"))){for(o=l.attributes;s<o.length;s++)i=o[s].name,0===i.indexOf("data-")&&(i=de.camelCase(i.slice(5)),r(l,i,a[i]))
de._data(l,"parsedAttrs",!0)}return a}return"object"==typeof e?this.each(function(){de.data(this,e)}):arguments.length>1?this.each(function(){de.data(this,e,n)}):l?r(l,e,de.data(l,e)):null},removeData:function(e){return this.each(function(){de.removeData(this,e)})}}),de.extend({queue:function(e,t,n){var o
return e?(t=(t||"fx")+"queue",o=de._data(e,t),n&&(!o||de.isArray(n)?o=de._data(e,t,de.makeArray(n)):o.push(n)),o||[]):void 0},dequeue:function(e,t){t=t||"fx"
var n=de.queue(e,t),o=n.length,i=n.shift(),a=de._queueHooks(e,t),r=function(){de.dequeue(e,t)}
"inprogress"===i&&(i=n.shift(),o--),a.cur=i,i&&("fx"===t&&n.unshift("inprogress"),delete a.stop,i.call(e,r,a)),!o&&a&&a.empty.fire()},_queueHooks:function(e,t){var n=t+"queueHooks"
return de._data(e,n)||de._data(e,n,{empty:de.Callbacks("once memory").add(function(){de._removeData(e,t+"queue"),de._removeData(e,n)})})}}),de.fn.extend({queue:function(e,n){var o=2
return"string"!=typeof e&&(n=e,e="fx",o--),arguments.length<o?de.queue(this[0],e):n===t?this:this.each(function(){var t=de.queue(this,e,n)
de._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&de.dequeue(this,e)})},dequeue:function(e){return this.each(function(){de.dequeue(this,e)})},delay:function(e,t){return e=de.fx?de.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,n){var o=setTimeout(t,e)
n.stop=function(){clearTimeout(o)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,n){var o,i=1,a=de.Deferred(),r=this,s=this.length,l=function(){--i||a.resolveWith(r,[r])}
for("string"!=typeof e&&(n=e,e=t),e=e||"fx";s--;)o=de._data(r[s],e+"queueHooks"),o&&o.empty&&(i++,o.empty.add(l))
return l(),a.promise(n)}})
var Ne,Ie,Oe=/[\t\r\n\f]/g,Ae=/\r/g,Re=/^(?:input|select|textarea|button|object)$/i,De=/^(?:a|area)$/i,je=/^(?:checked|selected)$/i,Le=de.support.getSetAttribute,He=de.support.input
de.fn.extend({attr:function(e,t){return de.access(this,de.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){de.removeAttr(this,e)})},prop:function(e,t){return de.access(this,de.prop,e,t,arguments.length>1)},removeProp:function(e){return e=de.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,o,i,a,r=0,s=this.length,l="string"==typeof e&&e
if(de.isFunction(e))return this.each(function(t){de(this).addClass(e.call(this,t,this.className))})
if(l)for(t=(e||"").match(fe)||[];s>r;r++)if(n=this[r],o=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Oe," "):" ")){for(a=0;i=t[a++];)o.indexOf(" "+i+" ")<0&&(o+=i+" ")
n.className=de.trim(o)}return this},removeClass:function(e){var t,n,o,i,a,r=0,s=this.length,l=0===arguments.length||"string"==typeof e&&e
if(de.isFunction(e))return this.each(function(t){de(this).removeClass(e.call(this,t,this.className))})
if(l)for(t=(e||"").match(fe)||[];s>r;r++)if(n=this[r],o=1===n.nodeType&&(n.className?(" "+n.className+" ").replace(Oe," "):"")){for(a=0;i=t[a++];)for(;o.indexOf(" "+i+" ")>=0;)o=o.replace(" "+i+" "," ")
n.className=e?de.trim(o):""}return this},toggleClass:function(e,t){var n=typeof e,o="boolean"==typeof t
return this.each(de.isFunction(e)?function(n){de(this).toggleClass(e.call(this,n,this.className,t),t)}:function(){if("string"===n)for(var i,a=0,r=de(this),s=t,l=e.match(fe)||[];i=l[a++];)s=o?s:!r.hasClass(i),r[s?"addClass":"removeClass"](i)
else(n===G||"boolean"===n)&&(this.className&&de._data(this,"__className__",this.className),this.className=this.className||e===!1?"":de._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",n=0,o=this.length;o>n;n++)if(1===this[n].nodeType&&(" "+this[n].className+" ").replace(Oe," ").indexOf(t)>=0)return!0
return!1},val:function(e){var n,o,i,a=this[0]
{if(arguments.length)return i=de.isFunction(e),this.each(function(n){var a
1===this.nodeType&&(a=i?e.call(this,n,de(this).val()):e,null==a?a="":"number"==typeof a?a+="":de.isArray(a)&&(a=de.map(a,function(e){return null==e?"":e+""})),o=de.valHooks[this.type]||de.valHooks[this.nodeName.toLowerCase()],o&&"set"in o&&o.set(this,a,"value")!==t||(this.value=a))})
if(a)return o=de.valHooks[a.type]||de.valHooks[a.nodeName.toLowerCase()],o&&"get"in o&&(n=o.get(a,"value"))!==t?n:(n=a.value,"string"==typeof n?n.replace(Ae,""):null==n?"":n)}}}),de.extend({valHooks:{option:{get:function(e){var t=de.find.attr(e,"value")
return null!=t?t:e.text}},select:{get:function(e){for(var t,n,o=e.options,i=e.selectedIndex,a="select-one"===e.type||0>i,r=a?null:[],s=a?i+1:o.length,l=0>i?s:a?i:0;s>l;l++)if(n=o[l],!(!n.selected&&l!==i||(de.support.optDisabled?n.disabled:null!==n.getAttribute("disabled"))||n.parentNode.disabled&&de.nodeName(n.parentNode,"optgroup"))){if(t=de(n).val(),a)return t
r.push(t)}return r},set:function(e,t){for(var n,o,i=e.options,a=de.makeArray(t),r=i.length;r--;)o=i[r],(o.selected=de.inArray(de(o).val(),a)>=0)&&(n=!0)
return n||(e.selectedIndex=-1),a}}},attr:function(e,n,o){var i,a,r=e.nodeType
if(e&&3!==r&&8!==r&&2!==r)return typeof e.getAttribute===G?de.prop(e,n,o):(1===r&&de.isXMLDoc(e)||(n=n.toLowerCase(),i=de.attrHooks[n]||(de.expr.match.bool.test(n)?Ie:Ne)),o===t?i&&"get"in i&&null!==(a=i.get(e,n))?a:(a=de.find.attr(e,n),null==a?t:a):null!==o?i&&"set"in i&&(a=i.set(e,o,n))!==t?a:(e.setAttribute(n,o+""),o):void de.removeAttr(e,n))},removeAttr:function(e,t){var n,o,i=0,a=t&&t.match(fe)
if(a&&1===e.nodeType)for(;n=a[i++];)o=de.propFix[n]||n,de.expr.match.bool.test(n)?He&&Le||!je.test(n)?e[o]=!1:e[de.camelCase("default-"+n)]=e[o]=!1:de.attr(e,n,""),e.removeAttribute(Le?n:o)},attrHooks:{type:{set:function(e,t){if(!de.support.radioValue&&"radio"===t&&de.nodeName(e,"input")){var n=e.value
return e.setAttribute("type",t),n&&(e.value=n),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,n,o){var i,a,r,s=e.nodeType
if(e&&3!==s&&8!==s&&2!==s)return r=1!==s||!de.isXMLDoc(e),r&&(n=de.propFix[n]||n,a=de.propHooks[n]),o!==t?a&&"set"in a&&(i=a.set(e,o,n))!==t?i:e[n]=o:a&&"get"in a&&null!==(i=a.get(e,n))?i:e[n]},propHooks:{tabIndex:{get:function(e){var t=de.find.attr(e,"tabindex")
return t?parseInt(t,10):Re.test(e.nodeName)||De.test(e.nodeName)&&e.href?0:-1}}}}),Ie={set:function(e,t,n){return t===!1?de.removeAttr(e,n):He&&Le||!je.test(n)?e.setAttribute(!Le&&de.propFix[n]||n,n):e[de.camelCase("default-"+n)]=e[n]=!0,n}},de.each(de.expr.match.bool.source.match(/\w+/g),function(e,n){var o=de.expr.attrHandle[n]||de.find.attr
de.expr.attrHandle[n]=He&&Le||!je.test(n)?function(e,n,i){var a=de.expr.attrHandle[n],r=i?t:(de.expr.attrHandle[n]=t)!=o(e,n,i)?n.toLowerCase():null
return de.expr.attrHandle[n]=a,r}:function(e,n,o){return o?t:e[de.camelCase("default-"+n)]?n.toLowerCase():null}}),He&&Le||(de.attrHooks.value={set:function(e,t,n){return de.nodeName(e,"input")?void(e.defaultValue=t):Ne&&Ne.set(e,t,n)}}),Le||(Ne={set:function(e,n,o){var i=e.getAttributeNode(o)
return i||e.setAttributeNode(i=e.ownerDocument.createAttribute(o)),i.value=n+="","value"===o||n===e.getAttribute(o)?n:t}},de.expr.attrHandle.id=de.expr.attrHandle.name=de.expr.attrHandle.coords=function(e,n,o){var i
return o?t:(i=e.getAttributeNode(n))&&""!==i.value?i.value:null},de.valHooks.button={get:function(e,n){var o=e.getAttributeNode(n)
return o&&o.specified?o.value:t},set:Ne.set},de.attrHooks.contenteditable={set:function(e,t,n){Ne.set(e,""===t?!1:t,n)}},de.each(["width","height"],function(e,t){de.attrHooks[t]={set:function(e,n){return""===n?(e.setAttribute(t,"auto"),n):void 0}}})),de.support.hrefNormalized||de.each(["href","src"],function(e,t){de.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),de.support.style||(de.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),de.support.optSelected||(de.propHooks.selected={get:function(e){var t=e.parentNode
return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),de.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){de.propFix[this.toLowerCase()]=this}),de.support.enctype||(de.propFix.enctype="encoding"),de.each(["radio","checkbox"],function(){de.valHooks[this]={set:function(e,t){return de.isArray(t)?e.checked=de.inArray(de(e).val(),t)>=0:void 0}},de.support.checkOn||(de.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})})
var Me=/^(?:input|select|textarea)$/i,Pe=/^key/,ze=/^(?:mouse|contextmenu)|click/,Fe=/^(?:focusinfocus|focusoutblur)$/,qe=/^([^.]*)(?:\.(.+)|)$/
de.event={global:{},add:function(e,n,o,i,a){var r,s,l,c,d,u,f,p,h,g,m,v=de._data(e)
if(v){for(o.handler&&(c=o,o=c.handler,a=c.selector),o.guid||(o.guid=de.guid++),(s=v.events)||(s=v.events={}),(u=v.handle)||(u=v.handle=function(e){return typeof de===G||e&&de.event.triggered===e.type?t:de.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=(n||"").match(fe)||[""],l=n.length;l--;)r=qe.exec(n[l])||[],h=m=r[1],g=(r[2]||"").split(".").sort(),h&&(d=de.event.special[h]||{},h=(a?d.delegateType:d.bindType)||h,d=de.event.special[h]||{},f=de.extend({type:h,origType:m,data:i,handler:o,guid:o.guid,selector:a,needsContext:a&&de.expr.match.needsContext.test(a),namespace:g.join(".")},c),(p=s[h])||(p=s[h]=[],p.delegateCount=0,d.setup&&d.setup.call(e,i,g,u)!==!1||(e.addEventListener?e.addEventListener(h,u,!1):e.attachEvent&&e.attachEvent("on"+h,u))),d.add&&(d.add.call(e,f),f.handler.guid||(f.handler.guid=o.guid)),a?p.splice(p.delegateCount++,0,f):p.push(f),de.event.global[h]=!0)
e=null}},remove:function(e,t,n,o,i){var a,r,s,l,c,d,u,f,p,h,g,m=de.hasData(e)&&de._data(e)
if(m&&(d=m.events)){for(t=(t||"").match(fe)||[""],c=t.length;c--;)if(s=qe.exec(t[c])||[],p=g=s[1],h=(s[2]||"").split(".").sort(),p){for(u=de.event.special[p]||{},p=(o?u.delegateType:u.bindType)||p,f=d[p]||[],s=s[2]&&new RegExp("(^|\\.)"+h.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=a=f.length;a--;)r=f[a],!i&&g!==r.origType||n&&n.guid!==r.guid||s&&!s.test(r.namespace)||o&&o!==r.selector&&("**"!==o||!r.selector)||(f.splice(a,1),r.selector&&f.delegateCount--,u.remove&&u.remove.call(e,r))
l&&!f.length&&(u.teardown&&u.teardown.call(e,h,m.handle)!==!1||de.removeEvent(e,p,m.handle),delete d[p])}else for(p in d)de.event.remove(e,p+t[c],n,o,!0)
de.isEmptyObject(d)&&(delete m.handle,de._removeData(e,"events"))}},trigger:function(n,o,i,a){var r,s,l,c,d,u,f,p=[i||Y],h=le.call(n,"type")?n.type:n,g=le.call(n,"namespace")?n.namespace.split("."):[]
if(l=u=i=i||Y,3!==i.nodeType&&8!==i.nodeType&&!Fe.test(h+de.event.triggered)&&(h.indexOf(".")>=0&&(g=h.split("."),h=g.shift(),g.sort()),s=h.indexOf(":")<0&&"on"+h,n=n[de.expando]?n:new de.Event(h,"object"==typeof n&&n),n.isTrigger=a?2:3,n.namespace=g.join("."),n.namespace_re=n.namespace?new RegExp("(^|\\.)"+g.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,n.result=t,n.target||(n.target=i),o=null==o?[n]:de.makeArray(o,[n]),d=de.event.special[h]||{},a||!d.trigger||d.trigger.apply(i,o)!==!1)){if(!a&&!d.noBubble&&!de.isWindow(i)){for(c=d.delegateType||h,Fe.test(c+h)||(l=l.parentNode);l;l=l.parentNode)p.push(l),u=l
u===(i.ownerDocument||Y)&&p.push(u.defaultView||u.parentWindow||e)}for(f=0;(l=p[f++])&&!n.isPropagationStopped();)n.type=f>1?c:d.bindType||h,r=(de._data(l,"events")||{})[n.type]&&de._data(l,"handle"),r&&r.apply(l,o),r=s&&l[s],r&&de.acceptData(l)&&r.apply&&r.apply(l,o)===!1&&n.preventDefault()
if(n.type=h,!a&&!n.isDefaultPrevented()&&(!d._default||d._default.apply(p.pop(),o)===!1)&&de.acceptData(i)&&s&&i[h]&&!de.isWindow(i)){u=i[s],u&&(i[s]=null),de.event.triggered=h
try{i[h]()}catch(m){}de.event.triggered=t,u&&(i[s]=u)}return n.result}},dispatch:function(e){e=de.event.fix(e)
var n,o,i,a,r,s=[],l=ae.call(arguments),c=(de._data(this,"events")||{})[e.type]||[],d=de.event.special[e.type]||{}
if(l[0]=e,e.delegateTarget=this,!d.preDispatch||d.preDispatch.call(this,e)!==!1){for(s=de.event.handlers.call(this,e,c),n=0;(a=s[n++])&&!e.isPropagationStopped();)for(e.currentTarget=a.elem,r=0;(i=a.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(i.namespace))&&(e.handleObj=i,e.data=i.data,o=((de.event.special[i.origType]||{}).handle||i.handler).apply(a.elem,l),o!==t&&(e.result=o)===!1&&(e.preventDefault(),e.stopPropagation()))
return d.postDispatch&&d.postDispatch.call(this,e),e.result}},handlers:function(e,n){var o,i,a,r,s=[],l=n.delegateCount,c=e.target
if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(a=[],r=0;l>r;r++)i=n[r],o=i.selector+" ",a[o]===t&&(a[o]=i.needsContext?de(o,this).index(c)>=0:de.find(o,this,null,[c]).length),a[o]&&a.push(i)
a.length&&s.push({elem:c,handlers:a})}return l<n.length&&s.push({elem:this,handlers:n.slice(l)}),s},fix:function(e){if(e[de.expando])return e
var t,n,o,i=e.type,a=e,r=this.fixHooks[i]
for(r||(this.fixHooks[i]=r=ze.test(i)?this.mouseHooks:Pe.test(i)?this.keyHooks:{}),o=r.props?this.props.concat(r.props):this.props,e=new de.Event(a),t=o.length;t--;)n=o[t],e[n]=a[n]
return e.target||(e.target=a.srcElement||Y),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,a):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,n){var o,i,a,r=n.button,s=n.fromElement
return null==e.pageX&&null!=n.clientX&&(i=e.target.ownerDocument||Y,a=i.documentElement,o=i.body,e.pageX=n.clientX+(a&&a.scrollLeft||o&&o.scrollLeft||0)-(a&&a.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(a&&a.scrollTop||o&&o.scrollTop||0)-(a&&a.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&s&&(e.relatedTarget=s===e.target?n.toElement:s),e.which||r===t||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==d()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===d()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return de.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(e){return de.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,n,o){var i=de.extend(new de.Event,n,{type:e,isSimulated:!0,originalEvent:{}})
o?de.event.trigger(i,null,t):de.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},de.removeEvent=Y.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var o="on"+t
e.detachEvent&&(typeof e[o]===G&&(e[o]=null),e.detachEvent(o,n))},de.Event=function(e,t){return this instanceof de.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented?l:c):this.type=e,t&&de.extend(this,t),this.timeStamp=e&&e.timeStamp||de.now(),void(this[de.expando]=!0)):new de.Event(e,t)},de.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent
this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent
this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},de.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){de.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,o=this,i=e.relatedTarget,a=e.handleObj
return(!i||i!==o&&!de.contains(o,i))&&(e.type=a.origType,n=a.handler.apply(this,arguments),e.type=t),n}}}),de.support.submitBubbles||(de.event.special.submit={setup:function(){return de.nodeName(this,"form")?!1:void de.event.add(this,"click._submit keypress._submit",function(e){var n=e.target,o=de.nodeName(n,"input")||de.nodeName(n,"button")?n.form:t
o&&!de._data(o,"submitBubbles")&&(de.event.add(o,"submit._submit",function(e){e._submit_bubble=!0}),de._data(o,"submitBubbles",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&de.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return de.nodeName(this,"form")?!1:void de.event.remove(this,"._submit")}}),de.support.changeBubbles||(de.event.special.change={setup:function(){return Me.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(de.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),de.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),de.event.simulate("change",this,e,!0)})),!1):void de.event.add(this,"beforeactivate._change",function(e){var t=e.target
Me.test(t.nodeName)&&!de._data(t,"changeBubbles")&&(de.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||de.event.simulate("change",this.parentNode,e,!0)}),de._data(t,"changeBubbles",!0))})},handle:function(e){var t=e.target
return this!==t||e.isSimulated||e.isTrigger||"radio"!==t.type&&"checkbox"!==t.type?e.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return de.event.remove(this,"._change"),!Me.test(this.nodeName)}}),de.support.focusinBubbles||de.each({focus:"focusin",blur:"focusout"},function(e,t){var n=0,o=function(e){de.event.simulate(t,e.target,de.event.fix(e),!0)}
de.event.special[t]={setup:function(){0===n++&&Y.addEventListener(e,o,!0)},teardown:function(){0===--n&&Y.removeEventListener(e,o,!0)}}}),de.fn.extend({on:function(e,n,o,i,a){var r,s
if("object"==typeof e){"string"!=typeof n&&(o=o||n,n=t)
for(r in e)this.on(r,n,o,e[r],a)
return this}if(null==o&&null==i?(i=n,o=n=t):null==i&&("string"==typeof n?(i=o,o=t):(i=o,o=n,n=t)),i===!1)i=c
else if(!i)return this
return 1===a&&(s=i,i=function(e){return de().off(e),s.apply(this,arguments)},i.guid=s.guid||(s.guid=de.guid++)),this.each(function(){de.event.add(this,e,i,o,n)})},one:function(e,t,n,o){return this.on(e,t,n,o,1)},off:function(e,n,o){var i,a
if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,de(e.delegateTarget).off(i.namespace?i.origType+"."+i.namespace:i.origType,i.selector,i.handler),this
if("object"==typeof e){for(a in e)this.off(a,n,e[a])
return this}return(n===!1||"function"==typeof n)&&(o=n,n=t),o===!1&&(o=c),this.each(function(){de.event.remove(this,e,o,n)})},trigger:function(e,t){return this.each(function(){de.event.trigger(e,t,this)})},triggerHandler:function(e,t){var n=this[0]
return n?de.event.trigger(e,t,n,!0):void 0}})
var Ue=/^.[^:#\[\.,]*$/,We=/^(?:parents|prev(?:Until|All))/,Be=de.expr.match.needsContext,$e={children:!0,contents:!0,next:!0,prev:!0}
de.fn.extend({find:function(e){var t,n=[],o=this,i=o.length
if("string"!=typeof e)return this.pushStack(de(e).filter(function(){for(t=0;i>t;t++)if(de.contains(o[t],this))return!0}))
for(t=0;i>t;t++)de.find(e,o[t],n)
return n=this.pushStack(i>1?de.unique(n):n),n.selector=this.selector?this.selector+" "+e:e,n},has:function(e){var t,n=de(e,this),o=n.length
return this.filter(function(){for(t=0;o>t;t++)if(de.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(f(this,e||[],!0))},filter:function(e){return this.pushStack(f(this,e||[],!1))},is:function(e){return!!f(this,"string"==typeof e&&Be.test(e)?de(e):e||[],!1).length},closest:function(e,t){for(var n,o=0,i=this.length,a=[],r=Be.test(e)||"string"!=typeof e?de(e,t||this.context):0;i>o;o++)for(n=this[o];n&&n!==t;n=n.parentNode)if(n.nodeType<11&&(r?r.index(n)>-1:1===n.nodeType&&de.find.matchesSelector(n,e))){n=a.push(n)
break}return this.pushStack(a.length>1?de.unique(a):a)},index:function(e){return e?"string"==typeof e?de.inArray(this[0],de(e)):de.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var n="string"==typeof e?de(e,t):de.makeArray(e&&e.nodeType?[e]:e),o=de.merge(this.get(),n)
return this.pushStack(de.unique(o))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),de.each({parent:function(e){var t=e.parentNode
return t&&11!==t.nodeType?t:null},parents:function(e){return de.dir(e,"parentNode")},parentsUntil:function(e,t,n){return de.dir(e,"parentNode",n)},next:function(e){return u(e,"nextSibling")},prev:function(e){return u(e,"previousSibling")},nextAll:function(e){return de.dir(e,"nextSibling")},prevAll:function(e){return de.dir(e,"previousSibling")},nextUntil:function(e,t,n){return de.dir(e,"nextSibling",n)},prevUntil:function(e,t,n){return de.dir(e,"previousSibling",n)},siblings:function(e){return de.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return de.sibling(e.firstChild)},contents:function(e){return de.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:de.merge([],e.childNodes)}},function(e,t){de.fn[e]=function(n,o){var i=de.map(this,t,n)
return"Until"!==e.slice(-5)&&(o=n),o&&"string"==typeof o&&(i=de.filter(o,i)),this.length>1&&($e[e]||(i=de.unique(i)),We.test(e)&&(i=i.reverse())),this.pushStack(i)}}),de.extend({filter:function(e,t,n){var o=t[0]
return n&&(e=":not("+e+")"),1===t.length&&1===o.nodeType?de.find.matchesSelector(o,e)?[o]:[]:de.find.matches(e,de.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,n,o){for(var i=[],a=e[n];a&&9!==a.nodeType&&(o===t||1!==a.nodeType||!de(a).is(o));)1===a.nodeType&&i.push(a),a=a[n]
return i},sibling:function(e,t){for(var n=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&n.push(e)
return n}})
var Ve="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Xe=/ jQuery\d+="(?:null|\d+)"/g,Ge=new RegExp("<(?:"+Ve+")[\\s/>]","i"),Je=/^\s+/,Ye=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Qe=/<([\w:]+)/,Ke=/<tbody/i,Ze=/<|&#?\w+;/,et=/<(?:script|style|link)/i,tt=/^(?:checkbox|radio)$/i,nt=/checked\s*(?:[^=]|=\s*.checked.)/i,ot=/^$|\/(?:java|ecma)script/i,it=/^true\/(.*)/,at=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:de.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},st=p(Y),lt=st.appendChild(Y.createElement("div"))
rt.optgroup=rt.option,rt.tbody=rt.tfoot=rt.colgroup=rt.caption=rt.thead,rt.th=rt.td,de.fn.extend({text:function(e){return de.access(this,function(e){return e===t?de.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Y).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e)
t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=h(this,e)
t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var n,o=e?de.filter(e,this):this,i=0;null!=(n=o[i]);i++)t||1!==n.nodeType||de.cleanData(k(n)),n.parentNode&&(t&&de.contains(n.ownerDocument,n)&&v(k(n,"script")),n.parentNode.removeChild(n))
return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&de.cleanData(k(e,!1));e.firstChild;)e.removeChild(e.firstChild)
e.options&&de.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return de.clone(this,e,t)})},html:function(e){return de.access(this,function(e){var n=this[0]||{},o=0,i=this.length
if(e===t)return 1===n.nodeType?n.innerHTML.replace(Xe,""):t
if(!("string"!=typeof e||et.test(e)||!de.support.htmlSerialize&&Ge.test(e)||!de.support.leadingWhitespace&&Je.test(e)||rt[(Qe.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Ye,"<$1></$2>")
try{for(;i>o;o++)n=this[o]||{},1===n.nodeType&&(de.cleanData(k(n,!1)),n.innerHTML=e)
n=0}catch(a){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=de.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0
return this.domManip(arguments,function(n){var o=e[t++],i=e[t++]
i&&(o&&o.parentNode!==i&&(o=this.nextSibling),de(this).remove(),i.insertBefore(n,o))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,n){e=oe.apply([],e)
var o,i,a,r,s,l,c=0,d=this.length,u=this,f=d-1,p=e[0],h=de.isFunction(p)
if(h||!(1>=d||"string"!=typeof p||de.support.checkClone)&&nt.test(p))return this.each(function(o){var i=u.eq(o)
h&&(e[0]=p.call(this,o,i.html())),i.domManip(e,t,n)})
if(d&&(l=de.buildFragment(e,this[0].ownerDocument,!1,!n&&this),o=l.firstChild,1===l.childNodes.length&&(l=o),o)){for(r=de.map(k(l,"script"),g),a=r.length;d>c;c++)i=l,c!==f&&(i=de.clone(i,!0,!0),a&&de.merge(r,k(i,"script"))),t.call(this[c],i,c)
if(a)for(s=r[r.length-1].ownerDocument,de.map(r,m),c=0;a>c;c++)i=r[c],ot.test(i.type||"")&&!de._data(i,"globalEval")&&de.contains(s,i)&&(i.src?de._evalUrl(i.src):de.globalEval((i.text||i.textContent||i.innerHTML||"").replace(at,"")))
l=o=null}return this}}),de.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){de.fn[e]=function(e){for(var n,o=0,i=[],a=de(e),r=a.length-1;r>=o;o++)n=o===r?this:this.clone(!0),de(a[o])[t](n),ie.apply(i,n.get())
return this.pushStack(i)}}),de.extend({clone:function(e,t,n){var o,i,a,r,s,l=de.contains(e.ownerDocument,e)
if(de.support.html5Clone||de.isXMLDoc(e)||!Ge.test("<"+e.nodeName+">")?a=e.cloneNode(!0):(lt.innerHTML=e.outerHTML,lt.removeChild(a=lt.firstChild)),!(de.support.noCloneEvent&&de.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||de.isXMLDoc(e)))for(o=k(a),s=k(e),r=0;null!=(i=s[r]);++r)o[r]&&b(i,o[r])
if(t)if(n)for(s=s||k(e),o=o||k(a),r=0;null!=(i=s[r]);r++)y(i,o[r])
else y(e,a)
return o=k(a,"script"),o.length>0&&v(o,!l&&k(e,"script")),o=s=i=null,a},buildFragment:function(e,t,n,o){for(var i,a,r,s,l,c,d,u=e.length,f=p(t),h=[],g=0;u>g;g++)if(a=e[g],a||0===a)if("object"===de.type(a))de.merge(h,a.nodeType?[a]:a)
else if(Ze.test(a)){for(s=s||f.appendChild(t.createElement("div")),l=(Qe.exec(a)||["",""])[1].toLowerCase(),d=rt[l]||rt._default,s.innerHTML=d[1]+a.replace(Ye,"<$1></$2>")+d[2],i=d[0];i--;)s=s.lastChild
if(!de.support.leadingWhitespace&&Je.test(a)&&h.push(t.createTextNode(Je.exec(a)[0])),!de.support.tbody)for(a="table"!==l||Ke.test(a)?"<table>"!==d[1]||Ke.test(a)?0:s:s.firstChild,i=a&&a.childNodes.length;i--;)de.nodeName(c=a.childNodes[i],"tbody")&&!c.childNodes.length&&a.removeChild(c)
for(de.merge(h,s.childNodes),s.textContent="";s.firstChild;)s.removeChild(s.firstChild)
s=f.lastChild}else h.push(t.createTextNode(a))
for(s&&f.removeChild(s),de.support.appendChecked||de.grep(k(h,"input"),w),g=0;a=h[g++];)if((!o||-1===de.inArray(a,o))&&(r=de.contains(a.ownerDocument,a),s=k(f.appendChild(a),"script"),r&&v(s),n))for(i=0;a=s[i++];)ot.test(a.type||"")&&n.push(a)
return s=null,f},cleanData:function(e,t){for(var n,o,i,a,r=0,s=de.expando,l=de.cache,c=de.support.deleteExpando,d=de.event.special;null!=(n=e[r]);r++)if((t||de.acceptData(n))&&(i=n[s],a=i&&l[i])){if(a.events)for(o in a.events)d[o]?de.event.remove(n,o):de.removeEvent(n,o,a.handle)
l[i]&&(delete l[i],c?delete n[s]:typeof n.removeAttribute!==G?n.removeAttribute(s):n[s]=null,te.push(i))}},_evalUrl:function(e){return de.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),de.fn.extend({wrapAll:function(e){if(de.isFunction(e))return this.each(function(t){de(this).wrapAll(e.call(this,t))})
if(this[0]){var t=de(e,this[0].ownerDocument).eq(0).clone(!0)
this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild
return e}).append(this)}return this},wrapInner:function(e){return this.each(de.isFunction(e)?function(t){de(this).wrapInner(e.call(this,t))}:function(){var t=de(this),n=t.contents()
n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=de.isFunction(e)
return this.each(function(n){de(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){de.nodeName(this,"body")||de(this).replaceWith(this.childNodes)}).end()}})
var ct,dt,ut,ft=/alpha\([^)]*\)/i,pt=/opacity\s*=\s*([^)]*)/,ht=/^(top|right|bottom|left)$/,gt=/^(none|table(?!-c[ea]).+)/,mt=/^margin/,vt=new RegExp("^("+ue+")(.*)$","i"),yt=new RegExp("^("+ue+")(?!px)[a-z%]+$","i"),bt=new RegExp("^([+-])=("+ue+")","i"),kt={BODY:"block"},wt={position:"absolute",visibility:"hidden",display:"block"},xt={letterSpacing:0,fontWeight:400},_t=["Top","Right","Bottom","Left"],Tt=["Webkit","O","Moz","ms"]
de.fn.extend({css:function(e,n){return de.access(this,function(e,n,o){var i,a,r={},s=0
if(de.isArray(n)){for(a=dt(e),i=n.length;i>s;s++)r[n[s]]=de.css(e,n[s],!1,a)
return r}return o!==t?de.style(e,n,o):de.css(e,n)},e,n,arguments.length>1)},show:function(){return T(this,!0)},hide:function(){return T(this)},toggle:function(e){var t="boolean"==typeof e
return this.each(function(){(t?e:_(this))?de(this).show():de(this).hide()})}}),de.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=ut(e,"opacity")
return""===n?"1":n}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":de.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,n,o,i){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var a,r,s,l=de.camelCase(n),c=e.style
if(n=de.cssProps[l]||(de.cssProps[l]=x(c,l)),s=de.cssHooks[n]||de.cssHooks[l],o===t)return s&&"get"in s&&(a=s.get(e,!1,i))!==t?a:c[n]
if(r=typeof o,"string"===r&&(a=bt.exec(o))&&(o=(a[1]+1)*a[2]+parseFloat(de.css(e,n)),r="number"),!(null==o||"number"===r&&isNaN(o)||("number"!==r||de.cssNumber[l]||(o+="px"),de.support.clearCloneStyle||""!==o||0!==n.indexOf("background")||(c[n]="inherit"),s&&"set"in s&&(o=s.set(e,o,i))===t)))try{c[n]=o}catch(d){}}},css:function(e,n,o,i){var a,r,s,l=de.camelCase(n)
return n=de.cssProps[l]||(de.cssProps[l]=x(e.style,l)),s=de.cssHooks[n]||de.cssHooks[l],s&&"get"in s&&(r=s.get(e,!0,o)),r===t&&(r=ut(e,n,i)),"normal"===r&&n in xt&&(r=xt[n]),""===o||o?(a=parseFloat(r),o===!0||de.isNumeric(a)?a||0:r):r}}),e.getComputedStyle?(dt=function(t){return e.getComputedStyle(t,null)},ut=function(e,n,o){var i,a,r,s=o||dt(e),l=s?s.getPropertyValue(n)||s[n]:t,c=e.style
return s&&(""!==l||de.contains(e.ownerDocument,e)||(l=de.style(e,n)),yt.test(l)&&mt.test(n)&&(i=c.width,a=c.minWidth,r=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=s.width,c.width=i,c.minWidth=a,c.maxWidth=r)),l}):Y.documentElement.currentStyle&&(dt=function(e){return e.currentStyle},ut=function(e,n,o){var i,a,r,s=o||dt(e),l=s?s[n]:t,c=e.style
return null==l&&c&&c[n]&&(l=c[n]),yt.test(l)&&!ht.test(n)&&(i=c.left,a=e.runtimeStyle,r=a&&a.left,r&&(a.left=e.currentStyle.left),c.left="fontSize"===n?"1em":l,l=c.pixelLeft+"px",c.left=i,r&&(a.left=r)),""===l?"auto":l}),de.each(["height","width"],function(e,t){de.cssHooks[t]={get:function(e,n,o){return n?0===e.offsetWidth&&gt.test(de.css(e,"display"))?de.swap(e,wt,function(){return E(e,t,o)}):E(e,t,o):void 0},set:function(e,n,o){var i=o&&dt(e)
return C(e,n,o?S(e,t,o,de.support.boxSizing&&"border-box"===de.css(e,"boxSizing",!1,i),i):0)}}}),de.support.opacity||(de.cssHooks.opacity={get:function(e,t){return pt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var n=e.style,o=e.currentStyle,i=de.isNumeric(t)?"alpha(opacity="+100*t+")":"",a=o&&o.filter||n.filter||""
n.zoom=1,(t>=1||""===t)&&""===de.trim(a.replace(ft,""))&&n.removeAttribute&&(n.removeAttribute("filter"),""===t||o&&!o.filter)||(n.filter=ft.test(a)?a.replace(ft,i):a+" "+i)}}),de(function(){de.support.reliableMarginRight||(de.cssHooks.marginRight={get:function(e,t){return t?de.swap(e,{display:"inline-block"},ut,[e,"marginRight"]):void 0}}),!de.support.pixelPosition&&de.fn.position&&de.each(["top","left"],function(e,t){de.cssHooks[t]={get:function(e,n){return n?(n=ut(e,t),yt.test(n)?de(e).position()[t]+"px":n):void 0}}})}),de.expr&&de.expr.filters&&(de.expr.filters.hidden=function(e){return e.offsetWidth<=0&&e.offsetHeight<=0||!de.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||de.css(e,"display"))},de.expr.filters.visible=function(e){return!de.expr.filters.hidden(e)}),de.each({margin:"",padding:"",border:"Width"},function(e,t){de.cssHooks[e+t]={expand:function(n){for(var o=0,i={},a="string"==typeof n?n.split(" "):[n];4>o;o++)i[e+_t[o]+t]=a[o]||a[o-2]||a[0]
return i}},mt.test(e)||(de.cssHooks[e+t].set=C)})
var Ct=/%20/g,St=/\[\]$/,Et=/\r?\n/g,Nt=/^(?:submit|button|image|reset|file)$/i,It=/^(?:input|select|textarea|keygen)/i
de.fn.extend({serialize:function(){return de.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=de.prop(this,"elements")
return e?de.makeArray(e):this}).filter(function(){var e=this.type
return this.name&&!de(this).is(":disabled")&&It.test(this.nodeName)&&!Nt.test(e)&&(this.checked||!tt.test(e))}).map(function(e,t){var n=de(this).val()
return null==n?null:de.isArray(n)?de.map(n,function(e){return{name:t.name,value:e.replace(Et,"\r\n")}}):{name:t.name,value:n.replace(Et,"\r\n")}}).get()}}),de.param=function(e,n){var o,i=[],a=function(e,t){t=de.isFunction(t)?t():null==t?"":t,i[i.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)}
if(n===t&&(n=de.ajaxSettings&&de.ajaxSettings.traditional),de.isArray(e)||e.jquery&&!de.isPlainObject(e))de.each(e,function(){a(this.name,this.value)})
else for(o in e)O(o,e[o],n,a)
return i.join("&").replace(Ct,"+")},de.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){de.fn[t]=function(e,n){return arguments.length>0?this.on(t,null,e,n):this.trigger(t)}}),de.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,n,o){return this.on(t,e,n,o)},undelegate:function(e,t,n){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",n)}})
var Ot,At,Rt=de.now(),Dt=/\?/,jt=/#.*$/,Lt=/([?&])_=[^&]*/,Ht=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Mt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Pt=/^(?:GET|HEAD)$/,zt=/^\/\//,Ft=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,qt=de.fn.load,Ut={},Wt={},Bt="*/".concat("*")
try{At=J.href}catch($t){At=Y.createElement("a"),At.href="",At=At.href}Ot=Ft.exec(At.toLowerCase())||[],de.fn.load=function(e,n,o){if("string"!=typeof e&&qt)return qt.apply(this,arguments)
var i,a,r,s=this,l=e.indexOf(" ")
return l>=0&&(i=e.slice(l,e.length),e=e.slice(0,l)),de.isFunction(n)?(o=n,n=t):n&&"object"==typeof n&&(r="POST"),s.length>0&&de.ajax({url:e,type:r,dataType:"html",data:n}).done(function(e){a=arguments,s.html(i?de("<div>").append(de.parseHTML(e)).find(i):e)}).complete(o&&function(e,t){s.each(o,a||[e.responseText,t,e])}),this},de.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){de.fn[t]=function(e){return this.on(t,e)}}),de.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At,type:"GET",isLocal:Mt.test(Ot[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Bt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":de.parseJSON,"text xml":de.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?D(D(e,de.ajaxSettings),t):D(de.ajaxSettings,e)},ajaxPrefilter:A(Ut),ajaxTransport:A(Wt),ajax:function(e,n){function o(e,n,o,i){var a,u,y,b,w,_=n
2!==k&&(k=2,l&&clearTimeout(l),d=t,s=i||"",x.readyState=e>0?4:0,a=e>=200&&300>e||304===e,o&&(b=j(f,x,o)),b=L(f,b,x,a),a?(f.ifModified&&(w=x.getResponseHeader("Last-Modified"),w&&(de.lastModified[r]=w),w=x.getResponseHeader("etag"),w&&(de.etag[r]=w)),204===e||"HEAD"===f.type?_="nocontent":304===e?_="notmodified":(_=b.state,u=b.data,y=b.error,a=!y)):(y=_,(e||!_)&&(_="error",0>e&&(e=0))),x.status=e,x.statusText=(n||_)+"",a?g.resolveWith(p,[u,_,x]):g.rejectWith(p,[x,_,y]),x.statusCode(v),v=t,c&&h.trigger(a?"ajaxSuccess":"ajaxError",[x,f,a?u:y]),m.fireWith(p,[x,_]),c&&(h.trigger("ajaxComplete",[x,f]),--de.active||de.event.trigger("ajaxStop")))}"object"==typeof e&&(n=e,e=t),n=n||{}
var i,a,r,s,l,c,d,u,f=de.ajaxSetup({},n),p=f.context||f,h=f.context&&(p.nodeType||p.jquery)?de(p):de.event,g=de.Deferred(),m=de.Callbacks("once memory"),v=f.statusCode||{},y={},b={},k=0,w="canceled",x={readyState:0,getResponseHeader:function(e){var t
if(2===k){if(!u)for(u={};t=Ht.exec(s);)u[t[1].toLowerCase()]=t[2]
t=u[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===k?s:null},setRequestHeader:function(e,t){var n=e.toLowerCase()
return k||(e=b[n]=b[n]||e,y[e]=t),this},overrideMimeType:function(e){return k||(f.mimeType=e),this},statusCode:function(e){var t
if(e)if(2>k)for(t in e)v[t]=[v[t],e[t]]
else x.always(e[x.status])
return this},abort:function(e){var t=e||w
return d&&d.abort(t),o(0,t),this}}
if(g.promise(x).complete=m.add,x.success=x.done,x.error=x.fail,f.url=((e||f.url||At)+"").replace(jt,"").replace(zt,Ot[1]+"//"),f.type=n.method||n.type||f.method||f.type,f.dataTypes=de.trim(f.dataType||"*").toLowerCase().match(fe)||[""],null==f.crossDomain&&(i=Ft.exec(f.url.toLowerCase()),f.crossDomain=!(!i||i[1]===Ot[1]&&i[2]===Ot[2]&&(i[3]||("http:"===i[1]?"80":"443"))===(Ot[3]||("http:"===Ot[1]?"80":"443")))),f.data&&f.processData&&"string"!=typeof f.data&&(f.data=de.param(f.data,f.traditional)),R(Ut,f,n,x),2===k)return x
c=f.global,c&&0===de.active++&&de.event.trigger("ajaxStart"),f.type=f.type.toUpperCase(),f.hasContent=!Pt.test(f.type),r=f.url,f.hasContent||(f.data&&(r=f.url+=(Dt.test(r)?"&":"?")+f.data,delete f.data),f.cache===!1&&(f.url=Lt.test(r)?r.replace(Lt,"$1_="+Rt++):r+(Dt.test(r)?"&":"?")+"_="+Rt++)),f.ifModified&&(de.lastModified[r]&&x.setRequestHeader("If-Modified-Since",de.lastModified[r]),de.etag[r]&&x.setRequestHeader("If-None-Match",de.etag[r])),(f.data&&f.hasContent&&f.contentType!==!1||n.contentType)&&x.setRequestHeader("Content-Type",f.contentType),x.setRequestHeader("Accept",f.dataTypes[0]&&f.accepts[f.dataTypes[0]]?f.accepts[f.dataTypes[0]]+("*"!==f.dataTypes[0]?", "+Bt+"; q=0.01":""):f.accepts["*"])
for(a in f.headers)x.setRequestHeader(a,f.headers[a])
if(f.beforeSend&&(f.beforeSend.call(p,x,f)===!1||2===k))return x.abort()
w="abort"
for(a in{success:1,error:1,complete:1})x[a](f[a])
if(d=R(Wt,f,n,x)){x.readyState=1,c&&h.trigger("ajaxSend",[x,f]),f.async&&f.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},f.timeout))
try{k=1,d.send(y,o)}catch(_){if(!(2>k))throw _
o(-1,_)}}else o(-1,"No Transport")
return x},getJSON:function(e,t,n){return de.get(e,t,n,"json")},getScript:function(e,n){return de.get(e,t,n,"script")}}),de.each(["get","post"],function(e,n){de[n]=function(e,o,i,a){return de.isFunction(o)&&(a=a||i,i=o,o=t),de.ajax({url:e,type:n,dataType:a,data:o,success:i})}}),de.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return de.globalEval(e),e}}}),de.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),de.ajaxTransport("script",function(e){if(e.crossDomain){var n,o=Y.head||de("head")[0]||Y.documentElement
return{send:function(t,i){n=Y.createElement("script"),n.async=!0,e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,t){(t||!n.readyState||/loaded|complete/.test(n.readyState))&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),n=null,t||i(200,"success"))},o.insertBefore(n,o.firstChild)},abort:function(){n&&n.onload(t,!0)}}}})
var Vt=[],Xt=/(=)\?(?=&|$)|\?\?/
de.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Vt.pop()||de.expando+"_"+Rt++
return this[e]=!0,e}}),de.ajaxPrefilter("json jsonp",function(n,o,i){var a,r,s,l=n.jsonp!==!1&&(Xt.test(n.url)?"url":"string"==typeof n.data&&!(n.contentType||"").indexOf("application/x-www-form-urlencoded")&&Xt.test(n.data)&&"data")
return l||"jsonp"===n.dataTypes[0]?(a=n.jsonpCallback=de.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,l?n[l]=n[l].replace(Xt,"$1"+a):n.jsonp!==!1&&(n.url+=(Dt.test(n.url)?"&":"?")+n.jsonp+"="+a),n.converters["script json"]=function(){return s||de.error(a+" was not called"),s[0]},n.dataTypes[0]="json",r=e[a],e[a]=function(){s=arguments},i.always(function(){e[a]=r,n[a]&&(n.jsonpCallback=o.jsonpCallback,Vt.push(a)),s&&de.isFunction(r)&&r(s[0]),s=r=t}),"script"):void 0})
var Gt,Jt,Yt=0,Qt=e.ActiveXObject&&function(){var e
for(e in Gt)Gt[e](t,!0)}
de.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&H()||M()}:H,Jt=de.ajaxSettings.xhr(),de.support.cors=!!Jt&&"withCredentials"in Jt,Jt=de.support.ajax=!!Jt,Jt&&de.ajaxTransport(function(n){if(!n.crossDomain||de.support.cors){var o
return{send:function(i,a){var r,s,l=n.xhr()
if(n.username?l.open(n.type,n.url,n.async,n.username,n.password):l.open(n.type,n.url,n.async),n.xhrFields)for(s in n.xhrFields)l[s]=n.xhrFields[s]
n.mimeType&&l.overrideMimeType&&l.overrideMimeType(n.mimeType),n.crossDomain||i["X-Requested-With"]||(i["X-Requested-With"]="XMLHttpRequest")
try{for(s in i)l.setRequestHeader(s,i[s])}catch(c){}l.send(n.hasContent&&n.data||null),o=function(e,i){var s,c,d,u
try{if(o&&(i||4===l.readyState))if(o=t,r&&(l.onreadystatechange=de.noop,Qt&&delete Gt[r]),i)4!==l.readyState&&l.abort()
else{u={},s=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(u.text=l.responseText)
try{d=l.statusText}catch(f){d=""}s||!n.isLocal||n.crossDomain?1223===s&&(s=204):s=u.text?200:404}}catch(p){i||a(-1,p)}u&&a(s,d,u,c)},n.async?4===l.readyState?setTimeout(o):(r=++Yt,Qt&&(Gt||(Gt={},de(e).unload(Qt)),Gt[r]=o),l.onreadystatechange=o):o()},abort:function(){o&&o(t,!0)}}}})
var Kt,Zt,en=/^(?:toggle|show|hide)$/,tn=new RegExp("^(?:([+-])=|)("+ue+")([a-z%]*)$","i"),nn=/queueHooks$/,on=[U],an={"*":[function(e,t){var n=this.createTween(e,t),o=n.cur(),i=tn.exec(t),a=i&&i[3]||(de.cssNumber[e]?"":"px"),r=(de.cssNumber[e]||"px"!==a&&+o)&&tn.exec(de.css(n.elem,e)),s=1,l=20
if(r&&r[3]!==a){a=a||r[3],i=i||[],r=+o||1
do s=s||".5",r/=s,de.style(n.elem,e,r+a)
while(s!==(s=n.cur()/o)&&1!==s&&--l)}return i&&(n.unit=a,n.start=+r||+o||0,n.end=i[1]?r+(i[1]+1)*i[2]:+i[2]),n}]}
de.Animation=de.extend(F,{tweener:function(e,t){de.isFunction(e)?(t=e,e=["*"]):e=e.split(" ")
for(var n,o=0,i=e.length;i>o;o++)n=e[o],an[n]=an[n]||[],an[n].unshift(t)},prefilter:function(e,t){t?on.unshift(e):on.push(e)}}),de.Tween=W,W.prototype={constructor:W,init:function(e,t,n,o,i,a){this.elem=e,this.prop=n,this.easing=i||"swing",this.options=t,this.start=this.now=this.cur(),this.end=o,this.unit=a||(de.cssNumber[n]?"":"px")},cur:function(){var e=W.propHooks[this.prop]
return e&&e.get?e.get(this):W.propHooks._default.get(this)},run:function(e){var t,n=W.propHooks[this.prop]
return this.options.duration?this.pos=t=de.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):W.propHooks._default.set(this),this}},W.prototype.init.prototype=W.prototype,W.propHooks={_default:{get:function(e){var t
return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=de.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){de.fx.step[e.prop]?de.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[de.cssProps[e.prop]]||de.cssHooks[e.prop])?de.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},W.propHooks.scrollTop=W.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},de.each(["toggle","show","hide"],function(e,t){var n=de.fn[t]
de.fn[t]=function(e,o,i){return null==e||"boolean"==typeof e?n.apply(this,arguments):this.animate(B(t,!0),e,o,i)}}),de.fn.extend({fadeTo:function(e,t,n,o){return this.filter(_).css("opacity",0).show().end().animate({opacity:t},e,n,o)},animate:function(e,t,n,o){var i=de.isEmptyObject(e),a=de.speed(t,n,o),r=function(){var t=F(this,de.extend({},e),a)
r.finish=function(){t.stop(!0)},(i||de._data(this,"finish"))&&t.stop(!0)}
return r.finish=r,i||a.queue===!1?this.each(r):this.queue(a.queue,r)},stop:function(e,n,o){var i=function(e){var t=e.stop
delete e.stop,t(o)}
return"string"!=typeof e&&(o=n,n=e,e=t),n&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,n=null!=e&&e+"queueHooks",a=de.timers,r=de._data(this)
if(n)r[n]&&r[n].stop&&i(r[n])
else for(n in r)r[n]&&r[n].stop&&nn.test(n)&&i(r[n])
for(n=a.length;n--;)a[n].elem!==this||null!=e&&a[n].queue!==e||(a[n].anim.stop(o),t=!1,a.splice(n,1));(t||!o)&&de.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,n=de._data(this),o=n[e+"queue"],i=n[e+"queueHooks"],a=de.timers,r=o?o.length:0
for(n.finish=!0,de.queue(this,e,[]),i&&i.cur&&i.cur.finish&&i.cur.finish.call(this),t=a.length;t--;)a[t].elem===this&&a[t].queue===e&&(a[t].anim.stop(!0),a.splice(t,1))
for(t=0;r>t;t++)o[t]&&o[t].finish&&o[t].finish.call(this)
delete n.finish})}}),de.each({slideDown:B("show"),slideUp:B("hide"),slideToggle:B("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){de.fn[e]=function(e,n,o){return this.animate(t,e,n,o)}}),de.speed=function(e,t,n){var o=e&&"object"==typeof e?de.extend({},e):{complete:n||!n&&t||de.isFunction(e)&&e,duration:e,easing:n&&t||t&&!de.isFunction(t)&&t}
return o.duration=de.fx.off?0:"number"==typeof o.duration?o.duration:o.duration in de.fx.speeds?de.fx.speeds[o.duration]:de.fx.speeds._default,(null==o.queue||o.queue===!0)&&(o.queue="fx"),o.old=o.complete,o.complete=function(){de.isFunction(o.old)&&o.old.call(this),o.queue&&de.dequeue(this,o.queue)},o},de.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},de.timers=[],de.fx=W.prototype.init,de.fx.tick=function(){var e,n=de.timers,o=0
for(Kt=de.now();o<n.length;o++)e=n[o],e()||n[o]!==e||n.splice(o--,1)
n.length||de.fx.stop(),Kt=t},de.fx.timer=function(e){e()&&de.timers.push(e)&&de.fx.start()},de.fx.interval=13,de.fx.start=function(){Zt||(Zt=setInterval(de.fx.tick,de.fx.interval))},de.fx.stop=function(){clearInterval(Zt),Zt=null},de.fx.speeds={slow:600,fast:200,_default:400},de.fx.step={},de.expr&&de.expr.filters&&(de.expr.filters.animated=function(e){return de.grep(de.timers,function(t){return e===t.elem}).length}),de.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){de.offset.setOffset(this,e,t)})
var n,o,i={top:0,left:0},a=this[0],r=a&&a.ownerDocument
if(r)return n=r.documentElement,de.contains(n,a)?(typeof a.getBoundingClientRect!==G&&(i=a.getBoundingClientRect()),o=$(r),{top:i.top+(o.pageYOffset||n.scrollTop)-(n.clientTop||0),left:i.left+(o.pageXOffset||n.scrollLeft)-(n.clientLeft||0)}):i},de.offset={setOffset:function(e,t,n){var o=de.css(e,"position")
"static"===o&&(e.style.position="relative")
var i,a,r=de(e),s=r.offset(),l=de.css(e,"top"),c=de.css(e,"left"),d=("absolute"===o||"fixed"===o)&&de.inArray("auto",[l,c])>-1,u={},f={}
d?(f=r.position(),i=f.top,a=f.left):(i=parseFloat(l)||0,a=parseFloat(c)||0),de.isFunction(t)&&(t=t.call(e,n,s)),null!=t.top&&(u.top=t.top-s.top+i),null!=t.left&&(u.left=t.left-s.left+a),"using"in t?t.using.call(e,u):r.css(u)}},de.fn.extend({position:function(){if(this[0]){var e,t,n={top:0,left:0},o=this[0]
return"fixed"===de.css(o,"position")?t=o.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),de.nodeName(e[0],"html")||(n=e.offset()),n.top+=de.css(e[0],"borderTopWidth",!0),n.left+=de.css(e[0],"borderLeftWidth",!0)),{top:t.top-n.top-de.css(o,"marginTop",!0),left:t.left-n.left-de.css(o,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||Q;e&&!de.nodeName(e,"html")&&"static"===de.css(e,"position");)e=e.offsetParent
return e||Q})}}),de.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,n){var o=/Y/.test(n)
de.fn[e]=function(i){return de.access(this,function(e,i,a){var r=$(e)
return a===t?r?n in r?r[n]:r.document.documentElement[i]:e[i]:void(r?r.scrollTo(o?de(r).scrollLeft():a,o?a:de(r).scrollTop()):e[i]=a)},e,i,arguments.length,null)}}),de.each({Height:"height",Width:"width"},function(e,n){de.each({padding:"inner"+e,content:n,"":"outer"+e},function(o,i){de.fn[i]=function(i,a){var r=arguments.length&&(o||"boolean"!=typeof i),s=o||(i===!0||a===!0?"margin":"border")
return de.access(this,function(n,o,i){var a
return de.isWindow(n)?n.document.documentElement["client"+e]:9===n.nodeType?(a=n.documentElement,Math.max(n.body["scroll"+e],a["scroll"+e],n.body["offset"+e],a["offset"+e],a["client"+e])):i===t?de.css(n,o,s):de.style(n,o,i,s)},n,r?i:t,r,null)}})}),de.fn.size=function(){return this.length},de.fn.andSelf=de.fn.addBack,e.jQuery=e.$=de}(window),window.fk$=jQuery.noConflict(!0),+function(e){"use strict"
var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)}
t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,n,o){this.enabled=!0,this.type=t,this.$element=e(n),this.options=this.getOptions(o)
for(var i=this.options.trigger.split(" "),a=i.length;a--;){var r=i[a]
if("click"==r)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this))
else if("manual"!=r){var s="hover"==r?"mouseenter":"focusin",l="hover"==r?"mouseleave":"focusout"
this.$element.on(s+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},n=this.getDefaults()
return this._options&&e.each(this._options,function(e,o){n[e]!=o&&(t[e]=o)}),t},t.prototype.enter=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type)
return clearTimeout(n.timeout),n.hoverState="in",n.options.delay&&n.options.delay.show?void(n.timeout=setTimeout(function(){"in"==n.hoverState&&n.show()},n.options.delay.show)):n.show()},t.prototype.leave=function(t){var n=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type)
return clearTimeout(n.timeout),n.hoverState="out",n.options.delay&&n.options.delay.hide?void(n.timeout=setTimeout(function(){"out"==n.hoverState&&n.hide()},n.options.delay.hide)):n.hide()},t.prototype.show=function(){var t=e.Event("show.bs."+this.type)
if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return
var n=this,o=this.tip()
this.setContent(),this.options.animation&&o.addClass("fade")
var i="function"==typeof this.options.placement?this.options.placement.call(this,o[0],this.$element[0]):this.options.placement,a=/\s?auto?\s?/i,r=a.test(i)
r&&(i=i.replace(a,"")||"top"),o.detach().css({top:0,left:0,display:"block"}).addClass(i),this.options.container?o.appendTo(this.options.container):o.insertAfter(this.$element)
var s=this.getPosition(),l=o[0].offsetWidth,c=o[0].offsetHeight
if(r){var d=this.$element.parent(),u=i,f=document.documentElement.scrollTop||document.body.scrollTop,p="body"==this.options.container?window.innerWidth:d.outerWidth(),h="body"==this.options.container?window.innerHeight:d.outerHeight(),g="body"==this.options.container?0:d.offset().left
i="bottom"==i&&s.top+s.height+c-f>h?"top":"top"==i&&s.top-f-c<0?"bottom":"right"==i&&s.right+l>p?"left":"left"==i&&s.left-l<g?"right":i,o.removeClass(u).addClass(i)}var m=this.getCalculatedOffset(i,s,l,c)
this.applyPlacement(m,i),this.hoverState=null
var v=function(){n.$element.trigger("shown.bs."+n.type)}
e.support.transition&&this.$tip.hasClass("fade")?o.one(e.support.transition.end,v).emulateTransitionEnd(150):v()}},t.prototype.applyPlacement=function(t,n){var o,i=this.tip(),a=i[0].offsetWidth,r=i[0].offsetHeight,s=parseInt(i.css("margin-top"),10),l=parseInt(i.css("margin-left"),10)
isNaN(s)&&(s=0),isNaN(l)&&(l=0),t.top=t.top+s,t.left=t.left+l,e.offset.setOffset(i[0],e.extend({using:function(e){i.css({top:Math.round(e.top),left:Math.round(e.left)})}},t),0),i.addClass("in")
var c=i[0].offsetWidth,d=i[0].offsetHeight
if("top"==n&&d!=r&&(o=!0,t.top=t.top+r-d),/bottom|top/.test(n)){var u=0
t.left<0&&(u=-2*t.left,t.left=0,i.offset(t),c=i[0].offsetWidth,d=i[0].offsetHeight),this.replaceArrow(u-a+c,c,"left")}else this.replaceArrow(d-r,d,"top")
o&&i.offset(t)},t.prototype.replaceArrow=function(e,t,n){this.arrow().css(n,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle()
e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function t(){"in"!=n.hoverState&&o.detach(),n.$element.trigger("hidden.bs."+n.type)}var n=this,o=this.tip(),i=e.Event("hide.bs."+this.type)
return this.$element.trigger(i),i.isDefaultPrevented()?void 0:(o.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?o.one(e.support.transition.end,t).emulateTransitionEnd(150):t(),this.hoverState=null,this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0]
return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,n,o){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-n/2}:"top"==e?{top:t.top-o,left:t.left+t.width/2-n/2}:"left"==e?{top:t.top+t.height/2-o/2,left:t.left-n}:{top:t.top+t.height/2-o/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e,t=this.$element,n=this.options
return e=t.attr("data-original-title")||("function"==typeof n.title?n.title.call(t[0]):n.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var n=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this
n.tip().hasClass("in")?n.leave(n):n.enter(n)},t.prototype.destroy=function(){clearTimeout(this.timeout),this.hide().$element.off("."+this.type).removeData("bs."+this.type)}
var n=e.fn.tooltip
e.fn.tooltip=function(n){return this.each(function(){var o=e(this),i=o.data("bs.tooltip"),a="object"==typeof n&&n;(i||"destroy"!=n)&&(i||o.data("bs.tooltip",i=new t(this,a)),"string"==typeof n&&i[n]())})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=n,this}}(fk$),+function(e){"use strict"
var t=function(e,t){this.init("popover",e,t)}
if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js")
t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),n=this.getContent()
e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"string"==typeof n?"html":"append":"text"](n),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options
return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip}
var n=e.fn.popover
e.fn.popover=function(n){return this.each(function(){var o=e(this),i=o.data("bs.popover"),a="object"==typeof n&&n;(i||"destroy"!=n)&&(i||o.data("bs.popover",i=new t(this,a)),"string"==typeof n&&i[n]())})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=n,this}}(fk$),function(e){var t=[],n=e(document),o=navigator.userAgent.toLowerCase(),i=e(window),a=[],r={ieQuirks:null,msie:/msie/.test(o)&&!/opera/.test(o),opera:/opera/.test(o)}
r.ie6=r.msie&&/msie 6./.test(o)&&"object"!=typeof window.XMLHttpRequest,r.ie7=r.msie&&/msie 7.0/.test(o),e.fkmodal=function(t,n){return e.fkmodal.impl.init(t,n)},e.fkmodal.close=function(){e.fkmodal.impl.close()},e.fkmodal.focus=function(t){e.fkmodal.impl.focus(t)},e.fkmodal.setContainerDimensions=function(){e.fkmodal.impl.setContainerDimensions()},e.fkmodal.setPosition=function(){e.fkmodal.impl.setPosition()},e.fkmodal.update=function(t,n){e.fkmodal.impl.update(t,n)},e.fn.fkmodal=function(t){return e.fkmodal.impl.init(this,t)},e.fkmodal.defaults={appendTo:"body",focus:!0,opacity:50,overlayId:"simplemodal-overlay",overlayCss:{},containerId:"simplemodal-container",containerCss:{},dataId:"simplemodal-data",dataCss:{},minHeight:null,minWidth:null,maxHeight:null,maxWidth:null,autoResize:!1,autoPosition:!0,zIndex:1e3,close:!0,closeHTML:'<a class="modalCloseImg" title="Close"></a>',closeClass:"simplemodal-close",escClose:!0,overlayClose:!1,fixed:!0,position:null,persist:!1,fkmodal:!0,onOpen:null,onShow:null,onClose:null},e.fkmodal.impl={d:{},init:function(t,n){var o=this
if(o.d.data)return!1
if(r.ieQuirks=r.msie&&"BackCompat"===document.compatMode,o.o=e.extend({},e.fkmodal.defaults,n),o.zIndex=o.o.zIndex,o.occb=!1,"object"==typeof t)t=t instanceof e?t:e(t),o.d.placeholder=!1,t.parent().parent().size()>0&&(t.before(e("<span></span>").attr("id","simplemodal-placeholder").css({display:"none"})),o.d.placeholder=!0,o.display=t.css("display"),o.o.persist||(o.d.orig=t.clone(!0)))
else{if("string"!=typeof t&&"number"!=typeof t)return alert("SimpleModal Error: Unsupported data type: "+typeof t),o
t=e("<div></div>").html(t)}return o.create(t),t=null,o.open(),e.isFunction(o.o.onShow)&&o.o.onShow.apply(o,[o.d]),o},create:function(n){var o=this
o.getDimensions(),o.o.fkmodal&&r.ie6&&(o.d.iframe=e('<iframe src="javascript:false;"></iframe>').css(e.extend(o.o.iframeCss,{display:"none",opacity:0,position:"fixed",height:a[0],width:a[1],zIndex:o.o.zIndex,top:0,left:0})).appendTo(o.o.appendTo)),o.d.overlay=e("<div></div>").attr("id",o.o.overlayId).addClass("simplemodal-overlay").css(e.extend(o.o.overlayCss,{display:"none",opacity:o.o.opacity/100,height:o.o.fkmodal?t[0]:0,width:o.o.fkmodal?t[1]:0,position:"fixed",left:0,top:0,zIndex:o.o.zIndex+1})).appendTo(o.o.appendTo),o.d.container=e("<div></div>").attr("id",o.o.containerId).addClass("simplemodal-container").css(e.extend({position:o.o.fixed?"fixed":"absolute"},o.o.containerCss,{display:"none",zIndex:o.o.zIndex+2})).append(o.o.close&&o.o.closeHTML?e(o.o.closeHTML).addClass(o.o.closeClass):"").appendTo(o.o.appendTo),o.d.wrap=e("<div></div>").attr("tabIndex",-1).addClass("simplemodal-wrap").css({height:"100%",outline:0,width:"100%"}).appendTo(o.d.container),o.d.data=n.attr("id",n.attr("id")||o.o.dataId).addClass("simplemodal-data").css(e.extend(o.o.dataCss,{display:"none"})).appendTo("body"),n=null,o.setContainerDimensions(),o.d.data.appendTo(o.d.wrap),(r.ie6||r.ieQuirks)&&o.fixIE()},bindEvents:function(){var o=this
e("."+o.o.closeClass).bind("click.simplemodal",function(e){e.preventDefault(),o.close(),e.stopPropagation()}),o.o.fkmodal&&o.o.close&&o.o.overlayClose&&o.d.overlay.bind("click.simplemodal",function(e){e.preventDefault(),o.close(),e.stopPropagation()}),n.bind("keydown.simplemodal",function(e){o.o.fkmodal&&9===e.keyCode?o.watchTab(e):o.o.close&&o.o.escClose&&27===e.keyCode&&(e.preventDefault(),o.close())}),i.bind("resize.simplemodal orientationchange.simplemodal",function(){o.getDimensions(),o.o.autoResize?o.setContainerDimensions():o.o.autoPosition&&o.setPosition(),r.ie6||r.ieQuirks?o.fixIE():o.o.fkmodal&&(o.d.iframe&&o.d.iframe.css({height:a[0],width:a[1]}),o.d.overlay.css({height:t[0],width:t[1]}))})},unbindEvents:function(){e("."+this.o.closeClass).unbind("click.simplemodal"),n.unbind("keydown.simplemodal"),i.unbind(".simplemodal"),this.d.overlay.unbind("click.simplemodal")},fixIE:function(){var t=this,n=t.o.position
e.each([t.d.iframe||null,t.o.fkmodal?t.d.overlay:null,"fixed"===t.d.container.css("position")?t.d.container:null],function(e,t){if(t){var o="document.body.clientHeight",i="document.body.clientWidth",a="document.body.scrollHeight",r="document.body.scrollLeft",s="document.body.scrollTop",l="document.body.scrollWidth",c="document.documentElement.clientHeight",d="document.documentElement.clientWidth",u="document.documentElement.scrollLeft",f="document.documentElement.scrollTop",p=t[0].style
if(p.position="absolute",2>e)p.removeExpression("height"),p.removeExpression("width"),p.setExpression("height",""+a+" > "+o+" ? "+a+" : "+o+' + "px"'),p.setExpression("width",""+l+" > "+i+" ? "+l+" : "+i+' + "px"')
else{var h,g
if(n&&n.constructor===Array){var m=n[0]?"number"==typeof n[0]?n[0].toString():n[0].replace(/px/,""):t.css("top").replace(/px/,"")
if(h=-1===m.indexOf("%")?m+" + (t = "+f+" ? "+f+" : "+s+') + "px"':parseInt(m.replace(/%/,""))+" * (("+c+" || "+o+") / 100) + (t = "+f+" ? "+f+" : "+s+') + "px"',n[1]){var v="number"==typeof n[1]?n[1].toString():n[1].replace(/px/,"")
g=-1===v.indexOf("%")?v+" + (t = "+u+" ? "+u+" : "+r+') + "px"':parseInt(v.replace(/%/,""))+" * (("+d+" || "+i+") / 100) + (t = "+u+" ? "+u+" : "+r+') + "px"'}}else h="("+c+" || "+o+") / 2 - (this.offsetHeight / 2) + (t = "+f+" ? "+f+" : "+s+') + "px"',g="("+d+" || "+i+") / 2 - (this.offsetWidth / 2) + (t = "+u+" ? "+u+" : "+r+') + "px"'
p.removeExpression("top"),p.removeExpression("left"),p.setExpression("top",h),p.setExpression("left",g)}}})},focus:function(t){var n=this,o=t&&-1!==e.inArray(t,["first","last"])?t:"first",i=e(":input:enabled:visible:"+o,n.d.wrap)
setTimeout(function(){i.length>0?i.focus():n.d.wrap.focus()},10)},getDimensions:function(){var e="undefined"==typeof window.innerHeight?i.height():window.innerHeight
t=[n.height(),n.width()],a=[e,i.width()]},getVal:function(e,t){return e?"number"==typeof e?e:"auto"===e?0:e.indexOf("%")>0?parseInt(e.replace(/%/,""))/100*("h"===t?a[0]:a[1]):parseInt(e.replace(/px/,"")):null},update:function(e,t){var n=this
return n.d.data?(n.d.origHeight=n.getVal(e,"h"),n.d.origWidth=n.getVal(t,"w"),n.d.data.hide(),e&&n.d.container.css("height",e),t&&n.d.container.css("width",t),n.setContainerDimensions(),n.d.data.show(),n.o.focus&&n.focus(),n.unbindEvents(),void n.bindEvents()):!1},setContainerDimensions:function(){var e=this,t=r.ie6||r.ie7,n=e.d.origHeight?e.d.origHeight:r.opera?e.d.container.height():e.getVal(t?e.d.container[0].currentStyle.height:e.d.container.css("height"),"h"),o=e.d.origWidth?e.d.origWidth:r.opera?e.d.container.width():e.getVal(t?e.d.container[0].currentStyle.width:e.d.container.css("width"),"w"),i=e.d.data.outerHeight(!0),s=e.d.data.outerWidth(!0)
e.d.origHeight=e.d.origHeight||n,e.d.origWidth=e.d.origWidth||o
var l=e.o.maxHeight?e.getVal(e.o.maxHeight,"h"):null,c=e.o.maxWidth?e.getVal(e.o.maxWidth,"w"):null,d=l&&l<a[0]?l:a[0],u=c&&c<a[1]?c:a[1],f=e.o.minHeight?e.getVal(e.o.minHeight,"h"):"auto"
n=n?e.o.autoResize&&n>d?d:f>n?f:n:i?i>d?d:e.o.minHeight&&"auto"!==f&&f>i?f:i:f
var p=e.o.minWidth?e.getVal(e.o.minWidth,"w"):"auto"
o=o?e.o.autoResize&&o>u?u:p>o?p:o:s?s>u?u:e.o.minWidth&&"auto"!==p&&p>s?p:s:p,e.d.container.css({height:n,width:o}),e.d.wrap.css({overflow:i>n||s>o?"auto":"visible"}),e.o.autoPosition&&e.setPosition()},setPosition:function(){var e,t,n=this,o=a[0]/2-n.d.container.outerHeight(!0)/2,r=a[1]/2-n.d.container.outerWidth(!0)/2,s="fixed"!==n.d.container.css("position")?i.scrollTop():0
n.o.position&&"[object Array]"===Object.prototype.toString.call(n.o.position)?(e=s+(n.o.position[0]||o),t=n.o.position[1]||r):(e=s+o,t=r),n.d.container.css({left:t,top:e})},watchTab:function(t){var n=this
if(e(t.target).parents(".simplemodal-container").length>0){if(n.inputs=e(":input:enabled:visible:first, :input:enabled:visible:last",n.d.data[0]),!t.shiftKey&&t.target===n.inputs[n.inputs.length-1]||t.shiftKey&&t.target===n.inputs[0]||0===n.inputs.length){t.preventDefault()
var o=t.shiftKey?"last":"first"
n.focus(o)}}else t.preventDefault(),n.focus()},open:function(){var t=this
t.d.iframe&&t.d.iframe.show(),e.isFunction(t.o.onOpen)?t.o.onOpen.apply(t,[t.d]):(t.d.overlay.show(),t.d.container.show(),t.d.data.show()),t.o.focus&&t.focus(),t.bindEvents()},close:function(){var t=this
if(!t.d.data)return!1
if(t.unbindEvents(),e.isFunction(t.o.onClose)&&!t.occb)t.occb=!0,t.o.onClose.apply(t,[t.d])
else{if(t.d.placeholder){var n=e("#simplemodal-placeholder")
t.o.persist?n.replaceWith(t.d.data.removeClass("simplemodal-data").css("display",t.display)):(t.d.data.hide().remove(),n.replaceWith(t.d.orig))}else t.d.data.hide().remove()
t.d.container.hide().remove(),t.d.overlay.hide(),t.d.iframe&&t.d.iframe.hide().remove(),t.d.overlay.remove(),t.d={}}}}}(fk$),function(e){function t(e){return e}function n(e){return decodeURIComponent(e.replace(i," "))}function o(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"))
try{return a.json?JSON.parse(e):e}catch(t){}}var i=/\+/g,a=e.cookie=function(i,r,s){if(void 0!==r){if(s=e.extend({},a.defaults,s),"number"==typeof s.expires){var l=s.expires,c=s.expires=new Date
c.setDate(c.getDate()+l)}return r=a.json?JSON.stringify(r):String(r),document.cookie=[a.raw?i:encodeURIComponent(i),"=",a.raw?r:encodeURIComponent(r),s.expires?"; expires="+s.expires.toUTCString():"",s.path?"; path="+s.path:"",s.domain?"; domain="+s.domain:"",s.secure?"; secure":""].join("")}for(var d=a.raw?t:n,u=document.cookie.split("; "),f=i?void 0:{},p=0,h=u.length;h>p;p++){var g=u[p].split("="),m=d(g.shift()),v=d(g.join("="))
if(i&&i===m){f=o(v)
break}i||(f[m]=o(v))}return f}
a.defaults={},e.removeCookie=function(t,n){return void 0!==e.cookie(t)?(e.cookie(t,"",e.extend({},n,{expires:-1})),!0):!1}}(fk$),function(e){e.fn.betterTrigger=function(t,n){return this.each(function(){try{var o=new CustomEvent(t,{detail:n})
window.document.dispatchEvent(o)}catch(i){try{var o=document.createEvent("Event")
o.initEvent(t,!0,!0),o.detail=n,window.document.dispatchEvent(o)}catch(i){e(document).trigger(t,n)}}})}}(fk$),function(e){function t(e){return e.replace(/(:|\.|\[|\])/g,"\\$1")}e.fn.getPath=function(){try{if(0==this.length)return""
for(var e,n=this;n.length;){var o=n[0],i=o.localName,a=o.className
if(!i)break
i=i.toLowerCase(),o.id?i+="#"+t(o.id):a&&(a=a.trim(),a=t(a),i+="."+a.split(/\s+/).join("."))
var r=n.parent(),s=r.children(i)
s.length>1&&(i+=":eq("+s.index(n)+")"),e=i+(e?">"+e:""),n=r}return e}catch(l){return""}}}(fk$),function(){var e=!1,t=window.localStorage.getItem("fk-debug")
if(t)try{var n=new Date(t),o=n.getTime(),i=o/1e3/60,a=(new Date).getTime(),r=a/1e3/60
1440>=r-i&&(e=!0)}catch(s){}window.fkconsole={},e?(fkconsole.info=function(e){console&&console.info&&console.info(e)},fkconsole.error=function(e){console&&console.error&&console.error(e)},fkconsole.log=function(){console&&console.log&&console.log(arguments)},fkconsole.dir=function(e){console&&console.dir&&console.dir(e)}):(fkconsole.info=function(){},fkconsole.error=function(){},fkconsole.log=function(){},fkconsole.dir=function(){})}(),function(e,t){void 0===t.fk&&(t.fk={})
var n=t.fk
void 0===n.helpers&&(n.helpers={}),n.helpers.getUniqueTime=function(){for(var e=(new Date).getTime();e==(new Date).getTime(););return(new Date).getTime()},n.helpers.isRealNumber=function(e){return 8==Object.prototype.toString.call(e).indexOf("Number")?!0:!1},n.helpers.doIHaveARealString=function(e){return e&&8==Object.prototype.toString.call(e).indexOf("String")&&e.length>0&&"null"!=e&&"undefined"!=e?!0:!1},n.helpers.doIHaveARealJson=function(e){return e&&8==Object.prototype.toString.call(e).indexOf("Object")&&"null"!=e&&"undefined"!=e?!0:!1},n.helpers.stringToJson=function(e){var t={},o=n.helpers.doIHaveARealString(e)
if(0==o)return t
try{t=JSON.parse(e)}catch(i){}return t},n.helpers.numberOfEntriesInJson=function(e){var t=0
for(var n in e)0!=e.hasOwnProperty(n)&&t++
return t},n.helpers.wildSearch=function(e,t){for(var n,o=t.split("*"),i=o.length,a=-1,r=0;i>r;r++){if(n=o[r],a=e.indexOf(n),0>a)return!1
e=e.substring(a+n.length)}return!0},n.helpers.escapeRegex=function(e){return e.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},n.helpers.comareDates=function(e,t){return e=Date.parse(e),t=Date.parse(t),t>e?-1:e==t?0:1},n.helpers.isIpInRange=function(e,t){for(var n,i,a,r,s=t.split(","),l=!1,c=0;c<s.length;c++)a=s[c],n=a,i=a,a.indexOf("-")>0&&(n=a.split("-")[0].trim(),i=a.split("-")[1].trim()),n=o(n),i=o(i),r=o(e),r>=n&&i>=r&&(l=!0)
return l}
var o=function(e){var t=e.split("."),n=256*+t[0]*256*256+256*+t[1]*256+256*+t[2]+ +t[3]
return n}
n.helpers.roundUp=function(e,t){return 1==isNaN(e)||1==isNaN(t)?0:(e/=t,e=Math.round(e),e*=t,e=Math.round(e))},n.helpers.parseContentEditableElem=function(e){return e[0].innerText?e[0].innerText.trim().replace(/[\n]|[\r\n]/gi,"<br>"):e.html().trim()},n.helpers.areWeOnSSL=function(){return 0==n.constants.domainName.indexOf("https")?!0:!1},n.helpers.getUrlParameter=function(e){return decodeURI((RegExp(e+"=(.+?)(&|$)").exec(location.search)||[,null])[1])},n.helpers.escapeRegex=function(e){return String(e).replace(/[\\^$*+?.()|[\]{}]/g,"\\$&")}}(fk$,window),function(e,t){void 0===t.fk&&(t.fk={})
var n=t.fk
void 0===n.itemUploader&&(n.itemUploader={})
var o="fkUploadHash",i=2500,a=5e3,r=function(e,t,n){fkconsole.log("in addItemToUploadList")
var o=u(),i={url:e,data:t,method:n,ts:(new Date).getTime()},a=Math.random()
fkconsole.log("will add this item: ",i,"at key: ",a),o[a]=i,f(o)},s=function(e){var t=u()
fkconsole.log("asked to remove item with key: ",e),delete t[e],f(t)},l=function(){var e=u(),t=null
for(var n in e)if(0!=e.hasOwnProperty(n)){t=n
break}return fkconsole.log("will lookup item of first key which is: ",t,"and its value is: ",e[t]),[n,e[t]]},c=function(){var e=u()
return fkconsole.log(e),e},d=function(){localStorage.removeItem(o),fkconsole.log("cleared")},u=function(){var e=localStorage.getItem(o)
return e=JSON.parse(e),fkconsole.log("currently the upload hash is like: ",e),null==e&&(fkconsole.log("upload hash was empty. will initialize it to be empty"),e={}),e},f=function(e){fkconsole.log("saving hash: ",e),localStorage.setItem(o,JSON.stringify(e))},p=function(t){var n=t.data
n.fkUploadHashkey=t.fkUploadHashkey,fkconsole.log("in callServer. dataToUpload: ",n,"url is: ",t.url),e.ajax({data:n,context:t.context?t.context:this,timeout:t.timeout?t.timeout:5e3,method:t.method?t.method:"PUT",url:t.url,xhrFields:{withCredentials:!0},error:function(e,n,o){t.error&&t.error.apply(this,arguments)},success:function(e,n,o){t.success&&t.success.apply(this,arguments)},complete:function(e,n){t.complete&&t.complete.apply(this,arguments)}})},h=function(){fkconsole.log("checking itemToUploadHash in localstorage for data")
var t=l(),n=t[0],o=t[1]
if(n){fkconsole.log("got data to upload. ",n,o)
var r={url:o.url,data:o.data,method:o.method,timeout:a,fkUploadHashkey:n,success:function(e,t,n){fkconsole.log("successfully uploaded stuff and got: ",e),e.fkUploadHashkey&&(fkconsole.log("the upload response has a key: ",e.fkUploadHashkey,"will remove this data from the hash"),s(e.fkUploadHashkey))
var o=e.targetStartPoints?e.targetStartPoints:100
fkconsole.log("targetStartPoints:",o),(e.marketing_stop_points||e.marketing_start_points)&&(fkconsole.log("response had start/stop points. checking and firing events",e),e.marketing_stop_points>=100?m(e.user_id,e.visitor_id):e.marketing_start_points>=o&&g(e.user_id,e.visitor_id)),fkconsole.log("rescheduling to fetch and upload in a few seconds"),window.setTimeout(h,i)},error:function(e,t,n){fkconsole.log("error occurred while uploading. will stop the uploading")},complete:function(t,n){e(document).dequeue()}}
e(document).queue(function(){p(r)})}else fkconsole.log("no data received to be uploaded. resheduling to check again in a few seconds"),window.setTimeout(h,i)},g=function(t,o){fkconsole.log("in start marketing with uid: ",t," and vid: ",o),e.ajax({url:n.constants.domainName+"/users/"+t+"/visitors/"+o+"/marketings",method:"POST",xhrFields:{withCredentials:!0},error:function(){fkconsole.log("error. unable to start marketing to visitor")},success:function(t,o,i){if(t&&t.bucket&&t.bucket.target_code){var a=t.bucket.target_code
n.helpers.doIHaveARealString(a)?(fkconsole.log("success got targetCode: "+a),e("body").append(a)):fkconsole.log("did not got a target code: "+a)}else fkconsole.log("did not get back a marketing record with bucket and target code")}})},m=function(t,o){fkconsole.log("inside stopMarketing"),e.ajax({url:n.constants.domainName+"/users/"+t+"/visitors/"+o+"/marketings/stop",method:"POST",xhrFields:{withCredentials:!0},error:function(){fkconsole.log("error. unable to stop marketing to visitor")},success:function(t,o,i){if(t&&t.bucket&&t.bucket.exclude_code){var a=t.bucket.exclude_code
n.helpers.doIHaveARealString(a)?(fkconsole.log("success got excludeCode: "+a),e("body").append(a)):fkconsole.log("did not got a excludeCode: "+a)}else fkconsole.log("did not got a marketing record and its bucket so nothing to do in stop")}})},v=function(){fkconsole.log("initializing the itemUploader"),window.setTimeout(h,i)}
n.itemUploader.addItem=r,n.itemUploader.removeItem=s,n.itemUploader.getFirstItem=l,n.itemUploader.viewList=c,n.itemUploader.clearList=d,n.itemUploader.init=v}(fk$,window)
var FkAutolinker={htmlRegex:/<(\/)?(\w+)(?:(?:\s+\w+(?:\s*=\s*(?:".*?"|'.*?'|[^'">\s]+))?)+\s*|\s*)\/?>/g,prefixRegex:/^(https?:\/\/)?(www\.)?/,link:function(e,t){function n(e){return e=e.replace(r,function(e,t,n,o,i,a){var r=t,p=n,h=o,g=i,m=a,v="",y="",b=[],k=e.charAt(e.length-1)
if(")"===k){var w=e.match(/\(/g),x=e.match(/\)/g),_=w&&w.length||0,T=x&&x.length||0
T>_&&(e=e.substr(0,e.length-1),y=")")}var C=e,S=e
return r&&!d||g&&!u||m&&!f?v+S+y:(r?(v=p,C="https://twitter.com/"+h,S="@"+h):g?(C="mailto:"+g,S=g):/^[A-Za-z]{3,9}:/i.test(C)||(C="http://"+C),l&&(S=S.replace(FkAutolinker.prefixRegex,"")),"/"===S.charAt(S.length-1)&&(S=S.slice(0,-1)),b.push('href="'+C+'"'),s&&b.push('target="_blank"'),c&&S.length>c&&(S=S.substring(0,c-2)+".."),v+"<a "+b.join(" ")+">"+S+"</a>"+y)})}t=t||{}
for(var o,i,a=FkAutolinker.htmlRegex,r=FkAutolinker.matcherRegex,s=("newWindow"in t?t.newWindow:!0),l=("stripPrefix"in t?t.stripPrefix:!0),c=t.truncate,d=("twitter"in t?t.twitter:!0),u=("email"in t?t.email:!0),f=("urls"in t?t.urls:!0),p=0,h="",g=0;null!==(o=a.exec(e));){var m=o[0],v=o[2],y=!!o[1]
i=e.substring(p,o.index),p=o.index+m.length,"a"===v?y?(g--,0===g&&(h+=i)):(g++,h+=n(i)):0===g&&(h+=n(i)),h+=m}return p<e.length&&(h+=n(e.substring(p))),h}}
FkAutolinker.matcherRegex=/((^|\s)@(\w{1,15}))|((?:[\-;:&=\+\$,\w\.]+@)[A-Za-z0-9\.\-]*[A-Za-z0-9\-]\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b)|((?:(?:(?:[A-Za-z]{3,9}:(?:\/\/)?)[A-Za-z0-9\.\-]*[A-Za-z0-9\-])|(?:(?:www\.)[A-Za-z0-9\.\-]*[A-Za-z0-9\-])|(?:[A-Za-z0-9\.\-]*[A-Za-z0-9\-]\.(?:international|construction|contractors|enterprises|photography|productions|foundation|immobilien|industries|management|properties|technology|christmas|community|directory|education|equipment|institute|marketing|solutions|vacations|bargains|boutique|builders|catering|cleaning|clothing|computer|democrat|diamonds|graphics|holdings|lighting|partners|plumbing|supplies|training|ventures|academy|careers|company|cruises|domains|exposed|flights|florist|gallery|guitars|holiday|kitchen|neustar|okinawa|recipes|rentals|reviews|shiksha|singles|support|systems|agency|berlin|camera|center|coffee|condos|dating|estate|events|expert|futbol|kaufen|luxury|maison|monash|museum|nagoya|photos|repair|report|social|supply|tattoo|tienda|travel|viajes|villas|vision|voting|voyage|actor|build|cards|cheap|codes|dance|email|glass|house|mango|ninja|parts|photo|shoes|solar|today|tokyo|tools|watch|works|aero|arpa|asia|best|bike|blue|buzz|camp|club|cool|coop|farm|fish|gift|guru|info|jobs|kiwi|kred|land|limo|link|menu|mobi|moda|name|pics|pink|post|qpon|rich|ruhr|sexy|tips|vote|voto|wang|wien|wiki|zone|bar|bid|biz|cab|cat|ceo|com|edu|gov|int|kim|mil|net|onl|org|pro|pub|red|tel|uno|wed|xxx|xyz|ac|ad|ae|af|ag|ai|al|am|an|ao|aq|ar|as|at|au|aw|ax|az|ba|bb|bd|be|bf|bg|bh|bi|bj|bm|bn|bo|br|bs|bt|bv|bw|by|bz|ca|cc|cd|cf|cg|ch|ci|ck|cl|cm|cn|co|cr|cu|cv|cw|cx|cy|cz|de|dj|dk|dm|do|dz|ec|ee|eg|er|es|et|eu|fi|fj|fk|fm|fo|fr|ga|gb|gd|ge|gf|gg|gh|gi|gl|gm|gn|gp|gq|gr|gs|gt|gu|gw|gy|hk|hm|hn|hr|ht|hu|id|ie|il|im|in|io|iq|ir|is|it|je|jm|jo|jp|ke|kg|kh|ki|km|kn|kp|kr|kw|ky|kz|la|lb|lc|li|lk|lr|ls|lt|lu|lv|ly|ma|mc|md|me|mg|mh|mk|ml|mm|mn|mo|mp|mq|mr|ms|mt|mu|mv|mw|mx|my|mz|na|nc|ne|nf|ng|ni|nl|no|np|nr|nu|nz|om|pa|pe|pf|pg|ph|pk|pl|pm|pn|pr|ps|pt|pw|py|qa|re|ro|rs|ru|rw|sa|sb|sc|sd|se|sg|sh|si|sj|sk|sl|sm|sn|so|sr|st|su|sv|sx|sy|sz|tc|td|tf|tg|th|tj|tk|tl|tm|tn|to|tp|tr|tt|tv|tw|tz|ua|ug|uk|us|uy|uz|va|vc|ve|vg|vi|vn|vu|wf|ws|ye|yt|za|zm|zw)\b))(?:[-A-Za-z0-9+&@#\/%?=~_()|!:,.;]*[-A-Za-z0-9+&@#\/%=~_()|])?)/g,function(e){e.fn.isElementInViewport=function(){var t=e(this).get(0),n=t.getBoundingClientRect()
return n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)}}(fk$),function(e){e.fn.viewportHeight=function(t){return null===document.doctype?document.body.clientHeight:e(window).height()}}(fk$),function(e){e.fn.scrollStopped=function(t){var n="scrollTimeout_"+fk.helpers.getUniqueTime()
e(this).scroll(function(){var o=this,i=e(o)
i.data(n)&&clearTimeout(i.data(n)),i.data(n,setTimeout(t,500,o))})}}(fk$),function(e){e.fn.reachedBottom=function(t){e(this).scrollStopped(function(){e(window).scrollTop()+e(document).viewportHeight()>e(document).height()-5&&t()})}}(fk$),function(e){e.fn.mousedOut=function(t){return this.each(function(){e(this).on("mouseleave",function(e){e.clientY<=0&&t(e)})})}}(fk$),function(e){var t
void 0===window.fk&&(window.fk={}),window.fk.templates={},t=window.fk.templates,t.feedback=e('<div>  <div class="container-fluid fk-cont" data-widgetname data-widgetid data-featureid>    <button type="button" class="close close-right-button" aria-hidden="true">&times;</button>    <div class="fkrow">      <div class="col-sm-12">        <p class="fk-question" data-paramname="custom2">        </p>      </div>      <div class="col-sm-12">        <p>          <textarea class="form-control" rows=2            data-paramname="custom1"></textarea>        </p>      </div>      <div class="col-sm-12">        <span style="" class="fk-invalidinput">          Invalid Input!        </span>        <button type="button" data-paramname="custom3" data-action          class="fkbtn fkbtn-default fkbtn-xs pull-right">        </button>      </div>    </div>  </div></div>'),t.field=e('<div>  <div class="container-fluid fk-cont" data-widgetname data-widgetid data-featureid>    <button type="button" class="close close-right-button" aria-hidden="true">&times;</button>    <div class="fkrow">      <div class="col-sm-12">        <p class="fk-question" data-paramname="custom2">        </p>      </div>      <div class="col-sm-12">        <p>          <input type="text" class="form-control"             data-paramname="custom1">        </p>      </div>      <div class="col-sm-12">        <span style="" class="fk-invalidinput">          Invalid Input!        </span>        <button type="button" data-paramname="custom3" data-action          class="fkbtn fkbtn-default fkbtn-xs pull-right">        </button>      </div>    </div>  </div></div>'),t.checkbox=e('<div>  <div class="container-fluid fk-cont" data-widgetname data-widgetid data-featureid>    <button type="button" class="close close-right-button" aria-hidden="true">&times;</button>    <div class="fkrow">      <div class="col-sm-12">        <p class="fk-question" data-paramname="custom10">        </p>      </div>      <div class="col-sm-12">          <div class="fkcheckbox">            <label>              <input type="checkbox"><span data-paramname="custom1"></span>            </label>          </div>          <div class="fkcheckbox">            <label>              <input type="checkbox"><span data-paramname="custom2"></span>            </label>          </div>          <div class="fkcheckbox">            <label>              <input type="checkbox"><span data-paramname="custom3"></span>            </label>          </div>          <div class="fkcheckbox">            <label>              <input type="checkbox"><span data-paramname="custom4"></span>            </label>          </div>          <div class="fkcheckbox">            <label>              <input type="checkbox"><span data-paramname="custom5"></span>          </div>          <div class="fkcheckbox">            <label>              <input type="checkbox"><span data-paramname="custom6"></span>          </div>          <div class="fkcheckbox">            <label>              <input type="checkbox"><span data-paramname="custom7"></span>          </div>          <div class="fkcheckbox">            <label>              <input type="checkbox"><span data-paramname="custom8"></span>          </div>          <div class="fkcheckbox">            <label>              <input type="checkbox"><span data-paramname="custom9"></span>          </div>          <div class="fkcheckbox">            <label>              <input type="checkbox"><span data-paramname="custom11"></span>          </div>          <div class="fkcheckbox">            <label>              <input type="checkbox"><span data-paramname="custom12"></span>          </div>      </div>      <div class="col-sm-12">        <span  style="" class="fk-invalidinput">          Invalid Input!        </span>        <button type="button" data-action          class="fkbtn fkbtn-default fkbtn-xs pull-right">            Submit        </button>      </div>    </div>  </div></div>'),t.thankyou=e('<div>  <div class="container-fluid fk-cont" data-widgetname data-widgetid data-featureid>    <button type="button" class="close close-right-button" aria-hidden="true">&times;</button>    <div class="fkrow">      <div class="col-sm-12">        <p class="fk-question" data-paramname="custom1">        </p>      </div>      <div class="col-sm-12 fk-thankyoubody" data-paramname="custom2">      </div>    </div>  </div></div>'),t.message=e('<div>  <div class="container-fluid fk-cont" data-widgetname data-widgetid data-featureid>    <button type="button" class="close close-right-button" aria-hidden="true">&times;</button>    <div class="fkrow">      <div class="col-sm-12">        <p class="fk-thankyoubody" data-paramname="custom1">        </p>      </div>    </div>    <div class="fkrow">      <div class="col-sm-12">        <button type="button" data-paramname="custom2" data-go="-1" data-action          class="fkbtn fkbtn-default fkbtn-xs pull-left">        </button>        <button type="button" data-paramname="custom4" data-close="1" data-action          class="fkbtn fkbtn-default fkbtn-xs pull-right closeButton">        </button>        <button type="button" data-paramname="custom3"  data-go="1" data-action          class="fkbtn fkbtn-default fkbtn-xs pull-right">        </button>      </div>    </div>  </div></div>'),t.thumb=e('<div>  <div class="container-fluid fk-cont" data-widgetname data-widgetid data-featureid>    <button type="button" class="close close-right-button" aria-hidden="true">&times;</button>    <div class="fkrow">      <div class="col-sm-12">        <p class="fk-question" data-paramname="custom1">        </p>      </div>      <div class="col-sm-12" style="text-align:center">        <div class="fkrow">          <div class="col-sm-3 col-xs-3 col-sm-offset-3 col-xs-offset-3">            <span class="glyphicon glyphicon-thumbs-up fk-thumbsicon" data-action data-paramname="custom2">            </span>          </div>          <div class="col-sm-3 col-xs-3">            <span class="glyphicon glyphicon-thumbs-down fk-thumbsicon" data-action data-paramname="custom3">            </span>          </div>        </div>        <div class="fkrow">          <div class="col-sm-3 col-sm-offset-3 col-xs-3 col-xs-offset-3 fk-thumbsans"            data-paramname="custom2" data-action>          </div>          <div class="col-sm-3 col-xs-3 fk-thumbsans" data-paramname="custom3" data-action>          </div>        </div>      </div>    </div>  </div></div>'),t.multiplechoice=e('<div>  <div class="container-fluid fk-cont" data-widgetname data-widgetid data-featureid>    <button type="button" class="close close-right-button" aria-hidden="true">&times;</button>      <div class="fkrow">        <div class="col-sm-12">          <p class="fk-question" data-paramname="custom10">          </p>        </div>        <div class="col-sm-12">           <div class="fkradio">             <label>                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom1">                </span>             </label>           </div>           <div class="fkradio">             <label>                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom2">                </span>             </label>           </div>           <div class="fkradio">             <label>                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom3">                </span>             </label>           </div>           <div class="fkradio">             <label>                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom4">                </span>             </label>           </div>           <div class="fkradio">             <label>                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom5">                </span>           </div>           <div class="fkradio">             <label>                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom6">                </span>           </div>           <div class="fkradio">             <label>                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom7">                </span>           </div>           <div class="fkradio">             <label>                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom8">                </span>           </div>           <div class="fkradio">             <label>                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom9">                </span>           </div>           <div class="fkradio">             <label>                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom11">                </span>           </div>           <div class="fkradio">             <label>                <input type="radio" name="optionRadios" data-action>                <input type="text" class="form-control input-sm"                 placeholder="Other" data-paramname="custom12">           </div>         </div>      </div>      <div class="fkrow">          <div class="col-sm-12">            <span style="" class="fk-invalidinput">              Invalid Input!            </span>            <button type="button" data-action              class="fkbtn fkbtn-default fkbtn-xs pull-right">                Submit            </button>          </div>      </div>  </div></div>'),t.email=e('<div>  <div class="container-fluid fk-cont" data-widgetname data-widgetid data-featureid>    <button type="button" class="close close-right-button" aria-hidden="true">&times;</button>      <div class="fkrow">        <div class="col-sm-12">          <p class="fk-question" data-paramname="custom1">          </p>          <p data-paramname="custom2">          </p>        </div>        <div class="col-sm-12">          <p>            <input type="email" class="form-control" data-paramname="custom3" />          </p>        </div>      </div>      <div class="fkrow">        <div class="col-sm-12">          <a href="javascript:void(0);" class="fk-skiplink"            data-action data-skip=true>              Skip          </a>          <span class="fk-invalidinput">            Invalid Input!          </span>          <button type="button" data-action data-paramname="custom4"            class="fkbtn fkbtn-default fkbtn-xs pull-right">          </button>        </div>      </div>  </div></div>'),t.nps=e('<div>  <div class="container-fluid fk-cont" data-widgetname data-widgetid data-featureid>    <button type="button" class="close close-right-button" aria-hidden="true">&times;</button>      <div class="fkrow">        <div class="col-sm-12">          <p class="fk-question" data-paramname="custom15">          </p>        </div>        <div class="col-sm-12">           <p class="fk-npsrow">              <span class="fk-npsradioitemfirst">                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom11"></span>              </span>              <span class="fk-npsradioitem">                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom1"></span>              </span>              <span class="fk-npsradioitem">                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom2"></span>              </span>              <span class="fk-npsradioitem">                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom3"></span>              </span>              <span class="fk-npsradioitem">                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom4"></span>              </span>              <span class="fk-npsradioitem">                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom5"></span>              </span>              <span class="fk-npsradioitem">                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom6"></span>              </span>              <span class="fk-npsradioitem">                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom7"></span>              </span>              <span class="fk-npsradioitem">                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom8"></span>              </span>              <span class="fk-npsradioitem">                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom9"></span>              </span>              <span class="fk-npsradioitem">                <input type="radio" name="optionRadios" data-action>                <span data-paramname="custom10"></span>              </span>            </p>        </div>        <div class="col-sm-6 col-xs-6 text-left">           <p class="fk-npsleft" data-paramname="custom13">           </p>        </div>        <div class="col-sm-6 col-xs-6 text-right">           <p class="fk-npsright" data-paramname="custom14">           </p>        </div>      </div>      <div class="fkrow">        <div class="col-sm-12">          <a href="javascript:void(0);" class="fk-skiplink"            data-action data-skip=true>              Skip          </a>          <span class="fk-invalidinput">            Invalid Input!          </span>          <button type="button" data-action            class="fkbtn fkbtn-default fkbtn-xs pull-right">              Submit          </button>        </div>      </div>  </div></div>'),t.beta=e('<div>  <div class="container-fluid fk-cont" data-widgetname data-widgetid data-featureid>    <button type="button" class="close close-right-button" aria-hidden="true">&times;</button>      <div class="fkrow">        <div class="col-sm-12">          <p class="fk-question" data-paramname="custom1">          </p>          <p data-paramname="custom2">          </p>        </div>        <div class="col-sm-12" style="text-align:center">          <input type="radio" name="optionsRadios" value="option1" data-action />          <label data-paramname="custom3"></label>          <input type="radio" name="optionsRadios" value="option2" data-action class="fk-betanoradio" />          <label data-paramname="custom4"></label>        </div>      </div>  </div></div>'),t.feedbackTab=e('<a href="javascript:void(0);" id="fk-feedback-tab" class="fkstrap" style="display:none;">   Feedback<div id="hidden-div"></div></a>'),t.messageContainer=e('<div id="fk-messagecontainer" class="fkstrap" style="display:none">  <img data-paramname="user-image" class="fkuserimage" />  <div class="arrow-right"></div>  <div class="container-fluid" data-widgetname data-widgetid data-featureid style="padding:0px">    <button type="button" class="close close-right-button" aria-hidden="true">&times;</button>    <div class="fk-row">      <div class="col-sm-12">        <p data-paramname="body">          --        </p>        <p>          <textarea class="form-control" rows=1 data-paramname="response"></textarea>        </p>      </div>      <div class="col-sm-12">        <span style="" class="fk-invalidinput">          Invalid Input!        </span>        <span style="" class="fk-validinput">          Submitted!        </span>        <button type="button" data-paramname="send" data-action          class="fkbtn fkbtn-default fkbtn-xs pull-right">          Reply        </button>      </div>    </div>  </div></div>'),t.form=e('<div>  <div class="container-fluid fk-cont" data-widgetname data-widgetid data-featureid>    <button type="button" class="close close-right-button" aria-hidden="true">&times;</button>    <div class="fkrow">      <div class="col-sm-12">        <p class="fk-question" data-paramname="custom10">        </p>      </div>      <div class="col-sm-12">        <input type="text" class="form-control fk-inputareabox"             data-paramname="custom1">        <input type="text" class="form-control fk-inputareabox"             data-paramname="custom2">        <input type="text" class="form-control fk-inputareabox"             data-paramname="custom3">        <input type="text" class="form-control fk-inputareabox"             data-paramname="custom4">      </div>      <div class="col-sm-12">        <span  style="" class="fk-invalidinput">          Invalid Input!        </span>        <button type="button" data-action          class="fkbtn fkbtn-default fkbtn-xs pull-right">            Submit        </button>      </div>    </div>  </div></div>'),t.empty=e('<div>  <div class="container-fluid fk-cont" data-widgetname data-widgetid data-featureid>    <button type="button" class="close close-right-button" aria-hidden="true">&times;</button>    <div class="fkrow">      <div class="col-sm-12">        <p class="fk-question" data-paramname="custom1">        </p>      </div>    </div>  </div></div>'),t.floatingImageContainer=e('<div id="fk-floatingImageContainer" class="fkstrap" style="display:none">  <img data-paramname="user-image" class="fkfloatingimage" /></div>'),t.branded=e('<div class="fk-branded">  <a></a></div>')}(fk$),function(e){var t,n,o,i
void 0===window.fk&&(window.fk={}),void 0===window.fk.popovers&&(window.fk.popovers={}),t=window.fk.popovers,fk.getPopoversTemplate=function(t){var n,o,a=0,r=0,s=[]
for(n=t.widgets,n=e.grep(n,function(e){return e.status}),n=e.grep(n,function(e){return"email"==e.name&&fk.raw.user.visitor.email_by_visitor?!1:!0}),n.sort(function(e,t){return e.position-t.position}),r=n.length,a=0;r>a;a++)o=n[a],s.push(i(o,t))
return s},i=function(t,i){var a,r,s,l,c
c=fk.templates,a=c[t.name].clone()
for(r in t)if(0==r.indexOf("custom")){if(s=a.find("[data-paramname='"+r+"']"),!t[r]){if("checkbox"==t.name){s.closest("div.fkcheckbox").hide()
continue}if("multiplechoice"==t.name){s.closest("div.fkradio").hide()
continue}if("nps"==t.name){s.parent().hide()
continue}if("message"==t.name){s.hide()
continue}"form"==t.name&&s.closest(".fk-inputareabox").hide()}t[r]&&(t[r]=n(t[r],fk.variables.visitorCustomProperties)),s.each(function(n,o){o=e(o),"thumb"==t.name?o.hasClass("glyphicon")?o.attr("data-action",t[r]):o.hasClass("fk-thumbsans")?(o.attr("data-action",t[r]),o.html(t[r])):o.html(o.hasClass("fk-question")?FkAutolinker.link(t[r]):t[r]):"TEXTAREA"==o.prop("tagName")?(o.attr("placeholder",t[r]),o.text("")):"INPUT"==o.prop("tagName")&&"email"==o.attr("type")?o.attr("placeholder",t[r]):"INPUT"==o.prop("tagName")&&"text"==o.attr("type")?o.attr("placeholder",t[r]):o.html(o.hasClass("fk-question")?FkAutolinker.link(t[r]):o.hasClass("fk-thankyoubody")?FkAutolinker.link(t[r]):t[r])})}var l=a.find("[data-widgetid]")
return l.attr("data-widgetid",t.id),l.attr("data-widgetname",t.name),l.attr("data-featureid",i.id),l.attr("data-widgetconditions",JSON.stringify(t.conditions)),fk.constants.userBranded&&(a=o(a)),a},o=function(e){var t=fk.templates.branded.clone(),n=t.find("a"),o="http://listenloop.com?utm_source=c"+fk.variables.userid+"&utm_medium=referral&utm_campaign=Popover&utm_content="+fk.constants.environment
return n.attr("href",o),n.attr("target","listenloop"),n.text("Powered by ListenLoop"),e.append(t)},n=function(e,t){for(var n in t){var o=new RegExp("\\|"+n+"\\|","g")
e=e.replace(o,t[n])}return e},fk.validateInputedValue=function(e,t){return"email"==t?/^[\w\.\+]+@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/.test(e):/.+/.test(e)},fk.getQuestionValue=function(e,t){return e.find("[data-paramname].fk-question").text()},fk.getInputedValue=function(t,n){var o,i,a,r=t.find("[data-widgetid]"),s=(r.attr("data-widgetid"),r.attr("data-widgetname")),l=e(n.target)
if("feedback"==s)o=r.find("textarea").val()
else if("field"==s)o=r.find("input[type='text']").val()
else if("form"==s){elems=r.find("input[type='text']:visible")
for(var c={},d=0;d<elems.length;d++){var u=elems[d].placeholder,f=e(elems[d]).val()
c[u]=f}o=JSON.stringify(c)}else"checkbox"==s?(i=r.find("input[type='checkbox']:checked"),a=i.find("~ span[data-paramname]"),o=[],e.each(a,function(t,n){o.push(e(n).text())}),o=o.join(" | ")):"multiplechoice"==s?(i=r.find("input[type='radio']:checked"),a=i.find("~[data-paramname]"),o="text"==a.attr("type")?a.val():a.text()):"thumb"==s?o=l.data("action"):"beta"==s?o=l.find("+ label:first").text():"email"==s?o=r.find("input[type='email']").val():"nps"==s&&(i=r.find("input[type='radio']:checked"),a=i.find("~ span[data-paramname]"),o=a.text())
return o},fk.getNextWidgetIdAsPerBranch=function(e,t){var n=e.find("[data-widgetid]"),o=n.attr("data-widgetconditions")
o=JSON.parse(o)
for(var i,a=0;a<o.length;a++){var r=o[a]
if(t.indexOf(r.value)>=0){i=r.go_to_widget
break}}return i},fk.getIndexOfWidget=function(e,t){var n,o,i,a=e.data("popoverstemplate"),r=a.length
for(n=0;r>n;n++)if(o=a[n],i=o.find("[data-widgetid]").attr("data-widgetid"),i==t)return n
return void 0},e(document).on("click",".fk-cont div.fkradio input[type='text']",function(t){e(t.target).parent().find("input[type='radio']").click()}),e(document).on("click",".fk-cont div.fkradio input[type='radio']",function(t){e(t.target).parent().find("input[type='text']").focus()}),e(document).on("keypress",".fk-cont div.fkradio input[type='text'],.fk-cont input[type='email']",function(t){"13"==t.keyCode&&e(t.target).closest(".fk-cont").find("button[data-action]").click()}),e(document).on("fk_popover_widget_displayed",function(){e("#fk-popovercontainer .fk-cont textarea").eq(0).focus()}),e(document).on("click","div.fkstrap button.close-right-button.close",function(){e(document).click()})}(fk$)
var scriptTagElem=document.currentScript
!function(e){var t=scriptTagElem
e(function(){function n(e,t){var n=r.helpers.doIHaveARealString
if(0==n(t))return fkconsole.log("no regex. nothing to test again. value passes"),!0
if(0==n(e))return fkconsole.log("no value given. if you given nothing how can you pass. you fail."),!1
fkconsole.log("user specified a regex. will see if the value does not match")
var o=new RegExp(t),i=o.test(tempElemValue)
return fkconsole.log("regexTestResult: ",i),i}function o(e,t){var n
if("innerText"==t)n=e.text()
else if("innerHtml"==t)n=e.html()
else if("style"==t)try{n=e.prop("style").cssText}catch(o){n=e.attr("style")}else n="value"==t?e.val():e.prop(t)
return n=1==r.helpers.doIHaveARealString(n)?n.trim():null,"value"==t&&1!=e.data("fkInputHasChanged")&&(n=null),n}fkconsole.log(t),void 0===window.fk&&(window.fk={})
var i,a,r=Object.assign({},window.fk),s=0,l=0,c=r.helpers.wildSearch
if(t)a=e(t)
else if(e("script[fk-userid]").length>=1)a=e("script[fk-userid]")
else{if(!(e("script[fk-public-key]").length>=1))return void(console&&console.warn&&console.log("script tag not included correctly. cannot proceed"))
a=e("script[fk-public-key]")}r.dataDump=function(){console.log("user id: "+r.variables.userid),console.log("publicKey id: "+r.variables.publicKey),console.log("visitor id: "+r.variables.visitorid),console.log("visitor fingerprint: "+new FkFingerprint({canvas:!0}).get()),console.log("visitor email: "+r.variables.visitorEmail),console.log("visitor hash: "+r.variables.visitorHash),console.log("visitor page data: "+JSON.stringify(r.variables.visitorPageData)),console.log("visitor segment: "+r.variables.visitorSegment),console.log("visitor custom properties: ",r.variables.visitorCustomProperties),console.log("usage id: "+r.variables.usageId),console.log("usage count: "+r.variables.usageCount),console.log("featuresSeen: "+localStorage.getItem("fk-user-"+r.variables.userid+"-featuresSeen")),console.log("featuresUsed: "+localStorage.getItem("fk-user-"+r.variables.userid+"-featuresUsed")),console.log("sessionLengthInMinutes: "+r.constants.sessionLengthInMinutes),console.log("gapLengthInMinutes: "+r.constants.gapLengthInMinutes),console.log("minutes between NOW and last time a feature was seen: "+M()),console.log("last time when a feature was seen: "+L()),console.log("percentageToShowTo: "+r.constants.percentageToShowTo),console.log("do I get to see features: "+Oe()),console.log("are we recording heat: "+r.constants.recordHeat),console.log("are we doing marketing: "+r.constants.useMarketing),console.log("domainName: "+r.constants.domainName),console.log("user targetStartPoints: "+r.constants.targetStartPoints)}
var d=function(t){fkconsole.log("Making JSONP request: ",t.url,t.data),1==e.support.cors?e.ajax({data:t.data,context:t.context?t.context:this,timeout:t.timeout?t.timeout:3e4,method:t.method?t.method:"GET",url:r.constants.domainName+t.url,xhrFields:{withCredentials:!0},error:function(){t.error&&t.error.apply(this,arguments)},success:function(e,n,o){t.success&&t.success.apply(this,arguments)},complete:function(e,n){t.complete&&t.complete.apply(this,arguments)}}):void 0==t.onlyCors?e.ajax({dataType:"jsonp",crossDomain:!0,data:t.data,context:this,timeout:t.timeout?t.timeout:3e4,url:r.constants.domainName+t.url,error:function(){t.error&&t.error.apply(this,arguments)},success:function(e,n,o){t.success&&t.success.apply(this,arguments)},complete:function(e,n){t.complete&&t.complete.apply(this,arguments)}}):fkconsole.log("not calling server: ",t)},u=function(){void 0===r.constants&&(r.constants={})
var e=a[0].src,t=document.createElement("a")
t.href=e
var n="http:"
t.protocol&&0==t.protocol.indexOf("http")&&(n=t.protocol)
var o=a.attr("fk-server")
o||(console&&console.warn&&console.warn("ListenLoop JavaScript File was included in a deprecated fashion. Even though this works, we now support cloudFront CDN inclusion and it is recommend for performance reasons to upgrade. The new snippet to include the javascript file can be found on you integration page. Thank You & Have a Nice Day!"),fkconsole.log("since no server was detected I am defaulting to prod server"),o=t.host),"fkapp-staging.herokuapp.com"==o?o="app.listenloopstaging.com":"fkapp.herokuapp.com"==o&&(o="app.listenloop.com"),r.constants.server=o,r.constants.domainName=n+"//"+o,fkconsole.log("so domain we got is: "+r.constants.domainName)},f=function(t){fkconsole.info("loading overlay css file."),fkconsole.log("will load it fom the same server we loaded the javascript file from")
var n=a[0].src,o=document.createElement("a")
o.href=n
var i=o.host
e("head").append('<link rel="stylesheet" href="'+o.protocol+"//"+i+'/assets/featurekicker.css" type="text/css" />'),t&&-1==t.indexOf("/missing.png")&&e("head").append('<link rel="stylesheet" href="'+t+'" type="text/css" />')},p=function(){e("body").append("<iframe src='//listenloop.sitescoutadserver.com/disp?pid=323095E247&rnd="+Date.now()+"' width='0' height='0' marginwidth='0' marginheight='0' scrollbars='0' scrolling='no' frameborder='0' bordercolor='#000000' vspace='0' hspace='0' style='display:none;width:0px;height:0px' id='fkCommunicationFrame'></iframe>")},h=function(){d({url:"/users/"+r.variables.userid+"/visitors/whoami",success:function(e,t,n){fkconsole.log("vid in cookie has been stored In ETag.")},error:function(e,t,n){fkconsole.log("unable to store vid in ETag.")}})},g=function(){fkconsole.info("THING 1: in setupUser:"),void 0===r.variables&&(r.variables={},r.variables.viewsSent={},r.variables.scrolledInAndTriggered={},r.variables.scrolledToBottomAndTriggered={},r.variables.pageMousedOutAndTriggered={}),void 0===r.raw&&(r.raw={})
var e=a.attr("fk-userid"),t=a.attr("fk-public-key")
return e||t?(r.variables.userid=e,r.variables.publicKey=t,fkconsole.log("setting up user id to: "+r.variables.userid+" and publicKey to: "+r.variables.publicKey),r.variables.pf=a.attr("fk-pf"),void v()):void fkconsole.error("what's goin on here!!!!!. we didn't get the users userid or publicKey. STOPIING!")},m=function(e){for(var t=0;t<e.length;t++){fkconsole.log("adding script: ",e[t])
var n=document.createElement("script")
n.type="text/javascript",n.async=!0,n.setAttribute("fk-public-key",e[t]),n.setAttribute("fk-server",r.constants.server),n.src=("https:"==document.location.protocol?"https://":"http://")+r.constants.server+"/assets/featurekicker.js"
var o=document.getElementsByTagName("script")[0]
o.parentNode.insertBefore(n,o)}},v=function(){fkconsole.info("THING 1.5: in getUserFeatureAndVisitorData:")
var t,n=null,o=null,i=null,a=null,s=null,l=null
t=localStorage.getItem("fk-user-"+r.variables.userid+"-visitor-id"),l=sessionStorage.getItem("fk-user-"+r.variables.userid+"-session-id"),l&&"object"==typeof l&&(l=l.value),"undefined"!=typeof fkVisitorEmail&&8==Object.prototype.toString.call(fkVisitorEmail).indexOf("Function")&&(n=fkVisitorEmail(),0==Pe(n)&&(n=null)),"undefined"!=typeof fkVisitorData&&8==Object.prototype.toString.call(fkVisitorData).indexOf("Function")&&(s=fkVisitorData(),n=1==Pe(s.email)?s.email:null,o=1==Pe(s.hash)?s.hash:null,i=s.segment,a=s.custom_properties),fkconsole.log("calling init"),d({url:"/api/v1/public/init.json",data:{user_id:r.variables.userid,public_key:r.variables.publicKey,pf:r.variables.pf,usage_id:l,visitor_id:t,visitor_email:n,visitor_hash:o,visitor_segment:i,visitor_custom_properties:a,visitor_fingerprint:new FkFingerprint({canvas:!0}).get()},success:function(t,n,o){return r.raw=t,r.variables.userid=t.user.id,f(t.user.custom_popover_css_url),b(),Ze(),Ye(),fkconsole.log("init user id: "+r.raw.user.id),"agency"==r.raw.user.customer_type?(fkconsole.log("adding client scripts"),void m(r.raw.user.solo_companies)):(1==r.constants.useMarketing&&"production"==r.raw.env&&(p(),window.setTimeout(function(){fkconsole.log("sending message to com frame")
try{e("#fkCommunicationFrame")[0].contentWindow.postMessage("fk-sends-visitor-information="+JSON.stringify({visitor_id:r.raw.user.visitor.id,user_id:r.raw.user.id}),"*")}catch(t){fkconsole.log("failed to send message to communication frame")}},5e3)),r.constants.configFeedbackTab&&null!=y()||Qe(),void(1==r.constants.useMarketing&&h()))},error:function(e,t,n){fkconsole.error("Error getting init data ",e,t,n),console&&console.log&&console.log("The error message above indicates that our service was unable to process this request, but you shouldn't experience any interruption in your service to your users.")}})},y=function(){for(var e=null,t=0;t<r.variables.features.length;t++){var n=r.variables.features[t]
if("#fk-feedback-tab"==n.action_selector){e=n
break}}return e},b=function(){fkconsole.info("THING 2: in setupConstants:"),void 0===r.constants&&(r.constants={}),r.constants.sessionLengthInMinutes=r.raw.user.session_length,r.constants.gapLengthInMinutes=r.raw.user.gap_length,r.constants.percentageToShowTo=r.raw.user.percentage_to_show_to,r.constants.recordHeat=r.raw.user.record_heat,r.constants.useMarketing=r.raw.user.use_marketing,r.constants.configFeedbackTab=r.raw.user.config_feedback_tab,r.constants.userBranded=r.raw.user.branded,r.constants.environment=r.raw.env,r.constants.responsesPerWidgetHash=et(),r.constants.targetStartPoints=r.raw.user.target_start_points,r.constants.domPollTimeForPageData=1e3,k()},k=function(){fkconsole.info("THING 3 & 4: in setupVisitor:"),r.variables.visitorUsesAdBlocker=r.raw.user.visitor.uses_ad_blocker,r.variables.visitorEmail=r.raw.user.visitor.email_by_user,r.variables.visitorHash=r.raw.user.visitor.custom_identifier,r.variables.visitorSegment=r.raw.user.visitor.segment,r.variables.visitorCustomProperties=JSON.parse(r.raw.user.visitor.custom_properties),r.variables.visitorid=r.raw.user.visitor.id,r.variables.visitorUrl="http://app.listenloop.com/users/"+r.variables.userid+"/visitors/"+r.variables.visitorid,r.variables.visitorPageData=r.raw.user.visitor.page_data||{},r.variables.visitorEmail&&"preview@featurekicker.com"==r.variables.visitorEmail?fkconsole.log("not storing visitor id in LS as its preview visitor"):localStorage.setItem("fk-user-"+r.variables.userid+"-visitor-id",r.variables.visitorid),fkconsole.log("starting location business"),1==C(r.raw.user.visitor)&&window.setTimeout(_,1e4),S()},w=function(t,n){var o="https://https-api.apigurus.com/iplocation/v1.8/locateip?key=SAK6Q248U56SRW39969Z&ip="+t.ip_address+"&format=json"
e.ajax({url:o,dataType:"jsonp",crossDomain:!0,success:function(e,t,o){try{if("OK"==e.query_status.query_status_code){var i={ip:e.ip_address,country_code:e.geolocation_data["country_code_fips10-4"],country_name:e.geolocation_data.country_name,region_code:e.geolocation_data.region_code,region_name:e.geolocation_data.region_name,city:e.geolocation_data.city,latitude:e.geolocation_data.latitude,longitude:e.geolocation_data.longitude,zipcode:e.geolocation_data.postal_code,metro_code:e.geolocation_data.metro_code,area_code:e.geolocation_data.area_code,organization:e.geolocation_data.organization}
n(i)}else fkconsole.log("unable to get ip address: "+e.query_status.query_status_code+" - "+e.query_status.query_status_description)}catch(a){fkconsole.log("unable to process location")}}})},x=function(t,n){var o="http://ip-api.com/json/"+t.ip_address
e.ajax({url:o,dataType:"jsonp",crossDomain:!0,success:function(e,t,o){try{if("success"==e.status){var i={ip:e.query,country_code:e.countryCode,country_name:e.country,region_code:e.region,region_name:e.regionName,city:e.city,latitude:e.lat,longitude:e.lon,zipcode:e.zip,time_zone:e.timezone,organization:e.org}
n(i)}else fkconsole.log("unable to get ip address: "+e.status+" - "+e.message)}catch(a){fkconsole.log("unable to lookup location")}}})},_=function(){fkconsole.log("in add location to visitor")
var e=r.raw.user.visitor
1==r.helpers.areWeOnSSL()?1==r.constants.useMarketing&&w(e,T):x(e,T)},T=function(e){fkconsole.log("inside upload visitor"),d({url:"/users/"+r.variables.userid+"/visitors/"+r.variables.visitorid+"/location/add_location_to_visitor",data:e,success:function(e,t,n){fkconsole.log("data has been reported")},error:function(e,t,n){fkconsole.log("error reporting location data to our backend")}})},C=function(e){return 1==E()?!1:"127.0.0.1"==e.ip_address?(fkconsole.log("not uploading as ip is of localhost"),!1):e.location?e.ip_address==e.location.ip?(fkconsole.log("not uploading as stored visitor location is same as current ip"),!1):(fkconsole.log("true - location should be updated"),!0):(fkconsole.log("uploading as visitor location is not already present"),!0)},S=function(){fkconsole.info("THING 5: in setupSession:"),r.variables.usageId=r.raw.user.usage_id,r.variables.usageCount=r.raw.user.num_of_days_of_usage,sessionStorage.setItem("fk-user-"+r.variables.userid+"-session-id",r.variables.usageId),Z(),Ke()},E=function(){fkconsole.info("checking if we are on mobile")
var e=navigator.userAgent,t=null!=e.match(/iPhone/i),n=null!=e.match(/Android/i),o=null!=e.match(/webOS/i)
return t||n||o?(fkconsole.info("yup its mobile"),!0):(fkconsole.info("its not mobile"),!1)},N=function(e){for(var t=Me(e),n=t.widgets,o=0;o<n.length;o++)if(1==n[o].status)return!0
return!1},I=function(t,n,o){fkconsole.info("in openOverlay")
var i,a=encodeURI(t),s=encodeURI(r.variables.visitorid),l=Me(t),c=l.allow_closing
if(o&&o.target&&(i=e(o.target)),i&&0!=i.length||(i=e(l.action_selector)),0==i.length&&void 0!=n&&(i=e(n)),"popover"==l.show_method){fkconsole.log("hiding all popovers"),e("[showingpopover=true]").popover("destroy"),e("[showingpopover=true]").removeAttr("showingpopover"),void 0===i.data("popoverstemplate")&&(fkconsole.log("building popover templateS for feature: "+l.id),i.data("popoverstemplate",r.getPopoversTemplate(l)),fkconsole.log("build popover templates: ",i.data("popoverstemplate")))
var u={animation:!0,html:!0,placement:l.popover_placement,trigger:"manual",content:i.data("popoverstemplate")[0].html(),container:"#fk-popovercontainer"},f={template:'<div class="popover make-popover-fixed"><div class="arrow"></div><div class="popover-inner"><h3 class="popover-title"></h3><div class="popover-content"></div></div></div>'}
"feedbacktab"==l.feature_purpose||"scroll_to_bottom"==l.show_on||"on_win_load"==l.show_on?(feedbackTabPopoverOptions=e.extend(u,f),i.popover(feedbackTabPopoverOptions)):i.popover(u),fkconsole.log("showing this popover"),i.popover("show"),i.data("bs.popover").$tip.attr("data-conversationid",l.id),"on_moused_out"==l.show_on&&i.data("bs.popover").$tip.addClass("popoverNextToFloatingImage"),i.data("currentlyshowingwidgetindex",0),i.attr("showingpopover",!0),e(document).betterTrigger("fk_overlay_loaded",{feature_id:l.id,feature_name:l.name}),e(document).trigger("fk_popover_widget_displayed")}else if("iframe"==l.show_method){if(E()===!0){var p={focus:!0,appendTo:"body",opacity:70,overlayId:"fk-overlay",containerId:"fk-container",zIndex:"3000",maxWidth:"290",maxHeight:"450",autoResize:!0,dataId:"fk-simplemodal-data-mobile",close:c,closeClass:"fk-close",onClose:function(){e.fkmodal.close(),e(document).betterTrigger("fk-overlay-closed")},escClose:!0,overlayClose:!0},h=r.constants.domainName+"/users/"+r.variables.userid+"/features/"+a+"/mobile_overlay"
e.fkmodal('<iframe class="fk-iframe" src="'+h+"?visitor_id="+s+'"width="100%" height="100%" id="fk-iframe" />',p)}else{var p={focus:!0,appendTo:"body",opacity:70,overlayId:"fk-overlay",containerId:"fk-container",zIndex:"3000",maxWidth:"1024",maxHeight:"768",autoResize:!0,dataId:"fk-simplemodal-data",close:c,closeClass:"fk-close",onClose:function(){e.fkmodal.close(),e(document).betterTrigger("fk-overlay-closed")},escClose:!0,overlayClose:!0},g=r.constants.domainName+"/users/"+r.variables.userid+"/features/"+a+"/web_overlay"
e.fkmodal('<iframe class="fk-iframe" src="'+g+"?visitor_id="+s+'"width="100%" height="100%" id="fk-iframe" />',p)}e("iframe#fk-iframe").load({feature_id:l.id,feature_name:l.name},function(e){fk$(document).betterTrigger("fk_overlay_loaded",e.data)})}else if("email"==l.show_method){var m="/users/"+r.variables.userid+"/visitors/"+r.variables.visitorid+"/send_email"
d({url:m,method:"POST",data:{feature_id:l.id},timeout:2e3,xhrFields:{withCredentials:!0},success:function(e,t,n){fkconsole.log("data has been reported")},error:function(e,t,n){fkconsole.log("error reporting data")}})}else fkconsole.log("asked to show overlay with unknown show_method.")}
e(document).bind("fk_overlay_loaded",function(t){fkconsole.log("doc has received a loaded firing loaded"),e(".fk-iframe,#fk-container a.fk-close").fadeIn(500)})
var O=function(e){if(fkconsole.info("checking QS for: "+e),""===e)return fkconsole.info("asked to look up empty string in QS. nothing to check so nothing found"),!1
var t=location.search
if(1==c(t,e))return fkconsole.log("in QS found: "+e),!0
var n=decodeURI(t)
return 1==c(n,e)?(fkconsole.log("in QS found: "+e),!0):(fkconsole.log("QS does not have: "+e),!1)},A=function(t){fkconsole.log("checking if we can show this feature: "+t.id)
var n=r.helpers.wildSearch,o=r.helpers.comareDates,i=r.helpers.numberOfEntriesInJson,a=r.helpers.isIpInRange,s=r.raw.user.visitor,l=r.helpers.stringToJson(t.behavior.dont_show_if_previous_question_has_specific_answer),c=r.helpers.stringToJson(t.behavior.dont_show_if_previous_question_does_not_have_specific_answer),d=r.helpers.stringToJson(t.behavior.dont_show_if_cutom_properties_have_specific_answers),u=new Date
if(0==t.behavior.turned_on)return fkconsole.log("rules are not turned on. in that case we will show the feature.",t.behavior.turned_on),!0
if(0==Oe())return fkconsole.log("can not show this feature as we only show it to a percentage of customers: ",r.constants.percentageToShowTo),!1
if(0==N(t.id))return!1
if(r.constants.gapLengthInMinutes>M())return fkconsole.log("can not show this feature "+t.id+"as time since a feature was last seen: "+M()+" is less than the gapLength "+r.constants.gapLengthInMinutes),!1
if(r.variables.usageCount<t.behavior.show_after_x_sessions)return fkconsole.log("can not show this feature as it can only be shown after :"+t.behavior.show_after_x_sessions+" sessions and we currently have "+r.variables.usageCount),!1
if(Object.prototype.toString.call(t.behavior.dont_show_after_its_been_seen_x_times).indexOf("Number")>=0&&t.behavior.dont_show_after_its_been_seen_x_times<=D(t.id))return fkconsole.log("can not show this feature as it has already been seen more times than the rule allows, which is: "+t.behavior.dont_show_after_its_been_seen_x_times),!1
if(Object.prototype.toString.call(t.behavior.dont_show_until_used_x_times).indexOf("Number")>=0&&t.behavior.dont_show_until_used_x_times-1>=j(t.id))return fkconsole.log("can not show this feature as it has not been used more times than the rule requires, which is: "+t.behavior.dont_show_until_used_x_times),!1
if(Object.prototype.toString.call(t.behavior.dont_show_when_query_string).indexOf("String")>=0&&O(t.behavior.dont_show_when_query_string)===!0)return fkconsole.log("can not show this feature as QS has: "+t.behavior.dont_show_when_query_string),!1
if(1==Pe(t.behavior.hide_if_referrer_matches)){fkconsole.info("it wants to hide if referrer is: "+t.behavior.hide_if_referrer_matches+t.id)
var f=window.document.referrer
if(1==n(f,t.behavior.hide_if_referrer_matches))return fkconsole.log("hidding as the current referrer matches. "+t.id),!1}if(1==Pe(t.behavior.hide_if_referrer_does_not_match)){fkconsole.info("it wants to hide if referrer does not match: "+t.behavior.hide_if_referrer_does_not_match+t.id)
var f=window.document.referrer
if(0==n(f,t.behavior.hide_if_referrer_does_not_match))return fkconsole.log("hidding as the current referrer does not match. "+t.id),!1}if(1==Pe(t.behavior.dont_show_if_elem_present)&&e(t.behavior.dont_show_if_elem_present).length>0)return fkconsole.info("found the element on which we dont show, wont attach to: "+t.id),!1
var p=r.variables.visitorSegment
if(fkconsole.log("visitor segment: "+p),fkconsole.log("feature requires segment: "+t.behavior.show_only_if_segment_contains),1==Pe(t.behavior.show_only_if_segment_contains)){if(fkconsole.log("okay so we have specified a required segment"),void 0===p||null===p||""===p)return fkconsole.info("visitors segment doesn't exist. can not show feature as we need segment: ",t.behavior.show_only_if_segment_contains),!1
if(-1==p.indexOf(t.behavior.show_only_if_segment_contains))return fkconsole.info("visitors segment does not contain the string we needed. can not show: ",t.behavior.show_only_if_segment_contains),!1
fkconsole.log("didnt match any stop conditions")}if(1==Pe(t.behavior.dont_show_if_elem_not_present)&&e(t.behavior.dont_show_if_elem_not_present).length<=0)return fkconsole.info("did not find the element which was required for show, wont attach to: "+t.id),!1
if(t.behavior.dont_show_after_received_response===!0&&t.has_received_a_response===!0)return fkconsole.info("feature says no show after response has been received: "+t.id),!1
if(1==Pe(t.behavior.dont_show_before_time)&&-1==o(u,t.behavior.dont_show_before_time))return fkconsole.info("the time now is before the dont_show_before_time. Will not show. "+t.id),!1
if(1==Pe(t.behavior.dont_show_after_time)&&1==o(u,t.behavior.dont_show_after_time))return fkconsole.info("the time now is after the dont_show_after_time. Will not show. "+t.id),!1
if(1==Pe(t.behavior.dont_show_for_range)&&1==a(s.ip_address,t.behavior.dont_show_for_range))return fkconsole.info("Your ip is in the blocked range. Will not show. "+t.id),!1
if(i(l)>0){fkconsole.log("for feature: ",t.id," YES we have json with data")
for(var h in l){var g=h,m=l[h]
fkconsole.log("dont ask if for widget id: ",g," the answer matches: ",m)
var v=r.constants.responsesPerWidgetHash[g]
if(v){fkconsole.log("we have previous answers for: ",g," - ",v.join(", "))
for(var y=0;y<v.length;y++)if(n(v[y],m))return fkconsole.log("previus answer: "+v[y]+" contains the ans you are looking for. Will STOP"),!1
fkconsole.log("none of the previous answers matched. will continue")}else fkconsole.log("we have NO previous answers for: ",g)}}else fkconsole.log("for feature: ",t.id," NO we do not have json with data")
if(i(c)>0){fkconsole.log("for feature: ",t.id," YES we have json with data")
for(var h in c){var g=h,m=c[h]
fkconsole.log("dont ask if for widget id: ",g," the answer does not matches: ",m)
var v=r.constants.responsesPerWidgetHash[g],b=!1
if(v){fkconsole.log("we have previous answers for: ",g," - ",v.join(", "))
var k=-1
if(k=m.indexOf("CSV="),k>-1)for(var w=m.substring(k+4),x=w.split(","),_=0;_<x.length;_++)for(var y=0;y<v.length;y++)v[y]===x[_]&&(b=!0)
else for(var y=0;y<v.length;y++)n(v[y],m)&&(fkconsole.log("previus answer: "+v[y]+" contains the ans we were looking for"),b=!0)
fkconsole.log("none of the previous answers matched. will continue")}else fkconsole.log("we have NO previous answers for: ",g)
return 1==b?!0:!1}}else fkconsole.log("for feature: ",t.id," NO we do not have json with data")
if(i(d)>0){fkconsole.log("for feature: ",t.id," YES we have Custom Property Rules json data")
for(var h=0;h<d.length;h++){var T=d[h],C=T.name,S=T.operator,E=T.value
if(E.indexOf("current_epoch_time")>0){fkconsole.log("input is: "+E)
var I=E.indexOf("current_epoch_time"),A=E.indexOf("}}"),R=E.substring(I,A),L=R.split(" ")
L=L.filter(function(e){return e})
var H,P=(L[0],L[1]),z=L[2],F=0,q=Math.round((new Date).getTime()/1e3)
z&&(F=24*z*60*60),P?"+"==P?H=q+F:"-"==P&&(H=q-F):H=q,E=H,fkconsole.log("Working on a current_epoch_time string: "+E),fkconsole.log("time_now: "+q),fkconsole.log("operator is: "+P),fkconsole.log("offset_time is: "+F),fkconsole.log("result is: "+H)}else"{{current_day_of_week}}"==E?E=(new Date).getDay():"{{current_date_of_month}}"==E?E=(new Date).getDate():"{{current_number_of_month}}"==E&&(E=(new Date).getMonth())
fkconsole.log("dont ask if  the custom property: ",C,"on opertor: ",S," satisfies the value ",E)
var U=r.variables.visitorCustomProperties
if(fkconsole.log("visitor has: ",U),"=="==S){if(U[C]==E)return void fkconsole.log("matched it. stopping. ",C,U[C],S,E)}else if(">"==S){if(U[C]>E)return void fkconsole.log("matched it. stopping. ",C,U[C],S,E)}else if("<"==S){if(U[C]<E)return void fkconsole.log("matched it. stopping. ",C,U[C],S,E)}else if("!="==S){if(U[C]!=E)return void fkconsole.log("matched it. stopping. ",C,U[C],S,E)}else if("Is Present"==S){if(U[C])return void fkconsole.log("matched it. stopping. ",C,U[C],S,E)}else if("Is Empty"==S&&!U[C])return void fkconsole.log("matched it. stopping. ",C,U[C],S,E)}}else fkconsole.log("for feature: ",t.id," NO we do not have json with data")
return t.behavior.dont_show_to_blocked_visitors===!0&&s.blocked===!0?(fkconsole.log("can not show this feature as this visitor is blocked: ",s.blocked),!1):(fkconsole.log("rules PASS, we can show this feature"),!0)},R=function(e,t){fkconsole.log("checking cout of feature: "+t+" in list: "+e)
var n=localStorage.getItem("fk-user-"+r.variables.userid+"-"+e),o=JSON.parse(n)
return null===o?(fkconsole.log("there is no hash data for list. Giving count 0"),0):o[t]?(fkconsole.log("this feature has data in list. its count is: "+parseInt(o[t])),o[t]):(fkconsole.log("this specific feature has no count in this list. Giving count of 0"),0)},D=function(e){return R("featuresSeen",e)},j=function(e){return R("featuresUsed",e)},L=function(){var e=localStorage.getItem("fk-user-"+r.variables.userid+"-lastTimeFeatureWasSeen")
e||(e=0)
var t=new Date(parseInt(e))
return t},H=function(){fkconsole.log("adding feature ")
localStorage.setItem("fk-user-"+r.variables.userid+"-lastTimeFeatureWasSeen",(new Date).getTime())},M=function(){var e=(new Date).getTime(),t=e/1e3/60,n=L().getTime(),o=n/1e3/60
return t-o},P=function(e,t,n){fkconsole.log("setting up feature id: "+t+" to list: "+e+"with val: "+n)
var o=localStorage.getItem("fk-user-"+r.variables.userid+"-"+e),i=JSON.parse(o)
null===i?(fkconsole.log("there is no listHash. Creating hash and adding it with count 1"),i={},i[t]=n):(fkconsole.log("this specific feature has val: "+i[t]+" We are changing it to: "+n),i[t]=n),fkconsole.log("saving listHash"),localStorage.setItem("fk-user-"+r.variables.userid+"-"+e,JSON.stringify(i))},z=function(e,t){fkconsole.log("adding feature id: "+t+" to list: "+e)
var n=localStorage.getItem("fk-user-"+r.variables.userid+"-"+e),o=JSON.parse(n)
null===o?(fkconsole.log("there is no listHash. Creating hash and adding it with count 1"),o={},o[t]=1):o[t]?(fkconsole.log("this feature exists in the list and has count of: "+o[t]+". Increasing count by 1"),o[t]=parseInt(o[t])+1):(fkconsole.log("this specific feature is not in list Adding it with a count of 1"),o[t]=1),fkconsole.log("saving listHash"),localStorage.setItem("fk-user-"+r.variables.userid+"-"+e,JSON.stringify(o))},F=function(e){z("featuresUsed",e)},q=function(e){z("featuresSeen",e)},U=function(t){var n=t.action_selector,o=e(n)
o.length>0&&1==o.is(":visible")&&void 0===r.variables.viewsSent[t.id]?(r.variables.viewsSent[t.id]=!0,fkconsole.info("SENDING a view event for: "+t.id)):fkconsole.info("NOT sending a view event for: "+t.id)},W=function(){var e=localStorage.getItem("heatItems")
return null==e?void fkconsole.log("no data available to upload. will stop"):(e=JSON.parse(e),void d({url:"/users/"+r.variables.userid+"/heats/create_jsonp",data:{heat:e},method:"POST",onlyCors:!0,success:function(e,t,n){fkconsole.log("SUCCESS: sending heat data"),localStorage.removeItem("heatItems")},error:function(e,t,n){fkconsole.log("FAILURE: sending heat data"),localStorage.removeItem("heatItems")},timeout:500}))},B=function(e){fkconsole.log("saving email_from_last_click: "+e+"on visitor: "+r.variables.visitorid),d({url:"/users/"+r.variables.userid+"/visitors/"+r.variables.visitorid+"/update_email_from_last_click",data:{email:e},method:"POST",onlyCors:!0,success:function(t,n,o){fkconsole.log("SUCCESS: adding email_from_last_click: "+e)},error:function(t,n,o){fkconsole.log("FAILURE: adding email_from_last_click: "+e)},timeout:15e3})},$=function(e){fkconsole.log("saving domain_from_last_click: "+e+"on visitor: "+r.variables.visitorid),d({url:"/users/"+r.variables.userid+"/visitors/"+r.variables.visitorid+"/update_domain_from_last_click",data:{domain:e},method:"POST",onlyCors:!0,success:function(t,n,o){fkconsole.log("SUCCESS: adding domain_from_last_click: "+e)},error:function(t,n,o){fkconsole.log("FAILURE: adding domain_from_last_click: "+e)},timeout:15e3})},V=function(e){fkconsole.log("assing agent: "+e+" for visitor: "+r.variables.visitorid),d({url:"/api/v1/public/assign_agent_to_visitor",data:{user_id:r.variables.userid,visitor_id:r.variables.visitorid,agent_email:e},method:"POST",onlyCors:!0,success:function(e,t,n){fkconsole.log("SUCCESS: assigning agent to visitor ",e)},error:function(t,n,o){fkconsole.log("FAILURE: unable to add agent to visitor "+e)},timeout:15e3})},X=function(e){fkconsole.log("saving a notes: "+e+"on visitor: "+r.variables.visitorid),d({url:"/users/"+r.variables.userid+"/visitors/"+r.variables.visitorid+"/notes/create_jsonp",data:{body:e},method:"POST",onlyCors:!0,success:function(t,n,o){fkconsole.log("SUCCESS: adding note: "+e)},error:function(t,n,o){fkconsole.log("FAILURE: adding note: "+e)},timeout:2e3})},G=function(e,t){fkconsole.log("saving that referrer url: "+e+" which was opened by visitor: "+r.variables.visitorid),d({url:"/users/"+r.variables.userid+"/visitors/"+r.variables.visitorid+"/referrers",data:{referrer:{referrer_url:e,landing_url:t}},method:"POST",onlyCors:!0,success:function(e,t,n){fkconsole.log("SUCCESS: sending referrer url")},error:function(e,t,n){fkconsole.log("FAILURE: sending referrer url")},timeout:500})},J=function(t){fkconsole.log(r.variables.userid),fkconsole.log("uploading time spent by visitor "+r.variables.visitorid),d({url:"/users/"+r.variables.userid+"/visitors/"+r.variables.visitorid+"/update_time_spent",data:{visitor:{time_spent:r.raw.user.visitor.time_spent}},method:"PUT",onlyCors:!0,success:function(n,o,i){fkconsole.log("SUCCESS: uploading time"),e(document).trigger("fk-time-has-been-updated",[r.raw.user.visitor.time_spent])
var a=2*t
window.setTimeout(function(){fkconsole.log("added: ",t," time now: ",(new Date).getTime()/1e3),r.raw.user.visitor.time_spent+=t,J(a)},1e3*t)},error:function(e,t,n){fkconsole.log("FAILURE: uploading time")},timeout:500})},Y=function(e){fkconsole.log("saving current url: "+e+" which was opened by visitor: "+r.variables.visitorid),d({url:"/users/"+r.variables.userid+"/visitors/"+r.variables.visitorid+"/pages",data:{page:{url:e,title:document.title}},method:"POST",onlyCors:!0,success:function(e,t,n){fkconsole.log("SUCCESS: sending current url")},error:function(e,t,n){fkconsole.log("FAILURE: sending current url")},timeout:500})},Q=function(e){if(!e.pageX||!e.pageY)return void fkconsole.log("not sending heat data as no co-ords")
var t=r.helpers.roundUp(e.pageX,10),n=r.helpers.roundUp(e.pageY,10),o={x:t,y:n,screen_width:screen.width,screen_height:screen.height,browser_inner_width:window.innerWidth,browser_inner_height:window.innerHeight,url:location.host+location.pathname,user_id:r.variables.userid,visitor_id:r.variables.visitorid},i=JSON.parse(localStorage.getItem("heatItems"))||[]
i[i.length]=o,localStorage.setItem("heatItems",JSON.stringify(i))},K=function(t,n,o,i){"clicked"==t&&F(n),"clicked_and_overlay_shown"==t&&(F(n),q(n),H())
var a="/users/"+r.variables.userid+"/features/"+n
"viewed"==t?a+="/visits/create_jsonp":"clicked"==t?a+="/clicks/create_jsonp?overlay_shown=false":"clicked_and_overlay_shown"==t?a+="/clicks/create_jsonp?overlay_shown=true":fkconsole.error("asked to report unknown event!!",t)
var s,c,u,f,p
return i&&(s=e(i.currentTarget),s=s.length>0?s.getPath():"",c=e(i.target),c.length>0?(u=e(c.closest("a,input")),u=u.length>0?u.getPath():"",c=c.getPath()):c="",f=i.pageY,p=i.pageX),"65"==r.variables.userid&&"clicked"==t&&"Page"==Me(n).how?(fkconsole.log("skipping sending click event"),void(o&&(fkconsole.info("calling callback"),o()))):void d({url:a,data:{visitor_id:r.variables.visitorid,current_target:s,usage_id:r.variables.usageId,target:c,concerning_target:u,page_y:f,page_x:p},success:function(e,t,n){fkconsole.log("event has been successfully reported ",e),e&&1==e.overlay_shown&&(fkconsole.log("setting up to upload screenshot when window is closed"),$e(e),fkconsole.log("telling overlay to associate all responses to this click: "+e.id),Xe(e.id),l=e.id)},error:function(e,t,n){fkconsole.error("Error reporting event",e,t,n)},complete:function(e,t){o&&(fkconsole.info("calling callback"),o())},timeout:o?500:7e3})},Z=function(){fkconsole.log("THING 6: in setupFeaturesArray"),fkconsole.log("got features: ",r.raw.user.features),r.variables.features=r.raw.user.features,ee()},ee=function(){var t
for(t=0;t<r.variables.features.length;t++){var n=r.variables.features[t]
n.status===!1||r.helpers.doIHaveARealString(n.url)&&0==c(window.document.location.href,n.url)?("Experimental"==n.type&&(Le(e(n.action_selector)),Le(e(n.description_selector))),fkconsole.info("feature: "+n.id+", has been removed."+n.status+" - "+n.url),r.variables.features.splice(t,1),t--):(fkconsole.info("feature: "+n.id+", is live and stays"),P("featuresSeen",n.id,n.overlays_shown_count),P("featuresUsed",n.id,n.overlays_triggered_count))}oe()},te=function(t,n){var o=e(t)
o.length>0&&void 0==o.attr("added_fk_click_handler")&&(o.bind("click",n),o.attr("added_fk_click_handler","true")),t&&e(document).on("click",t,function(t){var o=e(t.currentTarget)
return"true"==o.attr("added_fk_click_handler")?void fkconsole.log("not processing event at top level as we have a  handler at the local element level"):void n.call(this,t)})},ne=function(t){fkconsole.log("***** doing setupAction on feature: ",t.id,t.name)
var n=e(t.action_selector),o=e(t.description_selector),i=function(n){var o=e(n.currentTarget),i=null,a=o.attr("href")
a&&0!=a.indexOf("javascript")&&(n.preventDefault(),i=function(){window.document.location.href=a}),Ue(t.id,n,i)}
te(t.action_selector,i),"Experimental"==t.type&&(He(n),He(o))},oe=function(){fkconsole.log("THING 7: in setupActionHandlers")
var e=0,t=r.variables.features.length
for(e;t>e;e++){var n=r.variables.features[e]
"click"==n.show_on&&ne(n),U(n)}ie()},ie=function(){fkconsole.log("THING 8: in setupDocumentHandlers"),e(document).on("click",function(e){1==r.constants.recordHeat&&"heatIframe"!=window.name&&Q(e),fkconsole.info("there was a click on the page")
var t=0,n=r.variables.features.length
for(t;n>t;t++){var o=r.variables.features[t]
U(o)}}),e(document).scrollStopped(Re),e(document).reachedBottom(je),e(document).mousedOut(De),e(document).betterTrigger("fk-loaded"),e(document).ready(Ae),e(document).ready(Ge),e(window).resize(Je),ae()},ae=function(){if(fkconsole.log("THING 9: in sendMetaData"),fkconsole.log("will send meta data on visitor like heat, referrer tag, opened via email, notes etc."),ye(),ge(),r.itemUploader.init(),1==r.constants.useMarketing){re(),Ne(),Se(),be(),ke(),ve(),xe(),ce(),le(),_e(),se()
var e=1
window.setTimeout(function(){fkconsole.log("added: ",e," time now: ",(new Date).getTime()/1e3),r.raw.user.visitor.time_spent+=e,J(e),Object.assign(window.fk,r)},1e3*e)}else Object.assign(window.fk,r)},re=function(){var e=r.helpers.wildSearch,t=window.document.location.href
e(t,"#ll-nnt-ad")&&(fkconsole.log("filtering unwanted events: ",r.raw.user.events),r.raw.user.events=r.raw.user.events.filter(function(e,t,n){return"load"==e.action&&1==r.raw.user.visitor.is_nnt?!1:"load"==e.action&&-1==e.url.indexOf("ll-nnt-ad")?!1:"time_spent"==e.action?!1:!0}),fkconsole.log("events now are: ",r.raw.user.events),r.raw.user.events.find(function(e){fkconsole.log(e)}))},se=function(){e("body").append('<img src="https://centro.pixel.ad/iap/009783746a894aca" style="display:none;" />')},le=function(){e("input,select").one("input",function(t){e(t.target).data("fkInputHasChanged",!0)})},ce=function(){var t=e("form.mktoForm"),n=e("form.hs-form"),o=e("#pardot-form"),i=e("form[id^='form_']"),a=e("form[id^='gform_']"),r=e("form")
r.size()>0&&fe(r),t.size()>0&&(de(t),fe(t)),n.size()>0&&(de(n),fe(n)),o.size()>0&&pe(o),i.size()>0&&fe(i),a.size()>0&&he(a),e(document).on("click","form.mktoForm input",function(t){var n=e(t.target).closest("form.mktoForm")
de(n),fe(n)}),e(document).on("click","form.hs-form input",function(t){var n=e(t.target).closest("form.hs-form")
de(n),fe(n)}),e(document).on("click","form[id^='form_']",function(t){var n=e(t.target).closest("form[id^='form_']")
fe(n)})},de=function(e){0==e.find("input[name^='listenloop']").size()&&ue(e)},ue=function(e){e.append("<input type='hidden' name='listenloop_id' value='"+r.variables.visitorid+"' />"),e.append("<input type='hidden' name='listenloop_link' value='"+r.variables.visitorUrl+"' />")},fe=function(e){e.find("input[name='listenloop_id']").val(r.variables.visitorid),e.find("input[name='listenloop_link']").val(r.variables.visitorUrl),e.find("input[name='listenloopid']").val(r.variables.visitorid),e.find("input[name='listenlooplink']").val(r.variables.visitorUrl),e.find("input[name='submitted[listenloop_link]']").val(r.variables.visitorUrl),e.find("input[name='submitted[listenloop_id]']").val(r.variables.visitorid)},pe=function(e){e.find("p.listenloop_id.hidden input").val(r.variables.visitorid),e.find("p.listenloop_link.hidden input").val(r.variables.visitorUrl)},he=function(e){var t=e.find("input.gform_hidden[type='hidden'][name^='input_'][value='']:eq(0)"),n=e.find("input.gform_hidden[type='hidden'][name^='input_'][value='']:eq(1)")
""==t.val()&&""==n.val()&&(t.val(r.variables.visitorid),n.val(r.variables.visitorUrl))},ge=function(){1==r.constants.recordHeat?W():localStorage.removeItem("heatItems")},me=function(e){d({url:"/users/"+r.variables.userid+"/visitors/"+r.variables.visitorid+"/update_uses_ad_blocker",data:{uses_ad_blocker:e},method:"PUT",onlyCors:!0,success:function(e,t,n){fkconsole.log("SUCCESS: uses_ad_blocker")},error:function(e,t,n){fkconsole.log("FAILURE: uses_ad_blocker")},timeout:2e3})},ve=function(){var e,t=(new Date).getTime()
d({url:"/api/v1/public/advertisement?&advertiserid=true",method:"get",success:function(t,n,o){fkconsole.log("no ad blocker detected"),e=!1,r.variables.visitorUsesAdBlocker!=e&&me(e)},error:function(n,o,i){var a=(new Date).getTime(),s=a-t
s>=5e3?fkconsole.log("this is a timeout. Not sure if ad blocker is on or off"):(fkconsole.log("ad blocker is ON!! "+s),e=!0,r.variables.visitorUsesAdBlocker!=e&&me(e))},timeout:15e3})},ye=function(){fkconsole.log("Inside - setupUploadingViaEmail")
var e=r.helpers.getUrlParameter("agent_email")
r.helpers.doIHaveARealString(e)?(fkconsole.log("found a agent_email. will make notification email entry"),e=unescape(e),V(e)):fkconsole.log("no agent_email provided")
var t=r.helpers.getUrlParameter("fk_via_email")
r.helpers.doIHaveARealString(t)?(fkconsole.log("found a via email. will save note on visitor"),t=unescape(t),X("Loaded page ("+window.location.pathname+") with a param indicating that he clicked on an email which was sent to: "+t+" and assigned to agent: "+e),B(t)):fkconsole.log("no via email provided")
var n=r.helpers.getUrlParameter("fk_via_domain")
r.helpers.doIHaveARealString(n)?(fkconsole.log("found a via email. will save note on visitor"),n=unescape(n),X("Loaded page ("+window.location.pathname+") with a param indicating that he clicked on an email which was sent with: "+n+" and assigned to agent: "+e),$(n)):fkconsole.log("no via domain provided")},be=function(){var e=window.document.location.href,t=window.document.location.hostname,n=window.document.referrer,o=document.createElement("a")
o.href=n
var i=o.hostname
fkconsole.log("inspecting hosts "+t+" - "+i),r.helpers.doIHaveARealString(i)&&t!=i?(fkconsole.log("saving referrer host"),G(n,e)):fkconsole.log("NOT saving referrer host as it matches current referrer")},ke=function(){var e=window.document.location.href,t=r.helpers.wildSearch
t(e,"#ll-nnt-ad")?fkconsole.log("skipping to recording of page as i am on nnt ad page"):window.setTimeout(function(){fkconsole.log("its been 2 seconds on this page. Lets save it"),Y(e)},2e3)},we=function(t){var n=r.raw.user.marketo_handle,o=r.raw.user.munchkin_id,i=r.raw.user.marketo_form_id,a=e.cookie("_mkto_trk")
if(!(n&&o&&i&&a))return void fkconsole.log("skipping sending data to marketo as integration is not present")
var s=r.helpers.areWeOnSSL(),l="http://"
1==s&&(l="https://")
var c=l+n+".marketo.com/index.php/leadCapture/save"
fkconsole.log("marketo_url",c)
var d={munchkinId:o,formid:i,_mkto_trk:a,_mkt_trk:a,listenloopid:r.variables.visitorid,listenlooplink:r.variables.visitorUrl}
e.extend(d,t),e.ajax({url:c,crossDomain:!0,data:d,method:"POST",success:function(e,t,n){fkconsole.log("SUCCESS: sending data to marketo")},error:function(e,t,n){fkconsole.log("FAILURE: sending data to marketo")},timeout:15e3})},xe=function(){var t=r.raw.user.css_selector_of_forms_to_sync
t&&e(t).submit(function(t){t.preventDefault()
for(var n,o,i,a,s,l,c=this,u=e(this).find("input"),f=0;f<u.length;f++){var p=(u.eq(f),u.eq(f).attr("name")),h=u.eq(f).val()
p&&h&&(p=p.toLowerCase(),p.indexOf("company")>=0?i=h:p.indexOf("name")>=0?n=h:p.indexOf("phone")>=0?s=h:p.indexOf("title")>=0?a=h:p.indexOf("email")>=0&&(o=h))}if(!o){fkconsole.log("upon intercept of form was not able to able to find any email field")
for(var f=0;f<u.length;f++){var h=(u.eq(f),u.eq(f).val())
if(h.indexOf("@")>0&&h.indexOf(".")>0&&h.indexOf("@")<h.indexOf(".")&&h.length>=5){o=h
break}}fkconsole.log("after brute searching for email got: "+o)}l=window.location.href,d({url:"/users/"+r.raw.user.id+"/visitors/"+r.raw.user.visitor.id+"/self_submitted_data",method:"POST",data:{self_submitted_data:{name:n,email:o,company_name:i,job_title:a,phone_number:s,url:l}},timeout:2e3,complete:function(){c.submit()}})})},_e=function(){var e=r.raw.user.page_data_mapping
if(!e)return void fkconsole.log("no page data mapping found on the user. nothing to process")
try{e=JSON.parse(e)}catch(t){return void fkconsole.error("error while parsing page data mapping")}for(var n,o,i,a,s,l,c=r.helpers.doIHaveARealString,d=0;d<e.length;d++)n=e[d],n.source&&n.target?n.status?c(n.source.url)&&c(n.source.css_selector)&&c(n.source.attribute_to_read)&&c(n.target)?(i=n.source.label,a=n.source.url,s=n.source.css_selector,l=n.source.attribute_to_read,tempRegex=n.source.regex,o=n.target,fkconsole.log("will get and store data on regular intervals",a,s,l,o,tempRegex,i),window.setInterval(Te.bind(void 0,a,s,l,o,tempRegex),r.constants.domPollTimeForPageData)):fkconsole.log("this source/target dont have the required attribtues. skipping it"):fkconsole.log("this mapping is off. means customer has deleted it. skipping it",n.source.label):fkconsole.log("this mapping doesn't have source target combo. skipping it")},Te=function(t,n,o,i,a){fkconsole.log("on url:"+t+" will query ",n," for ",o," which passes regex ",a," and save it in: ",i)
var s,l,c=e(n),d=r.helpers.wildSearch,u=r.helpers.doIHaveARealString,f=window.document.location.href
return d(f,t)?0==c.length?void fkconsole.log("did not find the element. nothing can be read"):(s=Ce(c,o,a),fkconsole.log("read a value of: ",s),fkconsole.log("already saved value is: ",r.variables.visitorPageData[i]),r.variables.visitorPageData[i]==s?void fkconsole.log("will not save data as we already have it"):0==u(s)?void fkconsole.log("will not save data as it is empty"):(r.variables.visitorPageData[i]=s,l={},l.page_data={},l.page_data[i]=s,fkconsole.log("adding page_data to localstorage so it gets uploaded",l),void r.itemUploader.addItem(r.constants.domainName+"/users/"+r.variables.userid+"/visitors/"+r.variables.visitorid+"/page_data",l))):void fkconsole.log("the url doesn't match. will not read")},Ce=function(e,t,i){for(var a="",s=r.helpers.doIHaveARealString,l=0;l<e.length;l++)if(tempElem=e.eq(l),tempElemValue=o(tempElem,t),0!=s(tempElemValue)){if(0!=n(tempElemValue,i)){a=tempElemValue
break}fkconsole.log("value does not match the provided regex. will go to next one")}else fkconsole.log("value is no good as its not string. will go to next one")
return fkconsole.log("returning value:",a),a},Se=function(){for(var e,t=r.raw.user.navigation_items,n=window.document.location.href.split("?")[0],o=0;o<t.length;o++)if(e=t[o],0!=e.active&&n.indexOf(e.url)>=0){fkconsole.log("you are on a nav item: ",e.id,e.url),Ee(e.id)
break}},Ee=function(e){fkconsole.log("saving navigation_item_id: "+e+"on visitor: "+r.variables.visitorid),d({url:"/users/"+r.variables.userid+"/visitors/"+r.variables.visitorid+"/update_last_visited_navigation_item_id",data:{last_visited_navigation_item_id:e},method:"POST",onlyCors:!0,success:function(t,n,o){fkconsole.log("SUCCESS: updating last_visited_navigation_item_id: "+e)},error:function(t,n,o){fkconsole.log("FAILURE: updating last_visited_navigation_item_id: "+e)},timeout:2e3})},Ne=function(){for(var t,n=r.raw.user.events,o=r.helpers.wildSearch,i=r.helpers.doIHaveARealString,a=window.document.location.href,s=0;s<n.length;s++)if(t=n[s],0!=t.status)if("load"==t.action){fkconsole.log("processing user event with action 'Load'")
var l=!1
if(t.pattern&&t.pattern.length>0)fkconsole.log("testing by pattern"),patternRegExp=new RegExp(t.pattern,"i"),l=patternRegExp.test(a)
else{if(!(t.url&&t.url.length>0)){fkconsole.log("got load event with no url or pattern")
continue}fkconsole.log("testing by wild search"),l=o(a,t.url)}var c=!1
if(t.css_selector&&t.css_selector.length>0?(fkconsole.log("got css selector"),c=e(t.css_selector).length>0?!0:!1):(fkconsole.log("there was no css selector"),t.css_selector="html",c=e(t.css_selector).length>0?!0:!1),fkconsole.log("current_url_passes: "+l),fkconsole.log("css_selector_passes: "+c),l&c){!function(e,t,n){window.setTimeout(function(){Ie(e,a,t,n)},1e3*e.time)}(t,r.raw.user.id,r.raw.user.visitor.id)
continue}fkconsole.log("not reporting Load event as url and css didn't allow")}else if("click"==t.action){var l=!1
if(t.pattern&&t.pattern.length>0)fkconsole.log("testing by pattern"),patternRegExp=new RegExp(t.pattern,"i"),l=patternRegExp.test(a)
else{if(!(t.url&&t.url.length>0)){fkconsole.log("got load event with no url or pattern")
continue}fkconsole.log("testing by wild search"),l=o(a,t.url)}if(l){fkconsole.log("setting up on: "+t.css_selector+" for id: "+t.id),function(n,o,i){e(document).on("click",t.css_selector,function(){fkconsole.log("calling the callback with id: "+n.id),Ie(n,a,o,i)})}(t,r.raw.user.id,r.raw.user.visitor.id)
continue}fkconsole.log("not reporting Click event as url didn't allow")}else"response_received"==t.action?!function(t,n,o){e(document).on("fk-on-response-received",function(e){fkconsole.log("recevied a response on conversation: "+e.originalEvent.detail.feature_id),e.originalEvent.detail.feature_id==t.feature_id&&(fkconsole.log("triggering "+t.id+"as it had feature_id setup to be: "+t.feature_id),Ie(t,"",n,o))})}(t,r.raw.user.id,r.raw.user.visitor.id):"email_clicked"==t.action?!function(e,t,n){fkconsole.log("processing email clicked event. Checking: "+window.document.location.search),window.document.location.search.indexOf("fk_email_clicked")>=0&&1==o(a,e.url)&&(fkconsole.log("triggering "+e.id+" as the url had the words  fk_email_clicked and the url matched: "+e.url),Ie(e,"",t,n))}(t,r.raw.user.id,r.raw.user.visitor.id):"ip_address"==t.action?!function(e,t,n){var o=r.helpers.isIpInRange,i=r.raw.user.visitor
fkconsole.log("processing range event: "+e.id),fkconsole.log("our ip is: "+i.ip_address),fkconsole.log("range being checked against: "+e.range),o(i.ip_address,e.range)?(fkconsole.log("triggering "+e.id+" as ip is inside the range"),Ie(e,"",t,n)):fkconsole.log("not triggering "+e.id+" as ip is not in range")}(t,r.raw.user.id,r.raw.user.visitor.id):"variable_match"==t.action?!function(e,t,n){window[e.pattern]==e.value?Ie(e,"",t,n):fkconsole.log("not triggering "+e.id+"variable name did not match")}(t,r.raw.user.id,r.raw.user.visitor.id):"wistia_play"==t.action?!function(t,n,o){fkconsole.log("processing wisita play trigger: "+t.id),fkconsole.log("for wistia_code: "+t.wistia_code)
var i=e("iframe[src*='"+t.wistia_code+"']")[0]
if(!i)return void fkconsole.log("could not find iframe video")
var a=i.wistiaApi
return a?void a.bind("play",function(){fkconsole.log("triggering "+t.id+" as got a play event"),Ie(t,"",n,o)}):void fkconsole.log("could not find Wistia API")}(t,r.raw.user.id,r.raw.user.visitor.id):"wistia_conversion"==t.action?!function(t,n,o){fkconsole.log("processing wisita conversion trigger: "+t.id),fkconsole.log("for wistia_code: "+t.wistia_code)
var i=e("iframe[src*='"+t.wistia_code+"']")[0]
if(!i)return void fkconsole.log("could not find iframe video")
var a=i.wistiaApi
return a?void a.bind("conversion",function(){fkconsole.log("triggering "+t.id+" as got a conversion event"),Ie(t,"",n,o)}):void fkconsole.log("could not find Wistia API")}(t,r.raw.user.id,r.raw.user.visitor.id):"wistia_popover_play"==t.action?!function(t,n,o){fkconsole.log("processing wisita popover play trigger: "+t.id),fkconsole.log("for wistia_code: "+t.wistia_code)
var i="a[href*='"+t.wistia_code+"']"
e(document).on("click",i,function(){fkconsole.log("clicked on the popover link setup on trigger: "+t.id),Ie(t,"",n,o)})}(t,r.raw.user.id,r.raw.user.visitor.id):"browser"==t.action?!function(e,t,n){var o=window.navigator.userAgent
fkconsole.log("processing browser trigger: "+e.id),fkconsole.log("for user agent: "+o+" - "+e.user_agent),i(e.user_agent)&&o.match(e.user_agent)?(fkconsole.log("users ua matches that of the trigger : "+o+" - "+e.user_agent),Ie(e,"",t,n)):fkconsole.log("user agent is no match")}(t,r.raw.user.id,r.raw.user.visitor.id):"time_spent"==t.action?!function(t,n,o){fkconsole.log("processing time spent trigger with: "+t.id+" and cut off value of: "+t.value),i(t.value)?(fkconsole.log("we need to save trigger when visitor time_spent is: "+t.value),fkconsole.log("current time spent by visitor is at: "+r.raw.user.visitor.time_spent),e(document).on("fk-time-has-been-updated",function(i,a){fkconsole.log("time has been updated to ",a),r.raw.user.visitor.time_spent>t.value&&(fkconsole.log("since time is higher than what is required in rule, firing rule"),Ie(t,"",n,o),e(document).off("fk-time-has-been-updated"))})):fkconsole.log(" -- ")}(t,r.raw.user.id,r.raw.user.visitor.id):fkconsole.log("stop_command"==t.action?"nothing to do for backend stop command being setup":"can not process event as its action is unknown: "+t.action)},Ie=function(e,t,n,o){fkconsole.log("saving userEvent : "+e.id+"which was triggered by visitor: "+o,"and in url user id is: "+n),fkconsole.log("adding item to itemUploader")
var i={}
i.event_id=e.id,i.url=t,r.itemUploader.addItem(r.constants.domainName+"/users/"+n+"/visitors/"+o+"/triggers",i,"POST")},Oe=function(){var e
return function(){if("undefined"!=typeof e)return fkconsole.log("returning memoized value: ",e),e
fkconsole.log("calculating as result was: ",e)
var t=Math.floor(100*Math.random())+1
return e=t<=r.constants.percentageToShowTo?!0:!1,fkconsole.log("updated result to: ",e),e}}(),Ae=function(){fkconsole.info("window has loaded")
var t,n,o=r.variables.features.length
for(t=0;o>t;t++)if(n=r.variables.features[t],"on_win_load"==n.show_on){var i=e(n.action_selector)
"popover"==n.show_method&&(n.action_selector="#fk-feedback-tab.fkstrap div#hidden-div"),0==qe()&&i.length>0&&Ue(n.id)}},Re=function(){fkconsole.info("scroll stopped")
var t=0,n=r.variables.features.length
for(t;n>t;t++){var o=r.variables.features[t]
if("scroll_into_view"==o.show_on){var i=e(o.action_selector)
0==qe()&&i.length>0&&1==i.isElementInViewport()&&void 0==r.variables.scrolledInAndTriggered[o.id]&&(r.variables.scrolledInAndTriggered[o.id]=!0,Ue(o.id))}}},De=function(e){fkconsole.log("doing what i am supposed to do when i moused out")
var t=0,n=r.variables.features.length
for(t;n>t;t++){var o=r.variables.features[t]
if("on_moused_out"==o.show_on){if(fkconsole.log("found a feature which should be shown on moused_out: ",o.id),0==qe()&&void 0==r.variables.pageMousedOutAndTriggered[o.id])return fkconsole.info("showing by the grace of moused out: "+o.id),r.variables.pageMousedOutAndTriggered[o.id]=!0,e.target=".fkfloatingimage",void Ue(o.id,e)
fkconsole.log("not showing. overlayOpen: "+qe()+" f.id: "+o.id+" and already done on page mouse out: "+r.variables.pageMousedOutAndTriggered[o.id])}}},je=function(){fkconsole.log("doing what i am supposed to do when i reach bottom")
var t=0,n=r.variables.features.length
for(t;n>t;t++){var o=r.variables.features[t]
if("scroll_to_bottom"==o.show_on){var i=e(o.action_selector)
if("popover"==o.show_method&&(o.action_selector="#fk-feedback-tab.fkstrap div#hidden-div"),0==qe()&&i.length>0&&void 0==r.variables.scrolledToBottomAndTriggered[o.id])return fkconsole.info("showig by the grace of scrolled  to bottom: "+o.id),r.variables.scrolledToBottomAndTriggered[o.id]=!0,void Ue(o.id)}}},Le=function(e){e.addClass("fk-hide").hide()},He=function(e){e.removeClass("fk-hide").show()},Me=function(e){for(var t=null,n=0;n<r.variables.features.length;n++)if(r.variables.features[n].id==e)return t=r.variables.features[n]
return t},Pe=function(e){return e&&Object.prototype.toString.call(e).indexOf("String")>0&&e.length>0&&"null"!=e&&"undefined"!=e?!0:!1},ze=function(e){return e&&Object.prototype.toString.call(e).indexOf("Object")>0&&e.feature_id&&parseInt(e.feature_id)>0?!0:!1},Fe=function(e){return e&&Object.prototype.toString.call(e).indexOf("Function")>0?!0:!1},qe=function(){return e("#fk-container").is(":visible")},Ue=function(e,t,n){var o=Me(e)
"Existing"==o.type?r.showOverlay({feature_id:e,e:t,onClose:n}):"Experimental"==o.type?(fkconsole.log("adding force as feature is experimental"),r.showOverlay({feature_id:e,force:!0,e:t,onClose:n})):fkconsole.info("error: passed in feature kind I dont recognize")}
r.showOverlay=function(t){if(0==ze(t))throw new Error("Illegal arguments passed to showOverlay.")
var n=t.force,o=t.onClose
0==Fe(o)&&(o=null)
var i=t.feature_id
i=parseInt(i)
var a=Me(i)
if(null==a)return void console.error("No such feature found.")
var r=t.onSelector,s=A(a)
return 1==n&&(s=!0),fkconsole.log("rules say: "+s),s?(fkconsole.info("opening overlay and saving data"),"on_moused_out"==a.show_on&&"popover"==a.show_method?(fkconsole.log("showing image"),window.setTimeout(function(){e("#fk-floatingImageContainer").show(),e("#fk-floatingImageContainer .fkfloatingimage").css("top",2),e("#fk-floatingImageContainer .fkfloatingimage").css("left",t.e.pageX)},a.delay)):(e("#fk-floatingImageContainer").hide(),e(".popoverNextToFloatingImage").hide()),window.setTimeout(function(){I(a.id,r,t.e),fkconsole.log("delay is "+a.delay),K("clicked_and_overlay_shown",a.id,null,t.e),null!==o&&e(document).one("fk-overlay-closed",o)},a.delay),!0):(o?K("clicked",a.id,o,t.e):K("clicked",a.id,null,t.e),fkconsole.info("not showing overlay"),!1)}
var We=function(){e(document).on("fk-on-response-received",function(e){var t=e.originalEvent.detail
if(fkconsole.log(t),"form"==t.widget_name){var n,o,i,a
fkconsole.log(t.answer)
var r=JSON.parse(t.answer)
fkconsole.log(r)
for(var s in r)fkconsole.log(s),s.toLowerCase().indexOf("phone")>=0?i=r[s]:s.toLowerCase().indexOf("company")>=0?o=r[s]:s.toLowerCase().indexOf("email")>=0?a=r[s]:s.toLowerCase().indexOf("name")>=0&&(n=r[s])
fkconsole.log(n,o,i,a),we({FirstName:n,Company:o,Phone:i,Email:a})}"email"==t.widget_name&&(fkconsole.log(t.answer),we({Email:t.answer}))})},Be=function(){window.addEventListener&&window.addEventListener("message",function(t){var n="fk-overlay-says-response-received=",o=""+t.data
if(0==o.indexOf(n)){var a=o.substring(n.length)
a=JSON.parse(a)
var l=Me(a.feature_id),c=""
l&&(c=l.name),a.feature_name=c,a.visitor={id:r.variables.visitorid,segment:r.variables.visitorSegment,hash:r.variables.visitorHash,email:r.variables.visitorEmail,custom_properties:r.variables.visitorCustomProperties}
var d=a.feature_id
d=parseInt(d),fkconsole.log("overlay says we have received response from: "+d)
var u=Me(d)
if(fkconsole.log("found feature: "+u),null==u)return void console.error("No such feature found.")
fkconsole.log("exisiting response flag: "+u.has_received_a_response),u.has_received_a_response=!0,fkconsole.log("exisiting response flag: "+u.has_received_a_response),e(document).betterTrigger("fk-on-response-received",a)}var f="fk-overlay-says-click_id_received=true"
0==o.indexOf(f)&&(fkconsole.log("ovelerlay has received click id. we can now stop sending it again and again"),window.clearInterval(i),s=0)
var f="fk-overlay-says-close-me=true"
0==o.indexOf(f)&&e.fkmodal.close()},!1)},$e=function(t){e("#fk-overlay,#fk-container,#fk-popovercontainer").attr("data-html2canvas-ignore","true")
var n=Me(t.feature_id)
if(0==n.take_screenshot)return fkconsole.log("not taking screenshot"),!1
try{html2canvas(document.body,{onrendered:function(n){var o=n.getContext("2d"),i=t.page_x,a=t.page_y,s=20
o.beginPath(),o.arc(i,a,s,0,2*Math.PI,!1),o.fillStyle="rgba(0,0,0,0.5)",o.fill(),o.lineWidth=1,o.strokeStyle="rgba(0,0,0,1)",o.stroke()
var l=n.toDataURL("image/png")
e.ajax({url:r.constants.domainName+"/api/v1/public/screenshot",method:"POST",data:{data_uri:l,click_id:t.id},timeout:2e3,xhrFields:{withCredentials:!0},complete:function(e){fkconsole.log("completed request which uploads screenshot to server")}})}})}catch(o){fkconsole.log("error happened while trying to take screenshot")}},Ve=function(e,t){var n=e.src.indexOf("#"),o=e.src
n>-1&&(o=o.substr(0,n)),e.src=o+"#"+t},Xe=function(t){if(fkconsole.log("SENDING click id to overlay: "+t),"function"==typeof window.postMessage){try{s+=1,e("#fk-iframe")[0].contentWindow.postMessage("clients-app-says-click-id-is="+t,"*")}catch(n){fkconsole.log("error posting to iframe that we have received a response",n)}5>s?i=window.setTimeout(Xe,1e3,t):s=0}else{var o=document.getElementById("fk-iframe")
s+=1,Ve(o,t),10>s?i=window.setTimeout(Xe,1e3,t):s=0}},Ge=function(){fkconsole.log("page has loaded and we can now show survey")
var e=window.location.search.split("fks=")[1]
if(!e)return void fkconsole.log("no fks found. no survey to show on load")
var t=Me(e)
return t?void("Email"==t.location?(fkconsole.log("meets requirements. attempting to show overlay"),Ue(e)):fkconsole.log("not going to show overlay on this page",t.location,t.url)):void fkconsole.log("no such feature found. no survey to process")},Je=function(){fkconsole.log("captured resize event, checking if popover is showing")
var t=e(".make-popover-fixed")
t.length>0&&e(t).hide()},Ye=function(){fkconsole.log("inside create and show feedback tab")
var t=window.fk.templates.feedbackTab.clone()
e("body").append(t)},Qe=function(){fkconsole.log("inside hide feedback tab"),e("a#fk-feedback-tab").addClass("hideFeedbackTab"),e("div#hidden-div").addClass("moveHiddenDiv")},Ke=function(){var t=r.raw.user.message
if(t){var n=window.fk.templates.messageContainer.clone()
n.find("[data-paramname='user-image']").attr("src",r.raw.user.image_url),n.find("[data-paramname='body']").html(FkAutolinker.link(t.body)),n.find("[data-paramname='body']").attr("data-messageid",t.id),n.find("[data-paramname='body']").attr("data-responseid",t.response_id),n.css("display","block"),e("body").append(n),window.setTimeout(r.markMessageDisplayed,5e3)}}
r.markMessageDisplayed=function(){var e=fk$("#fk-messagecontainer [data-paramname='body']").data("messageid")
if(e){var t=fk$("#fk-messagecontainer [data-paramname='body']").data("markeddisplayed")
if(1!=t){var n="/users/"+r.variables.userid+"/visitors/"+r.variables.visitorid+"/messages/"+e+"/mark_displayed"
d({url:n,method:"PUT",success:function(e,t,n){fkconsole.log("SUCCESS: marking message displayed"),fk$("#fk-messagecontainer [data-paramname='body']").attr("data-markeddisplayed",!0)},error:function(e,t,n){fkconsole.log("ERROR: marking message displayed")}})}}},r.createMessageResponse=function(){var t=fk$("#fk-messagecontainer [data-paramname='body']").data("responseid"),n=e("#fk-messagecontainer [data-paramname='response']").val()
if(n){var o="/users/"+r.variables.userid+"/visitors/"+r.variables.visitorid+"/messages/create_inbound_message"
d({url:o,data:{message:{body:n,response_id:t}},method:"POST",success:function(e,t,n){fkconsole.log("SUCCESS: creating message reponse")},error:function(e,t,n){fkconsole.log("ERROR: creating message response")}})}}
var Ze=function(){var t=window.fk.templates.floatingImageContainer.clone()
t.find("[data-paramname='user-image']").attr("src",r.raw.user.image_url),e("body").append(t)},et=function(){var e,t,n,o,i,a={}
e=r.raw.user.visitor,t=e.responses
for(var s=0;s<t.length;s++)n=t[s],o=n.widget_id,i=n.answer,a[o]?a[o].push(i):a[o]=[i]
return a}
u(),g(),Be(),We(),e("body").append('<div id="fk-popovercontainer" class="fkstrap"></div>'),e(document).on("click",function(t){fkconsole.log("on doc click to which does hidding of popovers")
var n=e(t.target),o=e("[showingpopover=true]"),i=e("#fk-popovercontainer .popover-content")
if(fkconsole.log("popover element is: ",i),fkconsole.log("element clicks on is: ",n),fkconsole.log("does popover contain element clicked: ",i.find(n)),0==i.length)return fkconsole.log("no popover element is being show"),void fkconsole.log("nothing to hide")
var a=!1
i.find(n).length>0&&(fkconsole.log("you clicked inside a popover"),a=!0)
var r=!1
i.is(n)===!0&&(fkconsole.log("you clicked on the popover"),r=!0)
var s=!1
"true"==n.attr("showingpopover")&&(fkconsole.log("you clicked on an element which showed the popover"),s=!0)
var l=!1
o.find(n).length>0&&(fkconsole.log("you clicked inside the element which triggers the popover"),l=!0),a||r||s||l?fkconsole.log("will not destroy"):(fkconsole.log("will destroy"),e("[showingpopover=true]").popover("destroy"),e("[showingpopover=true]").removeAttr("showingpopover"),e("#fk-floatingImageContainer").hide(),e(document).betterTrigger("fk-overlay-closed"))}),e(document).on("click",".fk-cont [data-action]",function(t){fkconsole.log("show next")
var n,o,i,a,s=e("[showingpopover=true]"),c=s.data("popoverstemplate"),u=c.length,f=s.data("currentlyshowingwidgetindex"),p=e("#fk-popovercontainer .popover-content"),h=p.find("[data-widgetid]").attr("data-widgetid"),g=p.find("[data-widgetid]").attr("data-widgetname"),m=p.find("[data-featureid]").attr("data-featureid"),v=r.getInputedValue(p,t),y=r.getQuestionValue(p,t),b=Me(m)
if(b.has_received_a_response=!0,1==e(t.currentTarget).data("skip"))fkconsole.log("you clicked on skip. will just move on")
else{if(1!=r.validateInputedValue(v,g))return fkconsole.log("wont move forward coz data is invalid"),void p.find(".fk-invalidinput").show().delay(5e3).fadeOut()
fkconsole.log("we got data"),d({context:this,url:"/widgets/"+h+"/responses/create_jsonp",data:{answer:v,visitor_id:r.variables.visitorid,click_id:l},success:function(t,n,o){e(document).betterTrigger("fk-on-response-received",{question:y,answer:v,feature_id:m,widget_id:h,widget_name:g,widget_index:f,toal_num_of_widgets:u,feature_name:Me(m).name,visitor:{id:r.variables.visitorid,segment:r.variables.visitorSegment,hash:r.variables.visitorHash,email:r.variables.visitorEmail,custom_properties:r.variables.visitorCustomProperties}}),fkconsole.log("data has been reported")},error:function(e,t,n){fkconsole.log("error reporting data")}})}if("1"==e(this).data("close"))return void fk$(document).click()
var k=r.getNextWidgetIdAsPerBranch(p,v)
k?(n=r.getIndexOfWidget(s,k),void 0==n&&(n=f+1)):n=f+1,i=f-1,a="-1"==e(this).data("go")?i:"1"==e(this).data("go")?n:n,o=c[a].find("[data-widgetid]").attr("data-widgetname"),"thankyou"==o&&(fkconsole.log("just showed a thank you widget. will hide now"),window.setTimeout(function(){e(document).betterTrigger("fk-on-thankyou"),fk$(document).click()},2500)),window.setTimeout(function(){s.data("bs.popover").options.content=c[a].html(),s.popover("show"),e(document).trigger("fk_popover_widget_displayed"),s.data("currentlyshowingwidgetindex",a),t.stopPropagation()},250)})})}(fk$),function(e){void 0===window.fk&&(window.fk={}),void 0===window.fk.messaging&&(window.fk.messaging={})
window.fk.messaging,window.fk.templates
e(document).on("click","#fk-messagecontainer button.close",function(){fk.markMessageDisplayed(),t()}),e(document).on("click","#fk-messagecontainer button[data-paramname='send']",function(){var n=e("#fk-messagecontainer [data-paramname='response']").val()
n.length>0?(e("#fk-messagecontainer .fk-validinput").show(),fk.markMessageDisplayed(),fk.createMessageResponse(),t()):e("#fk-messagecontainer .fk-invalidinput").fadeIn().delay(500).fadeOut()})
var t=function(){e("#fk-messagecontainer").fadeOut(function(){e("#fk-messagecontainer").remove()})}}(fk$),function(e){function t(){var t=e("<div id='fk-messageInIframe'></div>")
e("body").append(t),t.on("mousemove",function(){"auto"==t.css("top")?(t.css("top","5px"),t.css("bottom","auto")):(t.css("top","auto"),t.css("bottom","5px"))})}function n(){var n=e("<div id='fk-welcomeMessageInIframe'>Hover over and right click any element in your <br/>application to setup your conversation trigger.</div>")
e("body").append(n),window.setTimeout(function(){e("body").one("mousemove",function(){n.fadeOut(),i(),t()})},1e3)}var o=void 0,i=function(){function t(e){var t,n
return n=e.closest("a"),n.length>0&&(e=n),t=e.getPath()}function n(e){if(e&&e.length>0&&e.indexOf(">")>0){var t=e.split(">"),n=t[t.length-1]
return n}return e}function o(e){var t=e.prop("tagName"),n=e.attr("type")
return t=t?t.toUpperCase():"",n?n=n.toUpperCase():typee="","INPUT"==t&&"SUBMIT"==n?!1:!0}var i,a,r="5px solid #C40233",s="5px solid #FF0000"
e(document).on("mousemove",function(l){(i||a)&&i.css("outline",a)
var c=t(e(l.target))
i=e(c),e("#fk-messageInIframe").html("<div class='selectors'>Target Element: "+n(c)+"<br/>Full Selector: "+c+"</div>"),a=i.css("border"),1==o(i)?(i.css("outline",r),e("#fk-messageInIframe").append("<div class='yellow'>Right click to select the element.</div>")):(i.css("outline",s),e("#fk-messageInIframe").append("<div class='yellow'>You should not trigger a conversation on this element as it will be in the critical path of submitting a form. Instead have the conversation on load of this form's confirmation page. For step by step instructions visit help.listenloop.com</div>"))}),e(document).on("contextmenu",function(n){if(n.preventDefault(),0!=o(i)){var a=(e(n.target),t(e(n.target))),r=window.document.location.href
window.top.postMessage("fk-action-selector="+a,"*"),window.top.postMessage("fk-url-feature-setup-on="+r,"*"),alert("You have selected: "+a)}})}
window!=top&&(fkconsole.log("asking top via message if in dashboard"),window.top.postMessage("am-i-in-fk-dashboard","*"),fkconsole.log("telling top via message my url"),window.top.postMessage("fk-heatmap-showing-url="+location.host+location.pathname,"*")),e(window).on("message",function(e){var t=e.originalEvent,o=t.data
"yes-in-fk-dashabord=wysiwyg"==o?(fkconsole.log("told that this is dashboard - w"),n(),window.top.postMessage("fk-wysiwyg-loaded=true","*")):"yes-in-fk-dashabord=liveview"==o&&window.top.postMessage("fk-wysiwyg-loaded=true","*")}),e(window).on("message",function(t){var n=t.originalEvent,i=n.data
if(!i||"string"!=typeof i)return void fkconsole.log("got unusable data object. its not mine. moving on")
if(0==i.indexOf("fk-heatmap-on=")){fkconsole.log("told to turn heatmap on")
var a=i.split("fk-heatmap-on=")[1]
a=JSON.parse(a)
var r=a.width,s=a.visitor_id,l=location.host+location.pathname
if(l=prompt("Will Load Heat data for (use * for wild card matches): ",l),null==l)return
e.ajax(fk.constants.domainName+"/users/"+fk.variables.userid+"/heats/heatmap_data_for_url",{type:"GET",xhrFields:{withCredentials:!0},data:{heat:{url:l,width:r,visitor_id:s}},success:function(e){if(fkconsole.log("got heatmap data: ",e),o&&(o.cleanup(),o.clear()),0==e.data.length)alert("No Heat to Show")
else{alert("Showing "+e.data.length+" points of heat data for "+e.width+" width.")
var t={element:window.document.body,visible:!1}
window.top.postMessage("fk-heatmap-adjust-width="+e.width,"*"),o=fkHeatmapFactory.create(t),o.store.setDataSet(e),o.toggleDisplay()}}})}else"fk-heatmap-off"==i&&(fkconsole.log("told to turn heatmap off"),o&&(o.cleanup(),o.clear(),o=void 0))})}(fk$),function(e,t,n){"use strict"
function o(e,t,n){var o,i=e.runtimeStyle&&e.runtimeStyle[t],a=e.style
return!/^-?[0-9]+\.?[0-9]*(?:px)?$/i.test(n)&&/^-?\d/.test(n)&&(o=a.left,i&&(e.runtimeStyle.left=e.currentStyle.left),a.left="fontSize"===t?"1em":n||0,n=a.pixelLeft+"px",a.left=o,i&&(e.runtimeStyle.left=i)),/^(thin|medium|thick)$/i.test(n)?n:Math.round(parseFloat(n))+"px"}function i(e){return parseInt(e,10)}function a(e,t,i,a){if(e=(e||"").split(","),e=e[a||0]||e[0]||"auto",e=u.Util.trimText(e).split(" "),"backgroundSize"!==i||e[0]&&!e[0].match(/cover|contain|auto/)){if(e[0]=-1===e[0].indexOf("%")?o(t,i+"X",e[0]):e[0],e[1]===n){if("backgroundSize"===i)return e[1]="auto",e
e[1]=e[0]}e[1]=-1===e[1].indexOf("%")?o(t,i+"Y",e[1]):e[1]}else;return e}function r(e,t,n,o,i,a){var r,s,l,c,d=u.Util.getCSS(t,e,i)
if(1===d.length&&(c=d[0],d=[],d[0]=c,d[1]=c),-1!==d[0].toString().indexOf("%"))l=parseFloat(d[0])/100,s=n.width*l,"backgroundSize"!==e&&(s-=(a||o).width*l)
else if("backgroundSize"===e)if("auto"===d[0])s=o.width
else if(/contain|cover/.test(d[0])){var f=u.Util.resizeBounds(o.width,o.height,n.width,n.height,d[0])
s=f.width,r=f.height}else s=parseInt(d[0],10)
else s=parseInt(d[0],10)
return"auto"===d[1]?r=s/o.width*o.height:-1!==d[1].toString().indexOf("%")?(l=parseFloat(d[1])/100,r=n.height*l,"backgroundSize"!==e&&(r-=(a||o).height*l)):r=parseInt(d[1],10),[s,r]}function s(e,t){var n=[]
return{storage:n,width:e,height:t,clip:function(){n.push({type:"function",name:"clip",arguments:arguments})},translate:function(){n.push({type:"function",name:"translate",arguments:arguments})},fill:function(){n.push({type:"function",name:"fill",arguments:arguments})},save:function(){n.push({type:"function",name:"save",arguments:arguments})},restore:function(){n.push({type:"function",name:"restore",arguments:arguments})},fillRect:function(){n.push({type:"function",name:"fillRect",arguments:arguments})},createPattern:function(){n.push({type:"function",name:"createPattern",arguments:arguments})},drawShape:function(){var e=[]
return n.push({type:"function",name:"drawShape",arguments:e}),{moveTo:function(){e.push({name:"moveTo",arguments:arguments})},lineTo:function(){e.push({name:"lineTo",arguments:arguments})},arcTo:function(){e.push({name:"arcTo",arguments:arguments})},bezierCurveTo:function(){e.push({name:"bezierCurveTo",arguments:arguments})},quadraticCurveTo:function(){e.push({name:"quadraticCurveTo",arguments:arguments})}}},drawImage:function(){n.push({type:"function",name:"drawImage",arguments:arguments})},fillText:function(){n.push({type:"function",name:"fillText",arguments:arguments})},setVariable:function(e,t){return n.push({type:"variable",name:e,arguments:t}),t}}}function l(e){return{zindex:e,children:[]}}var c,d,u={}
u.Util={},u.Util.log=function(t){u.logging&&e.console&&e.console.log&&e.console.log(t)},u.Util.trimText=function(e){return function(t){return e?e.apply(t):((t||"")+"").replace(/^\s+|\s+$/g,"")}}(String.prototype.trim),u.Util.asFloat=function(e){return parseFloat(e)},function(){var e=/((rgba|rgb)\([^\)]+\)(\s-?\d+px){0,})/g,t=/(-?\d+px)|(#.+)|(rgb\(.+\))|(rgba\(.+\))/g
u.Util.parseTextShadows=function(n){if(!n||"none"===n)return[]
for(var o=n.match(e),i=[],a=0;o&&a<o.length;a++){var r=o[a].match(t)
i.push({color:r[0],offsetX:r[1]?r[1].replace("px",""):0,offsetY:r[2]?r[2].replace("px",""):0,blur:r[3]?r[3].replace("px",""):0})}return i}}(),u.Util.parseBackgroundImage=function(e){var t,n,o,i,a,r,s,l,c=" \r\n	",d=[],u=0,f=0,p=function(){t&&('"'===n.substr(0,1)&&(n=n.substr(1,n.length-2)),n&&l.push(n),"-"===t.substr(0,1)&&(i=t.indexOf("-",1)+1)>0&&(o=t.substr(0,i),t=t.substr(i)),d.push({prefix:o,method:t.toLowerCase(),value:a,args:l})),l=[],t=o=n=a=""}
p()
for(var h=0,g=e.length;g>h;h++)if(r=e[h],!(0===u&&c.indexOf(r)>-1)){switch(r){case'"':s?s===r&&(s=null):s=r
break
case"(":if(s)break
if(0===u){u=1,a+=r
continue}f++
break
case")":if(s)break
if(1===u){if(0===f){u=0,a+=r,p()
continue}f--}break
case",":if(s)break
if(0===u){p()
continue}if(1===u&&0===f&&!t.match(/^url$/i)){l.push(n),n="",a+=r
continue}}a+=r,0===u?t+=r:n+=r}return p(),d},u.Util.Bounds=function(e){var t,n={}
return e.getBoundingClientRect&&(t=e.getBoundingClientRect(),n.top=t.top,n.bottom=t.bottom||t.top+t.height,n.left=t.left,n.width=e.offsetWidth,n.height=e.offsetHeight),n},u.Util.OffsetBounds=function(e){var t=e.offsetParent?u.Util.OffsetBounds(e.offsetParent):{top:0,left:0}
return{top:e.offsetTop+t.top,bottom:e.offsetTop+e.offsetHeight+t.top,left:e.offsetLeft+t.left,width:e.offsetWidth,height:e.offsetHeight}},u.Util.getCSS=function(e,n,o){c!==e&&(d=t.defaultView.getComputedStyle(e,null))
var r=d[n]
if(/^background(Size|Position)$/.test(n))return a(r,e,n,o)
if(/border(Top|Bottom)(Left|Right)Radius/.test(n)){var s=r.split(" ")
return s.length<=1&&(s[1]=s[0]),s.map(i)}return r},u.Util.resizeBounds=function(e,t,n,o,i){var a,r,s=n/o,l=e/t
return i&&"auto"!==i?l>s^"contain"===i?(r=o,a=o*l):(a=n,r=n/l):(a=n,r=o),{width:a,height:r}},u.Util.BackgroundPosition=function(e,t,n,o,i){var a=r("backgroundPosition",e,t,n,o,i)
return{left:a[0],top:a[1]}},u.Util.BackgroundSize=function(e,t,n,o){var i=r("backgroundSize",e,t,n,o)
return{width:i[0],height:i[1]}},u.Util.Extend=function(e,t){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])
return t},u.Util.Children=function(e){var t
try{t=e.nodeName&&"IFRAME"===e.nodeName.toUpperCase()?e.contentDocument||e.contentWindow.document:function(e){var t=[]
return null!==e&&!function(e,t){var o=e.length,i=0
if("number"==typeof t.length)for(var a=t.length;a>i;i++)e[o++]=t[i]
else for(;t[i]!==n;)e[o++]=t[i++]
return e.length=o,e}(t,e),t}(e.childNodes)}catch(o){u.Util.log("html2canvas.Util.Children failed with exception: "+o.message),t=[]}return t},u.Util.isTransparent=function(e){return"transparent"===e||"rgba(0, 0, 0, 0)"===e},u.Util.Font=function(){var e={}
return function(t,o,i){if(e[t+"-"+o]!==n)return e[t+"-"+o]
var a,r,s,l=i.createElement("div"),c=i.createElement("img"),d=i.createElement("span"),u="Hidden Text"
return l.style.visibility="hidden",l.style.fontFamily=t,l.style.fontSize=o,l.style.margin=0,l.style.padding=0,i.body.appendChild(l),c.src="data:image/gif;base64,R0lGODlhAQABAIABAP///wAAACwAAAAAAQABAAACAkQBADs=",c.width=1,c.height=1,c.style.margin=0,c.style.padding=0,c.style.verticalAlign="baseline",d.style.fontFamily=t,d.style.fontSize=o,d.style.margin=0,d.style.padding=0,d.appendChild(i.createTextNode(u)),l.appendChild(d),l.appendChild(c),a=c.offsetTop-d.offsetTop+1,l.removeChild(d),l.appendChild(i.createTextNode(u)),l.style.lineHeight="normal",c.style.verticalAlign="super",r=c.offsetTop-l.offsetTop+1,s={baseline:a,lineWidth:1,middle:r},e[t+"-"+o]=s,i.body.removeChild(l),s}}(),function(){function e(e){return function(t){try{e.addColorStop(t.stop,t.color)}catch(o){n.log(["failed to add color stop: ",o,"; tried to add: ",t])}}}var n=u.Util,o={}
u.Generate=o
var i=[/^(-webkit-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-linear-gradient)\(([a-z\s]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-gradient)\((linear|radial),\s((?:\d{1,3}%?)\s(?:\d{1,3}%?),\s(?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)\-]+)\)$/,/^(-moz-linear-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?))([\w\d\.\s,%\(\)]+)\)$/,/^(-webkit-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/,/^(-moz-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s?([a-z\-]*)([\w\d\.\s,%\(\)]+)\)$/,/^(-o-radial-gradient)\(((?:\d{1,3}%?)\s(?:\d{1,3}%?)),\s(\w+)\s([a-z\-]+)([\w\d\.\s,%\(\)]+)\)$/]
o.parseGradient=function(e,t){var n,o,a,r,s,l,c,d,u,f,p,h,g=i.length
for(o=0;g>o&&!(a=e.match(i[o]));o+=1);if(a)switch(a[1]){case"-webkit-linear-gradient":case"-o-linear-gradient":if(n={type:"linear",x0:null,y0:null,x1:null,y1:null,colorStops:[]},s=a[2].match(/\w+/g))for(l=s.length,o=0;l>o;o+=1)switch(s[o]){case"top":n.y0=0,n.y1=t.height
break
case"right":n.x0=t.width,n.x1=0
break
case"bottom":n.y0=t.height,n.y1=0
break
case"left":n.x0=0,n.x1=t.width}if(null===n.x0&&null===n.x1&&(n.x0=n.x1=t.width/2),null===n.y0&&null===n.y1&&(n.y0=n.y1=t.height/2),s=a[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(l=s.length,c=1/Math.max(l-1,1),o=0;l>o;o+=1)d=s[o].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),d[2]?(r=parseFloat(d[2]),r/="%"===d[3]?100:t.width):r=o*c,n.colorStops.push({color:d[1],stop:r})
break
case"-webkit-gradient":if(n={type:"radial"===a[2]?"circle":a[2],x0:0,y0:0,x1:0,y1:0,colorStops:[]},s=a[3].match(/(\d{1,3})%?\s(\d{1,3})%?,\s(\d{1,3})%?\s(\d{1,3})%?/),s&&(n.x0=s[1]*t.width/100,n.y0=s[2]*t.height/100,n.x1=s[3]*t.width/100,n.y1=s[4]*t.height/100),s=a[4].match(/((?:from|to|color-stop)\((?:[0-9\.]+,\s)?(?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)\))+/g))for(l=s.length,o=0;l>o;o+=1)d=s[o].match(/(from|to|color-stop)\(([0-9\.]+)?(?:,\s)?((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\)/),r=parseFloat(d[2]),"from"===d[1]&&(r=0),"to"===d[1]&&(r=1),n.colorStops.push({color:d[3],stop:r})
break
case"-moz-linear-gradient":if(n={type:"linear",x0:0,y0:0,x1:0,y1:0,colorStops:[]},s=a[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),s&&(n.x0=s[1]*t.width/100,n.y0=s[2]*t.height/100,n.x1=t.width-n.x0,n.y1=t.height-n.y0),s=a[3].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}%)?)+/g))for(l=s.length,c=1/Math.max(l-1,1),o=0;l>o;o+=1)d=s[o].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%)?/),d[2]?(r=parseFloat(d[2]),d[3]&&(r/=100)):r=o*c,n.colorStops.push({color:d[1],stop:r})
break
case"-webkit-radial-gradient":case"-moz-radial-gradient":case"-o-radial-gradient":if(n={type:"circle",x0:0,y0:0,x1:t.width,y1:t.height,cx:0,cy:0,rx:0,ry:0,colorStops:[]},s=a[2].match(/(\d{1,3})%?\s(\d{1,3})%?/),s&&(n.cx=s[1]*t.width/100,n.cy=s[2]*t.height/100),s=a[3].match(/\w+/),d=a[4].match(/[a-z\-]*/),s&&d)switch(d[0]){case"farthest-corner":case"cover":case"":u=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),f=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),p=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),h=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.max(u,f,p,h)
break
case"closest-corner":u=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.cy,2)),f=Math.sqrt(Math.pow(n.cx,2)+Math.pow(n.y1-n.cy,2)),p=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.y1-n.cy,2)),h=Math.sqrt(Math.pow(n.x1-n.cx,2)+Math.pow(n.cy,2)),n.rx=n.ry=Math.min(u,f,p,h)
break
case"farthest-side":"circle"===s[0]?n.rx=n.ry=Math.max(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=s[0],n.rx=Math.max(n.cx,n.x1-n.cx),n.ry=Math.max(n.cy,n.y1-n.cy))
break
case"closest-side":case"contain":"circle"===s[0]?n.rx=n.ry=Math.min(n.cx,n.cy,n.x1-n.cx,n.y1-n.cy):(n.type=s[0],n.rx=Math.min(n.cx,n.x1-n.cx),n.ry=Math.min(n.cy,n.y1-n.cy))}if(s=a[5].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\)(?:\s\d{1,3}(?:%|px))?)+/g))for(l=s.length,c=1/Math.max(l-1,1),o=0;l>o;o+=1)d=s[o].match(/((?:rgb|rgba)\(\d{1,3},\s\d{1,3},\s\d{1,3}(?:,\s[0-9\.]+)?\))\s*(\d{1,3})?(%|px)?/),d[2]?(r=parseFloat(d[2]),r/="%"===d[3]?100:t.width):r=o*c,n.colorStops.push({color:d[1],stop:r})}return n},o.Gradient=function(n,o){if(0!==o.width&&0!==o.height){var i,a,r=t.createElement("canvas"),s=r.getContext("2d")
if(r.width=o.width,r.height=o.height,i=u.Generate.parseGradient(n,o))switch(i.type){case"linear":a=s.createLinearGradient(i.x0,i.y0,i.x1,i.y1),i.colorStops.forEach(e(a)),s.fillStyle=a,s.fillRect(0,0,o.width,o.height)
break
case"circle":a=s.createRadialGradient(i.cx,i.cy,0,i.cx,i.cy,i.rx),i.colorStops.forEach(e(a)),s.fillStyle=a,s.fillRect(0,0,o.width,o.height)
break
case"ellipse":var l=t.createElement("canvas"),c=l.getContext("2d"),d=Math.max(i.rx,i.ry),f=2*d
l.width=l.height=f,a=c.createRadialGradient(i.rx,i.ry,0,i.rx,i.ry,d),i.colorStops.forEach(e(a)),c.fillStyle=a,c.fillRect(0,0,f,f),s.fillStyle=i.colorStops[i.colorStops.length-1].color,s.fillRect(0,0,r.width,r.height),s.drawImage(l,i.cx-i.rx,i.cy-i.ry,2*i.rx,2*i.ry)}return r}},o.ListAlpha=function(e){var t,n=""
do t=e%26,n=String.fromCharCode(t+64)+n,e/=26
while(26*e>26)
return n},o.ListRoman=function(e){var t,n=["M","CM","D","CD","C","XC","L","XL","X","IX","V","IV","I"],o=[1e3,900,500,400,100,90,50,40,10,9,5,4,1],i="",a=n.length
if(0>=e||e>=4e3)return e
for(t=0;a>t;t+=1)for(;e>=o[t];)e-=o[t],i+=n[t]
return i}}(),u.Parse=function(o,i){function a(){return Math.max(Math.max(fe.body.scrollWidth,fe.documentElement.scrollWidth),Math.max(fe.body.offsetWidth,fe.documentElement.offsetWidth),Math.max(fe.body.clientWidth,fe.documentElement.clientWidth))}function r(){return Math.max(Math.max(fe.body.scrollHeight,fe.documentElement.scrollHeight),Math.max(fe.body.offsetHeight,fe.documentElement.offsetHeight),Math.max(fe.body.clientHeight,fe.documentElement.clientHeight))}function c(e,t){var n=parseInt(ve(e,t),10)
return isNaN(n)?0:n}function d(e,t,n,o,i,a){"transparent"!==a&&(e.setVariable("fillStyle",a),e.fillRect(t,n,o,i),ue+=1)}function f(e,t,n){return e.length>0?t+n.toUpperCase():void 0}function p(e,t){switch(t){case"lowercase":return e.toLowerCase()
case"capitalize":return e.replace(/(^|\s|:|-|\(|\))([a-z])/g,f)
case"uppercase":return e.toUpperCase()
default:return e}}function h(e){return/^(normal|none|0px)$/.test(e)}function g(e,t,n,o){null!==e&&pe.trimText(e).length>0&&(o.fillText(e,t,n),ue+=1)}function m(e,t,n,o){var i=!1,a=ve(t,"fontWeight"),r=ve(t,"fontFamily"),s=ve(t,"fontSize"),l=pe.parseTextShadows(ve(t,"textShadow"))
switch(parseInt(a,10)){case 401:a="bold"
break
case 400:a="normal"}return e.setVariable("fillStyle",o),e.setVariable("font",[ve(t,"fontStyle"),ve(t,"fontVariant"),a,s,r].join(" ")),e.setVariable("textAlign",i?"right":"left"),l.length&&(e.setVariable("shadowColor",l[0].color),e.setVariable("shadowOffsetX",l[0].offsetX),e.setVariable("shadowOffsetY",l[0].offsetY),e.setVariable("shadowBlur",l[0].blur)),"none"!==n?pe.Font(r,s,fe):void 0}function v(e,t,n,o,i){switch(t){case"underline":d(e,n.left,Math.round(n.top+o.baseline+o.lineWidth),n.width,1,i)
break
case"overline":d(e,n.left,Math.round(n.top),n.width,1,i)
break
case"line-through":d(e,n.left,Math.ceil(n.top+o.middle+o.lineWidth),n.width,1,i)}}function y(e,t,n,o,i){var a
if(he.rangeBounds&&!i)("none"!==n||0!==pe.trimText(t).length)&&(a=b(t,e.node,e.textOffset)),e.textOffset+=t.length
else if(e.node&&"string"==typeof e.node.nodeValue){var r=o?e.node.splitText(t.length):null
a=k(e.node,i),e.node=r}return a}function b(e,t,n){var o=fe.createRange()
return o.setStart(t,n),o.setEnd(t,n+e.length),o.getBoundingClientRect()}function k(e,t){var n=e.parentNode,o=fe.createElement("wrapper"),i=e.cloneNode(!0)
o.appendChild(e.cloneNode(!0)),n.replaceChild(o,e)
var a=t?pe.OffsetBounds(o):pe.Bounds(o)
return n.replaceChild(i,o),a}function w(e,t,n){var o,a,r=n.ctx,s=ve(e,"color"),l=ve(e,"textDecoration"),c=ve(e,"textAlign"),d={node:t,textOffset:0}
pe.trimText(t.nodeValue).length>0&&(t.nodeValue=p(t.nodeValue,ve(e,"textTransform")),c=c.replace(["-webkit-auto"],["auto"]),a=t.nodeValue.split(!i.letterRendering&&/^(left|right|justify|auto)$/.test(c)&&h(ve(e,"letterSpacing"))?/(\b| )/:""),o=m(r,e,l,s),i.chinese&&a.forEach(function(e,t){/.*[\u4E00-\u9FA5].*$/.test(e)&&(e=e.split(""),e.unshift(t,1),a.splice.apply(a,e))}),a.forEach(function(e,t){var i=y(d,e,l,t<a.length-1,n.transform.matrix)
i&&(g(e,i.left,i.bottom,r),v(r,l,i,o,s))}))}function x(e,t){var n,o,i=fe.createElement("boundelement")
return i.style.display="inline",n=e.style.listStyleType,e.style.listStyleType="none",i.appendChild(fe.createTextNode(t)),e.insertBefore(i,e.firstChild),o=pe.Bounds(i),e.removeChild(i),e.style.listStyleType=n,o}function _(e){var t=-1,n=1,o=e.parentNode.childNodes
if(e.parentNode){for(;o[++t]!==e;)1===o[t].nodeType&&n++
return n}return-1}function T(e,t){var n,o=_(e)
switch(t){case"decimal":n=o
break
case"decimal-leading-zero":n=1===o.toString().length?o="0"+o.toString():o.toString()
break
case"upper-roman":n=u.Generate.ListRoman(o)
break
case"lower-roman":n=u.Generate.ListRoman(o).toLowerCase()
break
case"lower-alpha":n=u.Generate.ListAlpha(o).toLowerCase()
break
case"upper-alpha":n=u.Generate.ListAlpha(o)}return n+". "}function C(e,t,n){var o,i,a,r=t.ctx,s=ve(e,"listStyleType")
if(/^(decimal|decimal-leading-zero|upper-alpha|upper-latin|upper-roman|lower-alpha|lower-greek|lower-latin|lower-roman)$/i.test(s)){if(i=T(e,s),a=x(e,i),m(r,e,"none",ve(e,"color")),"inside"!==ve(e,"listStylePosition"))return
r.setVariable("textAlign","left"),o=n.left,g(i,o,a.bottom,r)}}function S(e){var t=o[e]
return t&&t.succeeded===!0?t.img:!1}function E(e,t){var n=Math.max(e.left,t.left),o=Math.max(e.top,t.top),i=Math.min(e.left+e.width,t.left+t.width),a=Math.min(e.top+e.height,t.top+t.height)
return{left:n,top:o,width:i-n,height:a-o}}function N(e,t,n){var o,i="static"!==t.cssPosition,a=i?ve(e,"zIndex"):"auto",r=ve(e,"opacity"),s="none"!==ve(e,"cssFloat")
t.zIndex=o=l(a),o.isPositioned=i,o.isFloated=s,o.opacity=r,o.ownStacking="auto"!==a||1>r,n&&n.zIndex.children.push(t)}function I(e,t,n,o,i){var a=c(t,"paddingLeft"),r=c(t,"paddingTop"),s=c(t,"paddingRight"),l=c(t,"paddingBottom")
q(e,n,0,0,n.width,n.height,o.left+a+i[3].width,o.top+r+i[0].width,o.width-(i[1].width+i[3].width+a+s),o.height-(i[0].width+i[2].width+r+l))}function O(e){return["Top","Right","Bottom","Left"].map(function(t){return{width:c(e,"border"+t+"Width"),color:ve(e,"border"+t+"Color")}})}function A(e){return["TopLeft","TopRight","BottomRight","BottomLeft"].map(function(t){return ve(e,"border"+t+"Radius")})}function R(e,t,n,o){var i=function(e,t,n){return{x:e.x+(t.x-e.x)*n,y:e.y+(t.y-e.y)*n}}
return{start:e,startControl:t,endControl:n,end:o,subdivide:function(a){var r=i(e,t,a),s=i(t,n,a),l=i(n,o,a),c=i(r,s,a),d=i(s,l,a),u=i(c,d,a)
return[R(e,r,c,u),R(u,d,l,o)]},curveTo:function(e){e.push(["bezierCurve",t.x,t.y,n.x,n.y,o.x,o.y])},curveToReversed:function(o){o.push(["bezierCurve",n.x,n.y,t.x,t.y,e.x,e.y])}}}function D(e,t,n,o,i,a,r){t[0]>0||t[1]>0?(e.push(["line",o[0].start.x,o[0].start.y]),o[0].curveTo(e),o[1].curveTo(e)):e.push(["line",a,r]),(n[0]>0||n[1]>0)&&e.push(["line",i[0].start.x,i[0].start.y])}function j(e,t,n,o,i,a,r){var s=[]
return t[0]>0||t[1]>0?(s.push(["line",o[1].start.x,o[1].start.y]),o[1].curveTo(s)):s.push(["line",e.c1[0],e.c1[1]]),n[0]>0||n[1]>0?(s.push(["line",a[0].start.x,a[0].start.y]),a[0].curveTo(s),s.push(["line",r[0].end.x,r[0].end.y]),r[0].curveToReversed(s)):(s.push(["line",e.c2[0],e.c2[1]]),s.push(["line",e.c3[0],e.c3[1]])),t[0]>0||t[1]>0?(s.push(["line",i[1].end.x,i[1].end.y]),i[1].curveToReversed(s)):s.push(["line",e.c4[0],e.c4[1]]),s}function L(e,t,n){var o=e.left,i=e.top,a=e.width,r=e.height,s=t[0][0],l=t[0][1],c=t[1][0],d=t[1][1],u=t[2][0],f=t[2][1],p=t[3][0],h=t[3][1],g=a-c,m=r-f,v=a-u,y=r-h
return{topLeftOuter:ke(o,i,s,l).topLeft.subdivide(.5),topLeftInner:ke(o+n[3].width,i+n[0].width,Math.max(0,s-n[3].width),Math.max(0,l-n[0].width)).topLeft.subdivide(.5),topRightOuter:ke(o+g,i,c,d).topRight.subdivide(.5),topRightInner:ke(o+Math.min(g,a+n[3].width),i+n[0].width,g>a+n[3].width?0:c-n[3].width,d-n[0].width).topRight.subdivide(.5),bottomRightOuter:ke(o+v,i+m,u,f).bottomRight.subdivide(.5),bottomRightInner:ke(o+Math.min(v,a+n[3].width),i+Math.min(m,r+n[0].width),Math.max(0,u-n[1].width),Math.max(0,f-n[2].width)).bottomRight.subdivide(.5),bottomLeftOuter:ke(o,i+y,p,h).bottomLeft.subdivide(.5),bottomLeftInner:ke(o+n[3].width,i+y,Math.max(0,p-n[3].width),Math.max(0,h-n[2].width)).bottomLeft.subdivide(.5)}}function H(e,t,n,o,i){var a=ve(e,"backgroundClip"),r=[]
switch(a){case"content-box":case"padding-box":D(r,o[0],o[1],t.topLeftInner,t.topRightInner,i.left+n[3].width,i.top+n[0].width),D(r,o[1],o[2],t.topRightInner,t.bottomRightInner,i.left+i.width-n[1].width,i.top+n[0].width),D(r,o[2],o[3],t.bottomRightInner,t.bottomLeftInner,i.left+i.width-n[1].width,i.top+i.height-n[2].width),D(r,o[3],o[0],t.bottomLeftInner,t.topLeftInner,i.left+n[3].width,i.top+i.height-n[2].width)
break
default:D(r,o[0],o[1],t.topLeftOuter,t.topRightOuter,i.left,i.top),D(r,o[1],o[2],t.topRightOuter,t.bottomRightOuter,i.left+i.width,i.top),D(r,o[2],o[3],t.bottomRightOuter,t.bottomLeftOuter,i.left+i.width,i.top+i.height),D(r,o[3],o[0],t.bottomLeftOuter,t.topLeftOuter,i.left,i.top+i.height)}return r}function M(e,t,n){var o,i,a,r,s,l,c=t.left,d=t.top,u=t.width,f=t.height,p=A(e),h=L(t,p,n),g={clip:H(e,h,n,p,t),borders:[]}
for(o=0;4>o;o++)if(n[o].width>0){switch(i=c,a=d,r=u,s=f-n[2].width,o){case 0:s=n[0].width,l=j({c1:[i,a],c2:[i+r,a],c3:[i+r-n[1].width,a+s],c4:[i+n[3].width,a+s]},p[0],p[1],h.topLeftOuter,h.topLeftInner,h.topRightOuter,h.topRightInner)
break
case 1:i=c+u-n[1].width,r=n[1].width,l=j({c1:[i+r,a],c2:[i+r,a+s+n[2].width],c3:[i,a+s],c4:[i,a+n[0].width]},p[1],p[2],h.topRightOuter,h.topRightInner,h.bottomRightOuter,h.bottomRightInner)
break
case 2:a=a+f-n[2].width,s=n[2].width,l=j({c1:[i+r,a+s],c2:[i,a+s],c3:[i+n[3].width,a],c4:[i+r-n[3].width,a]},p[2],p[3],h.bottomRightOuter,h.bottomRightInner,h.bottomLeftOuter,h.bottomLeftInner)
break
case 3:r=n[3].width,l=j({c1:[i,a+s+n[2].width],c2:[i,a],c3:[i+r,a+n[0].width],c4:[i+r,a+s]},p[3],p[0],h.bottomLeftOuter,h.bottomLeftInner,h.topLeftOuter,h.topLeftInner)}g.borders.push({args:l,color:n[o].color})}return g}function P(e,t){var n=e.drawShape()
return t.forEach(function(e,t){n[0===t?"moveTo":e[0]+"To"].apply(null,e.slice(1))}),n}function z(e,t,n){"transparent"!==n&&(e.setVariable("fillStyle",n),P(e,t),e.fill(),ue+=1)}function F(e,t,n){var o,i,a=fe.createElement("valuewrap"),r=["lineHeight","textAlign","fontFamily","color","fontSize","paddingLeft","paddingTop","width","height","border","borderLeftWidth","borderTopWidth"]
r.forEach(function(t){try{a.style[t]=ve(e,t)}catch(n){pe.log("html2canvas: Parse: Exception caught in renderFormValue: "+n.message)}}),a.style.borderColor="black",a.style.borderStyle="solid",a.style.display="block",a.style.position="absolute",(/^(submit|reset|button|text|password)$/.test(e.type)||"SELECT"===e.nodeName)&&(a.style.lineHeight=ve(e,"height")),a.style.top=t.top+"px",a.style.left=t.left+"px",o="SELECT"===e.nodeName?(e.options[e.selectedIndex]||0).text:e.value,o||(o=e.placeholder),i=fe.createTextNode(o),a.appendChild(i),me.appendChild(a),w(e,i,n),me.removeChild(a)}function q(e){e.drawImage.apply(e,Array.prototype.slice.call(arguments,1)),ue+=1}function U(n,o){var i=e.getComputedStyle(n,o)
if(i&&i.content&&"none"!==i.content&&"-moz-alt-content"!==i.content&&"none"!==i.display){var a=i.content+"",r=a.substr(0,1)
r===a.substr(a.length-1)&&r.match(/'|"/)&&(a=a.substr(1,a.length-2))
var s="url"===a.substr(0,3),l=t.createElement(s?"img":"span")
return l.className=ye+"-before "+ye+"-after",Object.keys(i).filter(W).forEach(function(e){try{l.style[e]=i[e]}catch(t){pe.log(["Tried to assign readonly property ",e,"Error:",t])}}),s?l.src=pe.parseBackgroundImage(a)[0].args[0]:l.innerHTML=a,l}}function W(t){return isNaN(e.parseInt(t,10))}function B(e,t){var n=U(e,":before"),o=U(e,":after");(n||o)&&(n&&(e.className+=" "+ye+"-before",e.parentNode.insertBefore(n,e),ae(n,t,!0),e.parentNode.removeChild(n),e.className=e.className.replace(ye+"-before","").trim()),o&&(e.className+=" "+ye+"-after",e.appendChild(o),ae(o,t,!0),e.removeChild(o),e.className=e.className.replace(ye+"-after","").trim()))}function $(e,t,n,o){var i=Math.round(o.left+n.left),a=Math.round(o.top+n.top)
e.createPattern(t),e.translate(i,a),e.fill(),e.translate(-i,-a)}function V(e,t,n,o,i,a,r,s){var l=[]
l.push(["line",Math.round(i),Math.round(a)]),l.push(["line",Math.round(i+r),Math.round(a)]),l.push(["line",Math.round(i+r),Math.round(s+a)]),l.push(["line",Math.round(i),Math.round(s+a)]),P(e,l),e.save(),e.clip(),$(e,t,n,o),e.restore()}function X(e,t,n){d(e,t.left,t.top,t.width,t.height,n)}function G(e,t,n,o,i){var a=pe.BackgroundSize(e,t,o,i),r=pe.BackgroundPosition(e,t,o,i,a),s=ve(e,"backgroundRepeat").split(",").map(pe.trimText)
switch(o=Y(o,a),s=s[i]||s[0]){case"repeat-x":V(n,o,r,t,t.left,t.top+r.top,99999,o.height)
break
case"repeat-y":V(n,o,r,t,t.left+r.left,t.top,o.width,99999)
break
case"no-repeat":V(n,o,r,t,t.left+r.left,t.top+r.top,o.width,o.height)
break
default:$(n,o,r,{top:t.top,left:t.left,width:o.width,height:o.height})}}function J(e,t,n){for(var o,i=ve(e,"backgroundImage"),a=pe.parseBackgroundImage(i),r=a.length;r--;)if(i=a[r],i.args&&0!==i.args.length){var s="url"===i.method?i.args[0]:i.value
o=S(s),o?G(e,t,n,o,r):pe.log("html2canvas: Error loading background:",i)}}function Y(e,t){if(e.width===t.width&&e.height===t.height)return e
var n,o=fe.createElement("canvas")
return o.width=t.width,o.height=t.height,n=o.getContext("2d"),q(n,e,0,0,e.width,e.height,0,0,t.width,t.height),o}function Q(e,t,n){return e.setVariable("globalAlpha",ve(t,"opacity")*(n?n.opacity:1))}function K(e){return e.replace("px","")}function Z(e,t){var n=ve(e,"transform")||ve(e,"-webkit-transform")||ve(e,"-moz-transform")||ve(e,"-ms-transform")||ve(e,"-o-transform"),o=ve(e,"transform-origin")||ve(e,"-webkit-transform-origin")||ve(e,"-moz-transform-origin")||ve(e,"-ms-transform-origin")||ve(e,"-o-transform-origin")||"0px 0px"
o=o.split(" ").map(K).map(pe.asFloat)
var i
if(n&&"none"!==n){var a=n.match(we)
if(a)switch(a[1]){case"matrix":i=a[2].split(",").map(pe.trimText).map(pe.asFloat)}}return{origin:o,matrix:i}}function ee(e,t,n,o){var l=s(t?n.width:a(),t?n.height:r()),c={ctx:l,opacity:Q(l,e,t),cssPosition:ve(e,"position"),borders:O(e),transform:o,clip:t&&t.clip?pe.Extend({},t.clip):null}
return N(e,c,t),i.useOverflow===!0&&/(hidden|scroll|auto)/.test(ve(e,"overflow"))===!0&&/(BODY)/i.test(e.nodeName)===!1&&(c.clip=c.clip?E(c.clip,n):n),c}function te(e,t,n){var o={left:t.left+e[3].width,top:t.top+e[0].width,width:t.width-(e[1].width+e[3].width),height:t.height-(e[0].width+e[2].width)}
return n&&(o=E(o,n)),o}function ne(e,t){var n=t.matrix?pe.OffsetBounds(e):pe.Bounds(e)
return t.origin[0]+=n.left,t.origin[1]+=n.top,n}function oe(e,t,n,o){var i,a=Z(e,t),r=ne(e,a),s=ee(e,t,r,a),l=s.borders,c=s.ctx,d=te(l,r,s.clip),u=M(e,r,l),f=ge.test(e.nodeName)?"#efefef":ve(e,"backgroundColor")
switch(P(c,u.clip),c.save(),c.clip(),d.height>0&&d.width>0&&!o?(X(c,r,f),J(e,d,c)):o&&(s.backgroundColor=f),c.restore(),u.borders.forEach(function(e){z(c,e.args,e.color)}),n||B(e,s),e.nodeName){case"IMG":(i=S(e.getAttribute("src")))?I(c,e,i,r,l):pe.log("html2canvas: Error loading <img>:"+e.getAttribute("src"))
break
case"INPUT":/^(text|url|email|submit|button|reset)$/.test(e.type)&&(e.value||e.placeholder||"").length>0&&F(e,r,s)
break
case"TEXTAREA":(e.value||e.placeholder||"").length>0&&F(e,r,s)
break
case"SELECT":(e.options||e.placeholder||"").length>0&&F(e,r,s)
break
case"LI":C(e,s,d)
break
case"CANVAS":I(c,e,e,r,l)}return s}function ie(e){return"none"!==ve(e,"display")&&"hidden"!==ve(e,"visibility")&&!e.hasAttribute("data-html2canvas-ignore")}function ae(e,t,n){ie(e)&&(t=oe(e,t,n,!1)||t,ge.test(e.nodeName)||re(e,t,n))}function re(e,t,n){pe.Children(e).forEach(function(o){o.nodeType===o.ELEMENT_NODE?ae(o,t,n):o.nodeType===o.TEXT_NODE&&w(e,o,t)})}function se(){var n=ve(t.documentElement,"backgroundColor"),o=pe.isTransparent(n)&&de===t.body,i=oe(de,null,!1,o)
return re(de,i),o&&(n=i.backgroundColor),e.scroll(ce,le),me.removeChild(be),{backgroundColor:n,stack:i}}var le=e.pageYOffset||t.documentElement.scrollTop,ce=e.pageXOffset||t.documentElement.scrollLeft
e.scroll(0,0)
var de=i.elements===n?t.body:i.elements[0],ue=0,fe=de.ownerDocument,pe=u.Util,he=pe.Support(i,fe),ge=new RegExp("("+i.ignoreElements+")"),me=fe.body,ve=pe.getCSS,ye="___html2canvas___pseudoelement",be=fe.createElement("style")
be.innerHTML="."+ye+'-before:before { content: "" !important; display: none !important; }.'+ye+'-after:after { content: "" !important; display: none !important; }',me.appendChild(be),o=o||{}
var ke=function(e){return function(t,n,o,i){var a=o*e,r=i*e,s=t+o,l=n+i
return{topLeft:R({x:t,y:l},{x:t,y:l-r},{x:s-a,y:n},{x:s,y:n}),topRight:R({x:t,y:n},{x:t+a,y:n},{x:s,y:l-r},{x:s,y:l}),bottomRight:R({x:s,y:n},{x:s,y:n+r},{x:t+a,y:l},{x:t,y:l}),bottomLeft:R({x:s,y:l},{x:s-a,y:l},{x:t,y:n+r},{x:t,y:n})}}}(4*((Math.sqrt(2)-1)/3)),we=/(matrix)\((.+)\)/
return se()},u.Preload=function(o){function i(e){S.href=e,S.href=S.href
var t=S.protocol+S.host
return t===g}function a(){k.log("html2canvas: start: images: "+b.numLoaded+" / "+b.numTotal+" (failed: "+b.numFailed+")"),!b.firstRun&&b.numLoaded>=b.numTotal&&(k.log("Finished loading images: # "+b.numTotal+" (failed: "+b.numFailed+")"),"function"==typeof o.complete&&o.complete(b))}function r(t,i,r){var s,l,c=o.proxy
S.href=t,t=S.href,s="html2canvas_"+w++,r.callbackname=s,c+=c.indexOf("?")>-1?"&":"?",c+="url="+encodeURIComponent(t)+"&callback="+s,l=_.createElement("script"),e[s]=function(t){"error:"===t.substring(0,6)?(r.succeeded=!1,b.numLoaded++,b.numFailed++,a()):(h(i,r),i.src=t),e[s]=n
try{delete e[s]}catch(o){}l.parentNode.removeChild(l),l=null,delete r.script,delete r.callbackname},l.setAttribute("type","text/javascript"),l.setAttribute("src",c),r.script=l,e.document.body.appendChild(l)}function s(t,n){var o=e.getComputedStyle(t,n),i=o.content
"url"===i.substr(0,3)&&m.loadImage(u.Util.parseBackgroundImage(i)[0].args[0]),f(o.backgroundImage,t)}function l(e){s(e,":before"),s(e,":after")}function c(e,t){var o=u.Generate.Gradient(e,t)
o!==n&&(b[e]={img:o,succeeded:!0},b.numTotal++,b.numLoaded++,a())}function d(e){return e&&e.method&&e.args&&e.args.length>0}function f(e,t){var o
u.Util.parseBackgroundImage(e).filter(d).forEach(function(e){"url"===e.method?m.loadImage(e.args[0]):e.method.match(/\-?gradient$/)&&(o===n&&(o=u.Util.Bounds(t)),c(e.value,o))})}function p(e){var t=!1
try{k.Children(e).forEach(p)}catch(o){}try{t=e.nodeType}catch(i){t=!1,k.log("html2canvas: failed to access some element's nodeType - Exception: "+i.message)}if(1===t||t===n){l(e)
try{f(k.getCSS(e,"backgroundImage"),e)}catch(o){k.log("html2canvas: failed to get background-image - Exception: "+o.message)}f(e)}}function h(t,i){t.onload=function(){i.timer!==n&&e.clearTimeout(i.timer),b.numLoaded++,i.succeeded=!0,t.onerror=t.onload=null,a()},t.onerror=function(){if("anonymous"===t.crossOrigin&&(e.clearTimeout(i.timer),o.proxy)){var n=t.src
return t=new Image,i.img=t,t.src=n,void r(t.src,t,i)}b.numLoaded++,b.numFailed++,i.succeeded=!1,t.onerror=t.onload=null,a()}}var g,m,v,y,b={numLoaded:0,numFailed:0,numTotal:0,cleanupDone:!1},k=u.Util,w=0,x=o.elements[0]||t.body,_=x.ownerDocument,T=x.getElementsByTagName("img"),C=T.length,S=_.createElement("a"),E=function(e){return e.crossOrigin!==n}(new Image)
for(S.href=e.location.href,g=S.protocol+S.host,m={loadImage:function(e){var t,a
e&&b[e]===n&&(t=new Image,e.match(/data:image\/.*;base64,/i)?(t.src=e.replace(/url\(['"]{0,}|['"]{0,}\)$/gi,""),a=b[e]={img:t},b.numTotal++,h(t,a)):i(e)||o.allowTaint===!0?(a=b[e]={img:t},b.numTotal++,h(t,a),t.src=e):E&&!o.allowTaint&&o.useCORS?(t.crossOrigin="anonymous",a=b[e]={img:t},b.numTotal++,h(t,a),t.src=e):o.proxy&&(a=b[e]={img:t},b.numTotal++,r(e,t,a)))},cleanupDOM:function(i){var r,s
if(!b.cleanupDone){k.log(i&&"string"==typeof i?"html2canvas: Cleanup because: "+i:"html2canvas: Cleanup after timeout: "+o.timeout+" ms.")
for(s in b)if(b.hasOwnProperty(s)&&(r=b[s],"object"==typeof r&&r.callbackname&&r.succeeded===n)){e[r.callbackname]=n
try{delete e[r.callbackname]}catch(l){}r.script&&r.script.parentNode&&(r.script.setAttribute("src","about:blank"),r.script.parentNode.removeChild(r.script)),b.numLoaded++,b.numFailed++,k.log("html2canvas: Cleaned up failed img: '"+s+"' Steps: "+b.numLoaded+" / "+b.numTotal)}e.stop!==n?e.stop():t.execCommand!==n&&t.execCommand("Stop",!1),t.close!==n&&t.close(),b.cleanupDone=!0,i&&"string"==typeof i||a()}},renderingDone:function(){y&&e.clearTimeout(y)}},o.timeout>0&&(y=e.setTimeout(m.cleanupDOM,o.timeout)),k.log("html2canvas: Preload starts: finding background-images"),b.firstRun=!0,p(x),k.log("html2canvas: Preload: Finding images"),v=0;C>v;v+=1)m.loadImage(T[v].getAttribute("src"))
return b.firstRun=!1,k.log("html2canvas: Preload: Done."),b.numTotal===b.numLoaded&&a(),m},u.Renderer=function(e,o){function i(e){function t(e){Object.keys(e).sort().forEach(function(n){var o=[],a=[],r=[],s=[]
e[n].forEach(function(e){e.node.zIndex.isPositioned||e.node.zIndex.opacity<1?r.push(e):e.node.zIndex.isFloated?a.push(e):o.push(e)}),function l(e){e.forEach(function(e){s.push(e),e.children&&l(e.children)})}(o.concat(a,r)),s.forEach(function(e){e.context?t(e.context):i.push(e.node)})})}var o,i=[]
return o=function(e){function t(e,o,i){var a="auto"===o.zIndex.zindex?0:Number(o.zIndex.zindex),r=e,s=o.zIndex.isPositioned,l=o.zIndex.isFloated,c={node:o},d=i
o.zIndex.ownStacking?(r=c.context={"!":[{node:o,children:[]}]},d=n):(s||l)&&(d=c.children=[]),0===a&&i?i.push(c):(e[a]||(e[a]=[]),e[a].push(c)),o.zIndex.children.forEach(function(e){t(r,e,d)})}var o={}
return t(o,e),o}(e),t(o),i}function a(e){var t
if("string"==typeof o.renderer&&u.Renderer[e]!==n)t=u.Renderer[e](o)
else{if("function"!=typeof e)throw new Error("Unknown renderer")
t=e(o)}if("function"!=typeof t)throw new Error("Invalid renderer defined")
return t}return a(o.renderer)(e,o,t,i(e.stack),u)},u.Util.Support=function(e,t){function o(){var e=new Image,o=t.createElement("canvas"),i=o.getContext===n?!1:o.getContext("2d")
if(i===!1)return!1
o.width=o.height=10,e.src=["data:image/svg+xml,","<svg xmlns='http://www.w3.org/2000/svg' width='10' height='10'>","<foreignObject width='10' height='10'>","<div xmlns='http://www.w3.org/1999/xhtml' style='width:10;height:10;'>","sup","</div>","</foreignObject>","</svg>"].join("")
try{i.drawImage(e,0,0),o.toDataURL()}catch(a){return!1}return u.Util.log("html2canvas: Parse: SVG powered rendering available"),!0}function i(){var e,n,o,i,a=!1
return t.createRange&&(e=t.createRange(),e.getBoundingClientRect&&(n=t.createElement("boundtest"),n.style.height="123px",n.style.display="block",t.body.appendChild(n),e.selectNode(n),o=e.getBoundingClientRect(),i=o.height,123===i&&(a=!0),t.body.removeChild(n))),a}return{rangeBounds:i(),svgRendering:e.svgRendering&&o()}},e.html2canvas=function(t,n){t=t.length?t:[t]
var o,i,a={logging:!1,elements:t,background:"#fff",proxy:null,timeout:0,useCORS:!1,allowTaint:!1,svgRendering:!1,ignoreElements:"IFRAME|OBJECT|PARAM",useOverflow:!0,letterRendering:!1,chinese:!1,width:null,height:null,taintTest:!0,renderer:"Canvas"}
return a=u.Util.Extend(n,a),u.logging=a.logging,a.complete=function(e){("function"!=typeof a.onpreloaded||a.onpreloaded(e)!==!1)&&(o=u.Parse(e,a),("function"!=typeof a.onparsed||a.onparsed(o)!==!1)&&(i=u.Renderer(o,a),"function"==typeof a.onrendered&&a.onrendered(i)))},e.setTimeout(function(){u.Preload(a)},0),{render:function(e,t){return u.Renderer(e,u.Util.Extend(t,a))},parse:function(e,t){return u.Parse(e,u.Util.Extend(t,a))},preload:function(e){return u.Preload(u.Util.Extend(e,a))},log:u.Util.log}},e.html2canvas.log=u.Util.log,e.html2canvas.Renderer={Canvas:n},u.Renderer.Canvas=function(e){function o(e,t){e.beginPath(),t.forEach(function(t){e[t.name].apply(e,t.arguments)}),e.closePath()}function i(e){if(-1===s.indexOf(e.arguments[0].src)){c.drawImage(e.arguments[0],0,0)
try{c.getImageData(0,0,1,1)}catch(t){return l=r.createElement("canvas"),c=l.getContext("2d"),!1}s.push(e.arguments[0].src)}return!0}function a(t,n){switch(n.type){case"variable":t[n.name]=n.arguments
break
case"function":switch(n.name){case"createPattern":if(n.arguments[0].width>0&&n.arguments[0].height>0)try{t.fillStyle=t.createPattern(n.arguments[0],"repeat")}catch(a){d.log("html2canvas: Renderer: Error creating pattern",a.message)}break
case"drawShape":o(t,n.arguments)
break
case"drawImage":n.arguments[8]>0&&n.arguments[7]>0&&(!e.taintTest||e.taintTest&&i(n))&&t.drawImage.apply(t,n.arguments)
break
default:t[n.name].apply(t,n.arguments)}}}e=e||{}
var r=t,s=[],l=t.createElement("canvas"),c=l.getContext("2d"),d=u.Util,f=e.canvas||r.createElement("canvas")
return function(e,t,o,i,r){var s,l,c,u=f.getContext("2d"),p=e.stack
return f.width=f.style.width=t.width||p.ctx.width,f.height=f.style.height=t.height||p.ctx.height,c=u.fillStyle,u.fillStyle=d.isTransparent(p.backgroundColor)&&t.background!==n?t.background:e.backgroundColor,u.fillRect(0,0,f.width,f.height),u.fillStyle=c,i.forEach(function(e){u.textBaseline="bottom",u.save(),e.transform.matrix&&(u.translate(e.transform.origin[0],e.transform.origin[1]),u.transform.apply(u,e.transform.matrix),u.translate(-e.transform.origin[0],-e.transform.origin[1])),e.clip&&(u.beginPath(),u.rect(e.clip.left,e.clip.top,e.clip.width,e.clip.height),u.clip()),e.ctx.storage&&e.ctx.storage.forEach(function(e){a(u,e)}),u.restore()}),d.log("html2canvas: Renderer: Canvas renderer done - returning canvas obj"),1===t.elements.length&&"object"==typeof t.elements[0]&&"BODY"!==t.elements[0].nodeName?(l=r.Util.Bounds(t.elements[0]),s=o.createElement("canvas"),s.width=Math.ceil(l.width),s.height=Math.ceil(l.height),u=s.getContext("2d"),u.drawImage(f,l.left,l.top,l.width,l.height,0,0,l.width,l.height),f=null,s):f}}}(window,document),function(e){var t=function(){var e=function(e){var t={data:[],heatmap:e}
this.max=1,this.get=function(e){return t[e]},this.set=function(e,n){t[e]=n}}
e.prototype={addDataPoint:function(e,t){if(!(0>e||0>t)){var n=this,o=n.get("heatmap"),i=n.get("data")
return i[e]||(i[e]=[]),i[e][t]||(i[e][t]=0),i[e][t]+=arguments.length<3?1:arguments[2],n.set("data",i),n.max<i[e][t]?(o.get("actx").clearRect(0,0,o.get("width"),o.get("height")),void n.setDataSet({max:i[e][t],data:i},!0)):void o.drawAlpha(e,t,i[e][t],!0)}},setDataSet:function(e,t){var n=this,o=n.get("heatmap"),i=[],a=e.data,r=a.length
if(o.clear(),this.max=e.max,o.get("legend")&&o.get("legend").update(e.max),null!=t&&t){for(var s in a)if(void 0!==s)for(var l in a[s])void 0!==l&&o.drawAlpha(s,l,a[s][l],!1)}else for(;r--;){var c=a[r]
o.drawAlpha(c.x,c.y,c.count,!1),i[c.x]||(i[c.x]=[]),i[c.x][c.y]||(i[c.x][c.y]=0),i[c.x][c.y]=c.count}o.colorize(),this.set("data",a)},exportDataSet:function(){var e=this,t=e.get("data"),n=[]
for(var o in t)if(void 0!==o)for(var i in t[o])void 0!==i&&n.push({x:parseInt(o,10),y:parseInt(i,10),count:t[o][i]})
return{max:e.max,data:n}},generateRandomDataSet:function(e){var t=this.get("heatmap"),n=t.get("width"),o=t.get("height"),i={},a=Math.floor(1e3*Math.random()+1)
i.max=a
for(var r=[];e--;)r.push({x:Math.floor(Math.random()*n+1),y:Math.floor(Math.random()*o+1),count:Math.floor(Math.random()*a+1)})
i.data=r,this.setDataSet(i)}}
var t=function(e){this.config=e
var t={element:null,labelsEl:null,gradientCfg:null,ctx:null}
this.get=function(e){return t[e]},this.set=function(e,n){t[e]=n},this.init()}
t.prototype={init:function(){var e,t,n=this,o=n.config,i=o.title||"Legend",a=o.position,r=o.offset||10,s=(o.gradient,document.createElement("ul")),l=""
n.processGradientObject(),l+=a.indexOf("t")>-1?"top:"+r+"px;":"bottom:"+r+"px;",l+=a.indexOf("l")>-1?"left:"+r+"px;":"right:"+r+"px;",e=document.createElement("div"),e.style.cssText="border-radius:5px;position:absolute;"+l+"font-family:Helvetica; width:256px;z-index:10000000000; background:rgba(255,255,255,1);padding:10px;border:1px solid black;margin:0;",e.innerHTML="<h3 style='padding:0;margin:0;text-align:center;font-size:16px;'>"+i+"</h3>",s.style.cssText="position:relative;font-size:12px;display:block;list-style:none;list-style-type:none;margin:0;height:15px;",t=document.createElement("div"),t.style.cssText=["position:relative;display:block;width:256px;height:15px;border-bottom:1px solid black; background-image:url(",n.createGradientImage(),");"].join(""),e.appendChild(s),e.appendChild(t),n.set("element",e),n.set("labelsEl",s),n.update(1)},processGradientObject:function(){var e=this,t=this.config.gradient,n=[]
for(var o in t)t.hasOwnProperty(o)&&n.push({stop:o,value:t[o]})
n.sort(function(e,t){return e.stop-t.stop}),n.unshift({stop:0,value:"rgba(0,0,0,0)"}),e.set("gradientArr",n)},createGradientImage:function(){var e,t=this,n=t.get("gradientArr"),o=n.length,i=document.createElement("canvas"),a=i.getContext("2d")
i.width="256",i.height="15",e=a.createLinearGradient(0,5,256,10)
for(var r=0;o>r;r++)e.addColorStop(1/(o-1)*r,n[r].value)
a.fillStyle=e,a.fillRect(0,5,256,10),a.strokeStyle="black",a.beginPath()
for(var r=0;o>r;r++)a.moveTo((1/(o-1)*r*256>>0)+.5,0),a.lineTo((1/(o-1)*r*256>>0)+.5,0==r?15:5)
return a.moveTo(255.5,0),a.lineTo(255.5,15),a.moveTo(255.5,4.5),a.lineTo(0,4.5),a.stroke(),t.set("ctx",a),i.toDataURL()},getElement:function(){return this.get("element")},update:function(e){for(var t,n,o=this,i=o.get("gradientArr"),a=o.get("ctx"),r=o.get("labelsEl"),s="",l=0;l<i.length;l++)t=e*i[l].stop>>0,n=a.measureText(t).width/2>>0,0==l&&(n=0),l==i.length-1&&(n*=2),s+='<li style="position:absolute;left:'+(((1/(i.length-1)*l*256||0)>>0)-n+.5)+'px">'+t+"</li>"
r.innerHTML=s}}
var n=function(t){var n={radius:40,element:{},canvas:{},acanvas:{},ctx:{},actx:{},legend:null,visible:!0,width:0,height:0,max:!1,gradient:!1,opacity:180,premultiplyAlpha:!1,bounds:{l:1e3,r:0,t:1e3,b:0},debug:!1}
this.store=new e(this),this.get=function(e){return n[e]},this.set=function(e,t){n[e]=t},this.configure(t),this.init()}
return n.prototype={configure:function(e){var n=this
if(n.set("radius",e.radius||40),n.set("element",e.element instanceof Object?e.element:document.getElementById(e.element)),n.set("visible",null!=e.visible?e.visible:!0),n.set("max",e.max||!1),n.set("gradient",e.gradient||{.45:"rgb(0,0,255)",.55:"rgb(0,255,255)",.65:"rgb(0,255,0)",.95:"yellow",1:"rgb(255,0,0)"}),n.set("opacity",parseInt(255/(100/e.opacity),10)||180),n.set("width",e.width||0),n.set("height",e.height||0),n.set("debug",e.debug),e.legend){var o=e.legend
o.gradient=n.get("gradient"),n.set("legend",new t(o))}},resize:function(){var e=this,t=e.get("element"),n=e.get("canvas"),o=e.get("acanvas")
n.width=o.width=e.get("width")||t.style.width.replace(/px/,"")||e.getWidth(t),this.set("width",n.width),n.height=o.height=e.get("height")||t.style.height.replace(/px/,"")||e.getHeight(t),this.set("height",n.height)},init:function(){var e=this,t=document.createElement("canvas"),n=document.createElement("canvas"),o=t.getContext("2d"),i=n.getContext("2d"),a=e.get("element")
e.initColorPalette(),e.set("canvas",t),e.set("ctx",o),e.set("acanvas",n),e.set("actx",i),e.resize(),t.style.cssText=n.style.cssText="position:absolute;top:0;left:0;z-index:10000000;",e.get("visible")||(t.style.display="none"),a.appendChild(t),e.get("legend")&&a.appendChild(e.get("legend").getElement()),e.get("debug")&&document.body.appendChild(n),i.shadowOffsetX=15e3,i.shadowOffsetY=15e3,i.shadowBlur=15},initColorPalette:function(){var e,t,n,o=this,i=document.createElement("canvas"),a=o.get("gradient")
i.width="1",i.height="256",e=i.getContext("2d"),t=e.createLinearGradient(0,0,1,256),n=e.getImageData(0,0,1,1),n.data[0]=n.data[3]=64,n.data[1]=n.data[2]=0,e.putImageData(n,0,0),n=e.getImageData(0,0,1,1),o.set("premultiplyAlpha",n.data[0]<60||n.data[0]>70)
for(var r in a)t.addColorStop(r,a[r])
e.fillStyle=t,e.fillRect(0,0,1,256),o.set("gradient",e.getImageData(0,0,1,256).data)},getWidth:function(e){var t=e.offsetWidth
return e.style.paddingLeft&&(t+=e.style.paddingLeft),e.style.paddingRight&&(t+=e.style.paddingRight),t},getHeight:function(e){var t=e.offsetHeight
return e.style.paddingTop&&(t+=e.style.paddingTop),e.style.paddingBottom&&(t+=e.style.paddingBottom),t},colorize:function(e,t){var n,o,i,a,r,s,l,c,d,u,f=this,p=f.get("width"),h=f.get("radius"),g=f.get("height"),m=f.get("actx"),v=f.get("ctx"),y=3*h,b=f.get("premultiplyAlpha"),k=f.get("gradient"),w=f.get("opacity"),x=f.get("bounds")
null!=e&&null!=t?(e+y>p&&(e=p-y),0>e&&(e=0),0>t&&(t=0),t+y>g&&(t=g-y),n=e,o=t,a=e+y,i=t+y):(n=x.l<0?0:x.l,a=x.r>p?p:x.r,o=x.t<0?0:x.t,i=x.b>g?g:x.b),r=m.getImageData(n,o,a-n,i-o),s=r.data,l=s.length
for(var _=3;l>_;_+=4)c=s[_],d=4*c,d&&(u=w>c?c:w,s[_-3]=k[d],s[_-2]=k[d+1],s[_-1]=k[d+2],b&&(s[_-3]/=255/u,s[_-2]/=255/u,s[_-1]/=255/u),s[_]=u)
r.data=s,v.putImageData(r,n,o)},drawAlpha:function(e,t,n,o){var i=this,a=i.get("radius"),r=i.get("actx"),s=(i.get("max"),i.get("bounds")),l=e-1.5*a>>0,c=t-1.5*a>>0,d=e+1.5*a>>0,u=t+1.5*a>>0
r.shadowColor="rgba(0,0,0,"+(n?n/i.store.max:"0.1")+")",r.shadowOffsetX=15e3,r.shadowOffsetY=15e3,r.shadowBlur=15,r.beginPath(),r.arc(e-15e3,t-15e3,a,0,2*Math.PI,!0),r.closePath(),r.fill(),o?i.colorize(l,c):(l<s.l&&(s.l=l),c<s.t&&(s.t=c),d>s.r&&(s.r=d),u>s.b&&(s.b=u))},showMap:function(){var e=this,t=(e.get("visible"),e.get("canvas"))
t.style.display="block",e.set("visible",!0)},hideMap:function(){var e=this,t=(e.get("visible"),e.get("canvas"))
t.style.display="none",e.set("visible",!1)},toggleDisplay:function(){var e=this,t=e.get("visible"),n=e.get("canvas")
t?n.style.display="none":n.style.display="block",e.set("visible",!t)},getImageData:function(){return this.get("canvas").toDataURL()},clear:function(){var e=this,t=e.get("width"),n=e.get("height")
e.store.set("data",[]),e.store.max=1,e.get("ctx").clearRect(0,0,t,n),e.get("actx").clearRect(0,0,t,n)},cleanup:function(){var e=this
e.get("element").removeChild(e.get("canvas"))}},{create:function(e){return new n(e)},util:{mousePosition:function(e){var t,n
return e.layerX?(t=e.layerX,n=e.layerY):e.offsetX&&(t=e.offsetX,n=e.offsetY),"undefined"!=typeof t?[t,n]:void 0}}}}()
e.fkHeatmapFactory=t}(window)
;
